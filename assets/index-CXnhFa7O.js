(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},sc={};var Kx;function O_(){if(Kx)return sc;Kx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:t,type:i,key:f,ref:o!==void 0?o:null,props:u}}return sc.Fragment=e,sc.jsx=n,sc.jsxs=n,sc}var Zx;function R_(){return Zx||(Zx=1,m0.exports=O_()),m0.exports}var l=R_(),g0={exports:{}},Je={};var Qx;function L_(){if(Qx)return Je;Qx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function j(Q){return Q===null||typeof Q!="object"?null:(Q=T&&Q[T]||Q["@@iterator"],typeof Q=="function"?Q:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function F(Q,ge,je){this.props=Q,this.context=ge,this.refs=B,this.updater=je||M}F.prototype.isReactComponent={},F.prototype.setState=function(Q,ge){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ge,"setState")},F.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function H(){}H.prototype=F.prototype;function G(Q,ge,je){this.props=Q,this.context=ge,this.refs=B,this.updater=je||M}var K=G.prototype=new H;K.constructor=G,k(K,F.prototype),K.isPureReactComponent=!0;var $=Array.isArray;function te(){}var Y={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function q(Q,ge,je){var Me=je.ref;return{$$typeof:t,type:Q,key:ge,ref:Me!==void 0?Me:null,props:je}}function we(Q,ge){return q(Q.type,ge,Q.props)}function Ae(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function me(Q){var ge={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(je){return ge[je]})}var Re=/\/+/g;function et(Q,ge){return typeof Q=="object"&&Q!==null&&Q.key!=null?me(""+Q.key):ge.toString(36)}function ie(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(te,te):(Q.status="pending",Q.then(function(ge){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ge)},function(ge){Q.status==="pending"&&(Q.status="rejected",Q.reason=ge)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function se(Q,ge,je,Me,qe){var Ne=typeof Q;(Ne==="undefined"||Ne==="boolean")&&(Q=null);var bt=!1;if(Q===null)bt=!0;else switch(Ne){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(Q.$$typeof){case t:case e:bt=!0;break;case N:return bt=Q._init,se(bt(Q._payload),ge,je,Me,qe)}}if(bt)return qe=qe(Q),bt=Me===""?"."+et(Q,0):Me,$(qe)?(je="",bt!=null&&(je=bt.replace(Re,"$&/")+"/"),se(qe,ge,je,"",function(rs){return rs})):qe!=null&&(Ae(qe)&&(qe=we(qe,je+(qe.key==null||Q&&Q.key===qe.key?"":(""+qe.key).replace(Re,"$&/")+"/")+bt)),ge.push(qe)),1;bt=0;var wt=Me===""?".":Me+":";if($(Q))for(var qt=0;qt<Q.length;qt++)Me=Q[qt],Ne=wt+et(Me,qt),bt+=se(Me,ge,je,Ne,qe);else if(qt=j(Q),typeof qt=="function")for(Q=qt.call(Q),qt=0;!(Me=Q.next()).done;)Me=Me.value,Ne=wt+et(Me,qt++),bt+=se(Me,ge,je,Ne,qe);else if(Ne==="object"){if(typeof Q.then=="function")return se(ie(Q),ge,je,Me,qe);throw ge=String(Q),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return bt}function fe(Q,ge,je){if(Q==null)return Q;var Me=[],qe=0;return se(Q,Me,"","",function(Ne){return ge.call(je,Ne,qe++)}),Me}function Le(Q){if(Q._status===-1){var ge=Q._result;ge=ge(),ge.then(function(je){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=je)},function(je){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=je)}),Q._status===-1&&(Q._status=0,Q._result=ge)}if(Q._status===1)return Q._result.default;throw Q._result}var Ge=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},$e={map:fe,forEach:function(Q,ge,je){fe(Q,function(){ge.apply(this,arguments)},je)},count:function(Q){var ge=0;return fe(Q,function(){ge++}),ge},toArray:function(Q){return fe(Q,function(ge){return ge})||[]},only:function(Q){if(!Ae(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return Je.Activity=A,Je.Children=$e,Je.Component=F,Je.Fragment=n,Je.Profiler=o,Je.PureComponent=G,Je.StrictMode=i,Je.Suspense=w,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Je.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return Y.H.useMemoCache(Q)}},Je.cache=function(Q){return function(){return Q.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(Q,ge,je){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var Me=k({},Q.props),qe=Q.key;if(ge!=null)for(Ne in ge.key!==void 0&&(qe=""+ge.key),ge)!ne.call(ge,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ge.ref===void 0||(Me[Ne]=ge[Ne]);var Ne=arguments.length-2;if(Ne===1)Me.children=je;else if(1<Ne){for(var bt=Array(Ne),wt=0;wt<Ne;wt++)bt[wt]=arguments[wt+2];Me.children=bt}return q(Q.type,qe,Me)},Je.createContext=function(Q){return Q={$$typeof:f,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:u,_context:Q},Q},Je.createElement=function(Q,ge,je){var Me,qe={},Ne=null;if(ge!=null)for(Me in ge.key!==void 0&&(Ne=""+ge.key),ge)ne.call(ge,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(qe[Me]=ge[Me]);var bt=arguments.length-2;if(bt===1)qe.children=je;else if(1<bt){for(var wt=Array(bt),qt=0;qt<bt;qt++)wt[qt]=arguments[qt+2];qe.children=wt}if(Q&&Q.defaultProps)for(Me in bt=Q.defaultProps,bt)qe[Me]===void 0&&(qe[Me]=bt[Me]);return q(Q,Ne,qe)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(Q){return{$$typeof:p,render:Q}},Je.isValidElement=Ae,Je.lazy=function(Q){return{$$typeof:N,_payload:{_status:-1,_result:Q},_init:Le}},Je.memo=function(Q,ge){return{$$typeof:y,type:Q,compare:ge===void 0?null:ge}},Je.startTransition=function(Q){var ge=Y.T,je={};Y.T=je;try{var Me=Q(),qe=Y.S;qe!==null&&qe(je,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(te,Ge)}catch(Ne){Ge(Ne)}finally{ge!==null&&je.types!==null&&(ge.types=je.types),Y.T=ge}},Je.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Je.use=function(Q){return Y.H.use(Q)},Je.useActionState=function(Q,ge,je){return Y.H.useActionState(Q,ge,je)},Je.useCallback=function(Q,ge){return Y.H.useCallback(Q,ge)},Je.useContext=function(Q){return Y.H.useContext(Q)},Je.useDebugValue=function(){},Je.useDeferredValue=function(Q,ge){return Y.H.useDeferredValue(Q,ge)},Je.useEffect=function(Q,ge){return Y.H.useEffect(Q,ge)},Je.useEffectEvent=function(Q){return Y.H.useEffectEvent(Q)},Je.useId=function(){return Y.H.useId()},Je.useImperativeHandle=function(Q,ge,je){return Y.H.useImperativeHandle(Q,ge,je)},Je.useInsertionEffect=function(Q,ge){return Y.H.useInsertionEffect(Q,ge)},Je.useLayoutEffect=function(Q,ge){return Y.H.useLayoutEffect(Q,ge)},Je.useMemo=function(Q,ge){return Y.H.useMemo(Q,ge)},Je.useOptimistic=function(Q,ge){return Y.H.useOptimistic(Q,ge)},Je.useReducer=function(Q,ge,je){return Y.H.useReducer(Q,ge,je)},Je.useRef=function(Q){return Y.H.useRef(Q)},Je.useState=function(Q){return Y.H.useState(Q)},Je.useSyncExternalStore=function(Q,ge,je){return Y.H.useSyncExternalStore(Q,ge,je)},Je.useTransition=function(){return Y.H.useTransition()},Je.version="19.2.4",Je}var Jx;function dm(){return Jx||(Jx=1,g0.exports=L_()),g0.exports}var O=dm();const Z0=Ny(O);var x0={exports:{}},ic={},p0={exports:{}},y0={};var $x;function B_(){return $x||($x=1,(function(t){function e(se,fe){var Le=se.length;se.push(fe);e:for(;0<Le;){var Ge=Le-1>>>1,$e=se[Ge];if(0<o($e,fe))se[Ge]=fe,se[Le]=$e,Le=Ge;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var fe=se[0],Le=se.pop();if(Le!==fe){se[0]=Le;e:for(var Ge=0,$e=se.length,Q=$e>>>1;Ge<Q;){var ge=2*(Ge+1)-1,je=se[ge],Me=ge+1,qe=se[Me];if(0>o(je,Le))Me<$e&&0>o(qe,je)?(se[Ge]=qe,se[Me]=Le,Ge=Me):(se[Ge]=je,se[ge]=Le,Ge=ge);else if(Me<$e&&0>o(qe,Le))se[Ge]=qe,se[Me]=Le,Ge=Me;else break e}}return fe}function o(se,fe){var Le=se.sortIndex-fe.sortIndex;return Le!==0?Le:se.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var w=[],y=[],N=1,A=null,T=3,j=!1,M=!1,k=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function K(se){for(var fe=n(y);fe!==null;){if(fe.callback===null)i(y);else if(fe.startTime<=se)i(y),fe.sortIndex=fe.expirationTime,e(w,fe);else break;fe=n(y)}}function $(se){if(k=!1,K(se),!M)if(n(w)!==null)M=!0,te||(te=!0,me());else{var fe=n(y);fe!==null&&ie($,fe.startTime-se)}}var te=!1,Y=-1,ne=5,q=-1;function we(){return B?!0:!(t.unstable_now()-q<ne)}function Ae(){if(B=!1,te){var se=t.unstable_now();q=se;var fe=!0;try{e:{M=!1,k&&(k=!1,H(Y),Y=-1),j=!0;var Le=T;try{t:{for(K(se),A=n(w);A!==null&&!(A.expirationTime>se&&we());){var Ge=A.callback;if(typeof Ge=="function"){A.callback=null,T=A.priorityLevel;var $e=Ge(A.expirationTime<=se);if(se=t.unstable_now(),typeof $e=="function"){A.callback=$e,K(se),fe=!0;break t}A===n(w)&&i(w),K(se)}else i(w);A=n(w)}if(A!==null)fe=!0;else{var Q=n(y);Q!==null&&ie($,Q.startTime-se),fe=!1}}break e}finally{A=null,T=Le,j=!1}fe=void 0}}finally{fe?me():te=!1}}}var me;if(typeof G=="function")me=function(){G(Ae)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,et=Re.port2;Re.port1.onmessage=Ae,me=function(){et.postMessage(null)}}else me=function(){F(Ae,0)};function ie(se,fe){Y=F(function(){se(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(se){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var Le=T;T=fe;try{return se()}finally{T=Le}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Le=T;T=se;try{return fe()}finally{T=Le}},t.unstable_scheduleCallback=function(se,fe,Le){var Ge=t.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?Ge+Le:Ge):Le=Ge,se){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Le+$e,se={id:N++,callback:fe,priorityLevel:se,startTime:Le,expirationTime:$e,sortIndex:-1},Le>Ge?(se.sortIndex=Le,e(y,se),n(w)===null&&se===n(y)&&(k?(H(Y),Y=-1):k=!0,ie($,Le-Ge))):(se.sortIndex=$e,e(w,se),M||j||(M=!0,te||(te=!0,me()))),se},t.unstable_shouldYield=we,t.unstable_wrapCallback=function(se){var fe=T;return function(){var Le=T;T=fe;try{return se.apply(this,arguments)}finally{T=Le}}}})(y0)),y0}var ep;function P_(){return ep||(ep=1,p0.exports=B_()),p0.exports}var b0={exports:{}},Qn={};var tp;function z_(){if(tp)return Qn;tp=1;var t=dm();function e(w){var y="https://react.dev/errors/"+w;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)y+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+w+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(w,y,N){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:w,containerInfo:y,implementation:N}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(w,y){if(w==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qn.createPortal=function(w,y){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!== "9"&&y.nodeType!==11)throw Error(e(299));return u(w,y,null,N)},Qn.flushSync=function(w){var y=f.T,N=i.p;try{if(f.T=null,i.p=2,w)return w()}finally{f.T=y,i.p=N,i.d.f()}},Qn.preconnect=function(w,y){typeof w=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(w,y))},Qn.prefetchDNS=function(w){typeof w=="string"&&i.d.D(w)},Qn.preinit=function(w,y){if(typeof w=="string"&&y&&typeof y.as=="string"){var N=y.as,A=p(N,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;N==="style"?i.d.S(w,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:j}):N==="script"&&i.d.X(w,{crossOrigin:A,integrity:T,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qn.preinitModule=function(w,y){if(typeof w=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var N=p(y.as,y.crossOrigin);i.d.M(w,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(w)},Qn.preload=function(w,y){if(typeof w=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var N=y.as,A=p(N,y.crossOrigin);i.d.L(w,N,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qn.preloadModule=function(w,y){if(typeof w=="string")if(y){var N=p(y.as,y.crossOrigin);i.d.m(w,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(w)},Qn.requestFormReset=function(w){i.d.r(w)},Qn.unstable_batchedUpdates=function(w,y){return w(y)},Qn.useFormState=function(w,y,N){return f.H.useFormState(w,y,N)},Qn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qn.version="19.2.4",Qn}var np;function F_(){if(np)return b0.exports;np=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b0.exports=z_(),b0.exports}var ap;function U_(){if(ap)return ic;ap=1;var t=P_(),e=dm(),n=F_();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)r+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!=="9"&&a.nodeType!==11)}function u(a){var r=a,h=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(h=r.return),a=r.return;while(a)}return r.tag===3?h:null}function f(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function p(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function w(a){if(u(a)!==a)throw Error(i(188))}function y(a){var r=a.alternate;if(!r){if(r=u(a),r===null)throw Error(i(188));return r!==a?null:a}for(var h=a,x=r;;){var v=h.return;if(v===null)break;var C=v.alternate;if(C===null){if(x=v.return,x!==null){h=x;continue}break}if(v.child===C.child){for(C=v.child;C;){if(C===h)return w(v),a;if(C===x)return w(v),r;C=C.sibling}throw Error(i(188))}if(h.return!==x.return)h=v,x=C;else{for(var I=!1,z=v.child;z;){if(z===h){I=!0,h=v,x=C;break}if(z===x){I=!0,x=v,h=C;break}z=z.sibling}if(!I){for(z=C.child;z;){if(z===h){I=!0,h=C,x=v;break}if(z===x){I=!0,x=C,h=v;break}z=z.sibling}if(!I)throw Error(i(189))}}if(h.alternate!==x)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:r}function N(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=N(a),r!==null)return r;a=a.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function me(a){return a===null||typeof a!="object"?null:(a=Ae&&a[Ae]||a["@@iterator"],typeof a=="function"?a:null)}var Re=Symbol.for("react.client.reference");function et(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Re?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case F:return"Profiler";case B:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case M:return"Portal";case G:return a.displayName||"Context";case H:return(a._context.displayName||"Context")+".Consumer";case K:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Y:return r=a.displayName||null,r!==null?r:et(a.type)||"Memo";case ne:r=a._payload,a=a._init;try{return et(a(r))}catch{}}return null}var ie=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},Ge=[],$e=-1;function Q(a){return{current:a}}function ge(a){0>$e||(a.current=Ge[$e],Ge[$e]=null,$e--)}function je(a,r){$e++,Ge[$e]=a.current,a.current=r}var Me=Q(null),qe=Q(null),Ne=Q(null),bt=Q(null);function wt(a,r){switch(je(Ne,r),je(qe,a),je(Me,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?yx(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=yx(r),a=bx(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ge(Me),je(Me,a)}function qt(){ge(Me),ge(qe),ge(Ne)}function rs(a){a.memoizedState!==null&&je(bt,a);var r=Me.current,h=bx(r,a.type);r!==h&&(je(qe,a),je(Me,h))}function In(a){qe.current===a&&(ge(Me),ge(qe)),bt.current===a&&(ge(bt),ec._currentValue=Le)}var Ai,_t;function ca(a){if(Ai===void 0)try{throw Error()}catch(h){var r=h.stack.trim().match(/\n( *(at )?)/);Ai=r&&r[1]||"",_t=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ai+a+_t}var ua=!1;function Vs(a,r){if(!a||ua)return"";ua=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(r){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(he){var ce=he}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(he){ce=he}a.call(ye.prototype)}}else{try{throw Error()}catch(he){ce=he}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(he){if(he&&ce&&typeof he.stack=="string")return[he.stack,ce.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),I=C[0],z=C[1];if(I&&z){var W=I.split(`
`),oe=z.split(`
`);for(v=x=0;x<W.length&&!W[x].includes("DetermineComponentFrameRoot");)x++;for(;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;if(x===W.length||v===oe.length)for(x=W.length-1,v=oe.length-1;1<=x&&0<=v&&W[x]!==oe[v];)v--;for(;1<=x&&0<=v;x--,v--)if(W[x]!==oe[v]){if(x!==1||v!==1)do if(x--,v--,0>v||W[x]!==oe[v]){var xe=`
`+W[x].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=x&&0<=v);break}}}finally{ua=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?ca(h):""}function On(a,r){switch(a.tag){case 26:case 27:case 5:return ca(a.type);case 16:return ca("Lazy");case 13:return a.child!==r&&r!==null?ca("Suspense Fallback"):ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return Vs(a.type,!1);case 11:return Vs(a.type.render,!1);case 1:return Vs(a.type,!0);case 31:return ca("Activity");default:return""}}function Ot(a){try{var r="",h=null;do r+=On(a,h),h=a,a=a.return;while(a);return r}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var ot=Object.prototype.hasOwnProperty,Si=t.unstable_scheduleCallback,Be=t.unstable_cancelCallback,sl=t.unstable_shouldYield,qc=t.unstable_requestPaint,un=t.unstable_now,uo=t.unstable_getCurrentPriorityLevel,da=t.unstable_ImmediatePriority,ho=t.unstable_UserBlockingPriority,Aa=t.unstable_NormalPriority,Yn=t.unstable_LowPriority,fo=t.unstable_IdlePriority,il=t.log,yh=t.unstable_setDisableYieldValue,$t=null,Ee=null;function Vt(a){if(typeof il=="function"&&yh(a),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode($t,a)}catch{}}var nt=Math.clz32?Math.clz32:mo,rn=Math.log,wr=Math.LN2;function mo(a){return a>>>=0,a===0?32:31-(rn(a)/wr|0)|0}var _r=256,ht=262144,Ha=4194304;function ws(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function vr(a,r,h){var x=a.pendingLanes;if(x===0)return 0;var v=0,C=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var z=x&134217727;return z!==0?(x=z&~C,x!==0?v=ws(x):(I&=z,I!==0?v=ws(I):h||(h=z&~a,h!==0&&(v=ws(h))))):(z=x&~C,z!==0?v=ws(z):I!==0?v=ws(I):h||(h=x&~a,h!==0&&(v=ws(h)))),v===0?0:r!==0&&r!==v&&(r&C)===0&&(C=v&-v,h=r&-r,C>=h||C===32&&(h&4194048)!==0)?r:v}function Gn(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function go(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var a=Ha;return Ha<<=1,(Ha&62914560)===0&&(Ha=4194304),a}function _s(a){for(var r=[],h=0;31>h;h++)r.push(a);return r}function vs(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Va(a,r,h,x,v,C){var I=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var z=a.entanglements,W=a.expirationTimes,oe=a.hiddenUpdates;for(h=I&~h;0<h;){var xe=31-nt(h),ye=1<<xe;z[xe]=0,W[xe]=-1;var ce=oe[xe];if(ce!==null)for(oe[xe]=null,xe=0;xe<ce.length;xe++){var he=ce[xe];he!==null&&(he.lane&=-536870913)}h&=~ye}x!==0&&Kc(a,x,0),C!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=C&~(I&~r))}function Kc(a,r,h){a.pendingLanes|=r,a.suspendedLanes&=~r;var x=31-nt(r);a.entangledLanes|=r,a.entanglements[x]=a.entanglements[x]|1073741824|h&261930}function Ns(a,r){var h=a.entangledLanes|=r;for(a=a.entanglements;h;){var x=31-nt(h),v=1<<x;v&r|a[x]&r&&(a[x]|=r),h&=~v}}function rl(a,r){var h=r&-r;return h=(h&42)!==0?1:Hn(h),(h&(a.suspendedLanes|r))!==0?0:h}function Hn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ls(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function na(){var a=fe.p;return a!==0?a:(a=window.event,a===void 0?32:Hx(a.type))}function Ie(a,r){var h=fe.p;try{return fe.p=a,r()}finally{fe.p=h}}var aa=Math.random().toString(36).slice(2),bn="__reactFiber$"+aa,Rt="__reactProps$"+aa,Sa="__reactContainer$"+aa,Ci="__reactEvents$"+aa,ll="__reactListeners$"+aa,Ya="__reactHandles$"+aa,Zc="__reactResources$"+aa,Nr="__reactMarker$"+aa;function ha(a){delete a[bn],delete a[Rt],delete a[Ci],delete a[ll],delete a[Ya]}function fn(a){var r=a[bn];if(r)return r;for(var h=a.parentNode;h;){if(r=h[Sa]||h[bn]){if(h=r.alternate,r.child!==null||h!==null&&h.child!==null)for(a=Cx(a);a!==null;){if(h=a[bn])return h;a=Cx(a)}return r}a=h,h=a.parentNode}return null}function Et(a){if(a=a[bn]||a[Sa]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function Ei(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function sa(a){var r=a[Zc];return r||(r=a[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mn(a){a[Nr]=!0}var be=new Set,Qc={};function Mt(a,r){Ca(a,r),Ca(a+"Capture",r)}function Ca(a,r){for(Qc[a]=r,a=0;a<r.length;a++)be.add(r[a])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nt={},vt={};function ct(a){return ot.call(vt,a)?!0:ot.call(Nt,a)?!1:bh.test(a)?vt[a]=!0:(Nt[a]=!0,!1)}function Ti(a,r,h){if(ct(r))if(h===null)a.removeAttribute(r);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var x=r.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+h)}}function ji(a,r,h){if(h===null)a.removeAttribute(r);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+h)}}function Ea(a,r,h,x){if(x===null)a.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(r,h,""+x)}}function At(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function os(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wh(a,r,h){var x=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var v=x.get,C=x.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return v.call(this)},set:function(I){h=""+I,C.call(this,I)}}),Object.defineProperty(a,r,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function en(a){if(!a._valueTracker){var r=os(a)?"checked":"value";a._valueTracker=wh(a,r,""+a[r])}}function cs(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var h=r.getValue(),x="";return a&&(x=os(a)?a.checked?"true":"false":a.value),a=x,a!==h?(r.setValue(a),!0):!1}function ol(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Mi=/[\n"\\]/g;function lt(a){return a.replace(Mi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sn(a,r,h,x,v,C,I,z){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),r!=null?I==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+At(r)):a.value!==""+At(r)&&(a.value=""+At(r)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),r!=null?U(a,I,At(r)):h!=null?U(a,I,At(h)):x!=null&&a.removeAttribute("value"),v==null&&C!=null&&(a.defaultChecked=!!C),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.name=""+At(z):a.removeAttribute("name")}function re(a,r,h,x,v,C,I,z){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),r!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||r!=null)){en(a);return}h=h!=null?""+At(h):"",r=r!=null?""+At(r):h,z||r===a.value||(a.value=r),a.defaultValue=r}x=x??v,x=typeof x!="function"&&typeof x!="symbol"&&!!x,a.checked=z?a.checked:!!x,a.defaultChecked=!!x,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),en(a)}function U(a,r,h){r==="number"&&ol(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ze(a,r,h,x){if(a=a.options,r){r={};for(var v=0;v<h.length;v++)r["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=r.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&x&&(a[h].defaultSelected=!0)}else{for(h=""+At(h),r=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,x&&(a[v].defaultSelected=!0);return}r!==null||a[v].disabled||(r=a[v])}r!==null&&(r.selected=!0)}}function wn(a,r,h){if(r!=null&&(r=""+At(r),r!==a.value&&(a.value=r),h==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=h!=null?""+At(h):""}function ia(a,r,h,x){if(r==null){if(x!=null){if(h!=null)throw Error(i(92));if(ie(x)){if(1<x.length)throw Error(i(93));x=x[0]}h=x}h==null&&(h=""),r=h}h=At(r),a.defaultValue=h,x=a.textContent,x===h&&x!==""&&x!==null&&(a.value=x),en(a)}function Di(a,r){if(r){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=r;return}}a.textContent=r}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ra(a,r,h){var x=r.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":x?a.setProperty(r,h):typeof h!="number"||h===0||xo.has(r)?r==="float"?a.cssFloat=h:a[r]=(""+h).trim():a[r]=h+"px"}function Ve(a,r,h){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||r!=null&&r.hasOwnProperty(x)||(x.indexOf("--")===0?a.setProperty(x,""):x==="float"?a.cssFloat="":a[x]="");for(var v in r)x=r[v],r.hasOwnProperty(v)&&h[v]!==x&&ra(a,v,x)}else for(var C in r)r.hasOwnProperty(C)&&ra(a,C,r[C])}function Kt(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ki(a){return _h.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function fa(){}var Ar=null;function po(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var tn=null,Ga=null;function us(a){var r=Et(a);if(r&&(a=r.stateNode)){var h=a[Rt]||null;e:switch(a=r.stateNode,r.type){case"input":if(Sn(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),r=h.name,h.type==="radio"&&r!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+lt(""+r)+'"][type="radio"]'),r=0;r<h.length;r++){var x=h[r];if(x!==a&&x.form===a.form){var v=x[Rt]||null;if(!v)throw Error(i(90));Sn(x,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<h.length;r++)x=h[r],x.form===a.form&&cs(x)}break e;case"textarea":wn(a,h.value,h.defaultValue);break e;case"select":r=h.value,r!=null&&ze(a,!!h.multiple,r,!1)}}}var We=!1;function $c(a,r,h){if(We)return a(r,h);We=!0;try{var x=a(r);return x}finally{if(We=!1,(tn!==null||Ga!==null)&&(Yu(),tn&&(r=tn,a=Ga,Ga=tn=null,us(r),a)))for(r=0;r<a.length;r++)us(a[r])}}function Ze(a,r){var h=a.stateNode;if(h===null)return null;var x=h[Rt]||null;if(x===null)return null;h=x[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,r,typeof h));return h}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(Zt)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{yo=!1}var ds=null,hs=null,cl=null;function Ii(){if(cl)return cl;var a,r=hs,h=r.length,x,v="value"in ds?ds.value:ds.textContent,C=v.length;for(a=0;a<h&&r[a]===v[a];a++);var I=h-a;for(x=1;x<=I&&r[h-x]===v[C-x];x++);return cl=v.slice(a,1<x?1-x:void 0)}function As(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function Ss(){return!0}function bo(){return!1}function Cn(a){function r(h,x,v,C,I){this._reactName=h,this._targetInst=v,this.type=x,this.nativeEvent=C,this.target=I,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(h=a[z],this[z]=h?h(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ss:bo,this.isPropagationStopped=bo,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),r}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=Cn(Ta),Oi=A({},Ta,{view:0,detail:0}),eu=Cn(Oi),ul,wo,Sr,dl=A({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Sr&&(Sr&&a.type==="mousemove"?(ul=a.screenX-Sr.screenX,wo=a.screenY-Sr.screenY):wo=ul=0,Sr=a),ul)},movementY:function(a){return"movementY"in a?a.movementY:wo}}),Tt=Cn(dl),tu=A({},dl,{dataTransfer:0}),hl=Cn(tu),Cs=A({},Oi,{relatedTarget:0}),_o=Cn(Cs),de=A({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),at=Cn(de),Bn=A({},Ta,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fl=Cn(Bn),nu=A({},Ta,{data:0}),au=Cn(nu),vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=vo[a])?!!r[a]:!1}function Cr(){return _n}var ln=A({},Oi,{key:function(a){if(a.key){var r=vh[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=As(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(a){return a.type==="keypress"?As(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?As(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ml=Cn(ln),Gs=A({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dt=Cn(Gs),Xe=A({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),Ah=Cn(Xe),Qt=A({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ws=Cn(Qt),Ri=A({},dl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=Cn(Ri),Wa=A({},Ta,{newState:0,oldState:0}),No=Cn(Wa),su=[9,13,27,32],Er=Zt&&"CompositionEvent"in window,Li=null;Zt&&"documentMode"in document&&(Li=document.documentMode);var iu=Zt&&"TextEvent"in window&&!Li,ru=Zt&&(!Er||Li&&8<Li&&11>=Li),Xs=" ",gl=!1;function lu(a,r){switch(a){case"keyup":return su.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bi(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Pi=!1;function Es(a,r){switch(a){case"compositionend":return Bi(r);case"keypress":return r.which!==32?null:(gl=!0,Xs);case"textInput":return a=r.data,a===Xs&&gl?null:a;default:return null}}function xl(a,r){if(Pi)return a==="compositionend"||!Er&&lu(a,r)?(a=Ii(),cl=hs=ds=null,Pi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ru&&r.locale!=="ko"?null:r.data;default:return null}}var ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ao(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!ma[a.type]:r==="textarea"}function ja(a,r,h,x){tn?Ga?Ga.push(x):Ga=[x]:tn=x,r=Qu(r,"onChange"),0<r.length&&(h=new Ln("onChange","change",null,h,x),a.push({event:h,listeners:r}))}var Tr=null,qs=null;function Ch(a){hx(a,0)}function jr(a){var r=Ei(a);if(cs(r))return a}function Ma(a,r){if(a==="change")return r}var ou=!1;if(Zt){var Mr;if(Zt){var Ks="oninput"in document;if(!Ks){var ft=document.createElement("div");ft.setAttribute("oninput","return;"),Ks=typeof ft.oninput=="function"}Mr=Ks}else Mr=!1;ou=Mr&&(!document.documentMode||9<document.documentMode)}function Dr(){Tr&&(Tr.detachEvent("onpropertychange",R),qs=Tr=null)}function R(a){if(a.propertyName==="value"&&jr(qs)){var r=[];ja(r,qs,a,po(a)),$c(Ch,r)}}function s(a,r,h){a==="focusin"?(Dr(),Tr=r,qs=h,Tr.attachEvent("onpropertychange",R)):a==="focusout"&&Dr()}function c(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jr(qs)}function d(a,r){if(a==="click")return jr(r)}function m(a,r){if(a==="input"||a==="change")return jr(r)}function g(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var b=typeof Object.is=="function"?Object.is:g;function _(a,r){if(b(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var h=Object.keys(a),x=Object.keys(r);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var v=h[x];if(!ot.call(r,v)||!b(a[v],r[v]))return!1}return!0}function S(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function E(a,r){var h=S(a);a=0;for(var x;h;){if(h.nodeType===3){if(x=a+h.textContent.length,a<=r&&x>=r)return{node:h,offset:r-a};a=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=S(h)}}function D(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?D(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function L(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=ol(a.document);r instanceof a.HTMLIFrameElement;){try{var h=typeof r.contentWindow.location.href=="string"}catch{h=!1}if(h)a=r.contentWindow;else break;r=ol(a.document)}return r}function P(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var V=Zt&&"documentMode"in document&&11>=document.documentMode,X=null,Z=null,ae=null,ue=!1;function Ce(a,r,h){var x=h.window===h?h.document:h.nodeType == "9"?h:h.ownerDocument;ue||X==null||X!==ol(x)||(x=X,"selectionStart"in x&&P(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ae&&_(ae,x)||(ae=x,x=Qu(Z,"onSelect"),0<x.length&&(r=new Ln("onSelect","select",null,r,h),a.push({event:r,listeners:x}),r.target=X)))}function ve(a,r){var h={};return h[a.toLowerCase()]=r.toLowerCase(),h["Webkit"+a]="webkit"+r,h["Moz"+a]="moz"+r,h}var _e={animationend:ve("Animation","AnimationEnd"),animationiteration:ve("Animation","AnimationIteration"),animationstart:ve("Animation","AnimationStart"),transitionrun:ve("Transition","TransitionRun"),transitionstart:ve("Transition","TransitionStart"),transitioncancel:ve("Transition","TransitionCancel"),transitionend:ve("Transition","TransitionEnd")},it={},Qe={};Zt&&(Qe=document.createElement("div").style,"AnimationEvent"in window||(delete _e.animationend.animation,delete _e.animationiteration.animation,delete _e.animationstart.animation),"TransitionEvent"in window||delete _e.transitionend.transition);function gn(a){if(it[a])return it[a];if(!_e[a])return a;var r=_e[a],h;for(h in r)if(r.hasOwnProperty(h)&&h in Qe)return it[a]=r[h];return a}var ga=gn("animationend"),Wn=gn("animationiteration"),kt=gn("animationstart"),Pn=gn("transitionrun"),la=gn("transitionstart"),zi=gn("transitioncancel"),Zs=gn("transitionend"),cu=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function fs(a,r){cu.set(a,r),Mt(r,[a])}var uu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Xa=[],pl=0,Eh=0;function du(){for(var a=pl,r=Eh=pl=0;r<a;){var h=Xa[r];Xa[r++]=null;var x=Xa[r];Xa[r++]=null;var v=Xa[r];Xa[r++]=null;var C=Xa[r];if(Xa[r++]=null,x!==null&&v!==null){var I=x.pending;I===null?v.next=v:(v.next=I.next,I.next=v),x.pending=v}C!==0&&Xm(h,v,C)}}function hu(a,r,h,x){Xa[pl++]=a,Xa[pl++]=r,Xa[pl++]=h,Xa[pl++]=x,Eh|=x,a.lanes|=x,a=a.alternate,a!==null&&(a.lanes|=x)}function Th(a,r,h,x){return hu(a,r,h,x),fu(a)}function kr(a,r){return hu(a,null,null,r),fu(a)}function Xm(a,r,h){a.lanes|=h;var x=a.alternate;x!==null&&(x.lanes|=h);for(var v=!1,C=a.return;C!==null;)C.childLanes|=h,x=C.alternate,x!==null&&(x.childLanes|=h),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(v=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,v&&r!==null&&(v=31-nt(h),a=C.hiddenUpdates,x=a[v],x===null?a[v]=[r]:x.push(r),r.lane=h|536870912),C):null}function fu(a){if(50<Xo)throw Xo=0,Pf=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var yl={};function pw(a,r,h,x){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(a,r,h,x){return new pw(a,r,h,x)}function jh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qs(a,r){var h=a.alternate;return h===null?(h=Da(a.tag,r,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=r,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,r=a.dependencies,h.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function qm(a,r){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,r=h.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function mu(a,r,h,x,v,C){var I=0;if(x=a,typeof a=="function")jh(a)&&(I=1);else if(typeof a=="string")I=v_(a,h,Me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=Da(31,h,r,v),a.elementType=q,a.lanes=C,a;case k:return Ir(h.children,v,C,r);case B:I=8,v|=24;break;case F:return a=Da(12,h,r,v|2),a.elementType=F,a.lanes=C,a;case $:return a=Da(13,h,r,v),a.elementType=$,a.lanes=C,a;case te:return a=Da(19,h,r,v),a.elementType=te,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case G:I=10;break e;case H:I=9;break e;case K:I=11;break e;case Y:I=14;break e;case ne:I=16,x=null;break e}I=29,h=Error(i(130,a===null?"null":typeof a,"")),x=null}return r=Da(I,h,r,v),r.elementType=a,r.type=x,r.lanes=C,r}function Ir(a,r,h,x){return a=Da(7,a,x,r),a.lanes=h,a}function Mh(a,r,h){return a=Da(6,a,null,r),a.lanes=h,a}function Km(a){var r=Da(18,null,null,0);return r.stateNode=a,r}function Dh(a,r,h){return r=Da(4,a.children!==null?a.children:[],a.key,r),r.lanes=h,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var Zm=new WeakMap;function qa(a,r){if(typeof a=="object"&&a!==null){var h=Zm.get(a);return h!==void 0?h:(r={value:a,source:r,stack:Ot(r)},Zm.set(a,r),r)}return{value:a,source:r,stack:Ot(r)}}var bl=[],wl=0,gu=null,Co=0,Ka=[],Za=0,Fi=null,Ts=1,js="";function Js(a,r){bl[wl++]=Co,bl[wl++]=gu,gu=a,Co=r}function Qm(a,r,h){Ka[Za++]=Ts,Ka[Za++]=js,Ka[Za++]=Fi,Fi=a;var x=Ts;a=js;var v=32-nt(x)-1;x&=~(1<<v),h+=1;var C=32-nt(r)+v;if(30<C){var I=v-v%5;C=(x&(1<<I)-1).toString(32),x>>=I,v-=I,Ts=1<<32-nt(r)+v|h<<v|x,js=C+a}else Ts=1<<C|h<<v|x,js=a}function kh(a){a.return!==null&&(Js(a,1),Qm(a,1,0))}function Ih(a){for(;a===gu;)gu=bl[--wl],bl[wl]=null,Co=bl[--wl],bl[wl]=null;for(;a===Fi;)Fi=Ka[--Za],Ka[Za]=null,js=Ka[--Za],Ka[Za]=null,Ts=Ka[--Za],Ka[Za]=null}function Jm(a,r){Ka[Za++]=Ts,Ka[Za++]=js,Ka[Za++]=Fi,Ts=r.id,js=r.overflow,Fi=a}var Xn=null,nn=null,pt=!1,Ui=null,Qa=!1,Oh=Error(i(519));function Hi(a){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(qa(r,a)),Oh}function $m(a){var r=a.stateNode,h=a.type,x=a.memoizedProps;switch(r[bn]=a,r[Rt]=x,h){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(h=0;h<Ko.length;h++)dt(Ko[h],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":dt("invalid",r),re(r,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":dt("invalid",r);break;case"textarea":dt("invalid",r),ia(r,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||r.textContent===""+h||x.suppressHydrationWarning===!0||xx(r.textContent,h)?(x.popover!=null&&(dt("beforetoggle",r),dt("toggle",r)),x.onScroll!=null&&dt("scroll",r),x.onScrollEnd!=null&&dt("scrollend",r),x.onClick!=null&&(r.onclick=fa),r=!0):r=!1,r||Hi(a,!0)}function e1(a){for(Xn=a.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:Xn=Xn.return}}function _l(a){if(a!==Xn)return!1;if(!pt)return e1(a),pt=!0,!1;var r=a.tag,h;if((h=r!==3&&r!==27)&&((h=r===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||$f(a.type,a.memoizedProps)),h=!h),h&&nn&&Hi(a),e1(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));nn=Sx(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));nn=Sx(a)}else r===27?(r=nn,nr(a.type)?(a=s0,s0=null,nn=a):nn=r):nn=Xn?$a(a.stateNode.nextSibling):null;return!0}function Or(){nn=Xn=null,pt=!1}function Rh(){var a=Ui;return a!==null&&(ba===null?ba=a:ba.push.apply(ba,a),Ui=null),a}function Eo(a){Ui===null?Ui=[a]:Ui.push(a)}var Lh=Q(null),Rr=null,$s=null;function Vi(a,r,h){je(Lh,r._currentValue),r._currentValue=h}function ei(a){a._currentValue=Lh.current,ge(Lh)}function Bh(a,r,h){for(;a!==null;){var x=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,x!==null&&(x.childLanes|=r)):x!==null&&(x.childLanes&r)!==r&&(x.childLanes|=r),a===h)break;a=a.return}}function Ph(a,r,h,x){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var C=v.dependencies;if(C!==null){var I=v.child;C=C.firstContext;e:for(;C!==null;){var z=C;C=v;for(var W=0;W<r.length;W++)if(z.context===r[W]){C.lanes|=h,z=C.alternate,z!==null&&(z.lanes|=h),Bh(C.return,h,a),x||(I=null);break e}C=z.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(i(341));I.lanes|=h,C=I.alternate,C!==null&&(C.lanes|=h),Bh(I,h,a),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===a){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function vl(a,r,h,x){a=null;for(var v=r,C=!1;v!==null;){if(!C){if((v.flags&524288)!==0)C=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var z=v.type;b(v.pendingProps.value,I.value)||(a!==null?a.push(z):a=[z])}}else if(v===bt.current){if(I=v.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(ec):a=[ec])}v=v.return}a!==null&&Ph(r,a,h,x),r.flags|=262144}function xu(a){for(a=a.firstContext;a!==null;){if(!b(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Lr(a){Rr=a,$s=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function qn(a){return t1(Rr,a)}function pu(a,r){return Rr===null&&Lr(a),t1(a,r)}function t1(a,r){var h=r._currentValue;if(r={context:r,memoizedValue:h,next:null},$s===null){if(a===null)throw Error(i(308));$s=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else $s=$s.next=r;return h}var yw=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(h,x){a.push(x)}};this.abort=function(){r.aborted=!0,a.forEach(function(h){return h()})}},bw=t.unstable_scheduleCallback,ww=t.unstable_NormalPriority,En={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new yw,data:new Map,refCount:0}}function To(a){a.refCount--,a.refCount===0&&bw(ww,function(){a.controller.abort()})}var jo=null,Fh=0,Nl=0,Al=null;function _w(a,r){if(jo===null){var h=jo=[];Fh=0,Nl=Yf(),Al={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Fh++,r.then(n1,n1),r}function n1(){if(--Fh===0&&jo!==null){Al!==null&&(Al.status="fulfilled");var a=jo;jo=null,Nl=0,Al=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function vw(a,r){var h=[],x={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return a.then(function(){x.status="fulfilled",x.value=r;for(var v=0;v<h.length;v++)(0,h[v])(r)},function(v){for(x.status="rejected",x.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),x}var a1=se.S;se.S=function(a,r){Fg=un(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&_w(a,r),a1!==null&&a1(a,r)};var Br=Q(null);function Uh(){var a=Br.current;return a!==null?a:Jt.pooledCache}function yu(a,r){r===null?je(Br,Br.current):je(Br,r.pool)}function s1(){var a=Uh();return a===null?null:{parent:En._currentValue,pool:a}}var Sl=Error(i(460)),Hh=Error(i(474)),bu=Error(i(542)),wu={then:function(){}};function i1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function r1(a,r,h){switch(h=a[h],h===void 0?a.push(r):h!==r&&(r.then(fa,fa),r=h),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,o1(a),a;default:if(typeof r.status=="string")r.then(fa,fa);else{if(a=Jt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(x){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=x}},function(x){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=x}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,o1(a),a}throw zr=r,Sl}}function Pr(a){try{var r=a._init;return r(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(zr=h,Sl):h}}var zr=null;function l1(){if(zr===null)throw Error(i(459));var a=zr;return zr=null,a}function o1(a){if(a===Sl||a===bu)throw Error(i(483))}var Cl=null,Mo=0;function _u(a){var r=Mo;return Mo+=1,Cl===null&&(Cl=[]),r1(Cl,a,r)}function Do(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function vu(a,r){throw r.$$typeof===T?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function c1(a){function r(ee,J){if(a){var le=ee.deletions;le===null?(ee.deletions=[J],ee.flags|=16):le.push(J)}}function h(ee,J){if(!a)return null;for(;J!==null;)r(ee,J),J=J.sibling;return null}function x(ee){for(var J=new Map;ee!==null;)ee.key!==null?J.set(ee.key,ee):J.set(ee.index,ee),ee=ee.sibling;return J}function v(ee,J){return ee=Qs(ee,J),ee.index=0,ee.sibling=null,ee}function C(ee,J,le){return ee.index=le,a?(le=ee.alternate,le!==null?(le=le.index,le<J?(ee.flags|=67108866,J):le):(ee.flags|=67108866,J)):(ee.flags|=1048576,J)}function I(ee){return a&&ee.alternate===null&&(ee.flags|=67108866),ee}function z(ee,J,le,pe){return J===null||J.tag!==6?(J=Mh(le,ee.mode,pe),J.return=ee,J):(J=v(J,le),J.return=ee,J)}function W(ee,J,le,pe){var Ye=le.type;return Ye===k?xe(ee,J,le.props.children,pe,le.key):J!==null&&(J.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===ne&&Pr(Ye)===J.type)?(J=v(J,le.props),Do(J,le),J.return=ee,J):(J=mu(le.type,le.key,le.props,null,ee.mode,pe),Do(J,le),J.return=ee,J)}function oe(ee,J,le,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=Dh(le,ee.mode,pe),J.return=ee,J):(J=v(J,le.children||[]),J.return=ee,J)}function xe(ee,J,le,pe,Ye){return J===null||J.tag!==7?(J=Ir(le,ee.mode,pe,Ye),J.return=ee,J):(J=v(J,le),J.return=ee,J)}function ye(ee,J,le){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Mh(""+J,ee.mode,le),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return le=mu(J.type,J.key,J.props,null,ee.mode,le),Do(le,J),le.return=ee,le;case M:return J=Dh(J,ee.mode,le),J.return=ee,J;case ne:return J=Pr(J),ye(ee,J,le)}if(ie(J)||me(J))return J=Ir(J,ee.mode,le,null),J.return=ee,J;if(typeof J.then=="function")return ye(ee,_u(J),le);if(J.$$typeof===G)return ye(ee,pu(ee,J),le);vu(ee,J)}return null}function ce(ee,J,le,pe){var Ye=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ye!==null?null:z(ee,J,""+le,pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===Ye?W(ee,J,le,pe):null;case M:return le.key===Ye?oe(ee,J,le,pe):null;case ne:return le=Pr(le),ce(ee,J,le,pe)}if(ie(le)||me(le))return Ye!==null?null:xe(ee,J,le,pe,null);if(typeof le.then=="function")return ce(ee,J,_u(le),pe);if(le.$$typeof===G)return ce(ee,J,pu(ee,le),pe);vu(ee,le)}return null}function he(ee,J,le,pe,Ye){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ee=ee.get(le)||null,z(J,ee,""+pe,Ye);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return ee=ee.get(pe.key===null?le:pe.key)||null,W(J,ee,pe,Ye);case M:return ee=ee.get(pe.key===null?le:pe.key)||null,oe(J,ee,pe,Ye);case ne:return pe=Pr(pe),he(ee,J,le,pe,Ye)}if(ie(pe)||me(pe))return ee=ee.get(le)||null,xe(J,ee,pe,Ye,null);if(typeof pe.then=="function")return he(ee,J,le,_u(pe),Ye);if(pe.$$typeof===G)return he(ee,J,le,pu(J,pe),Ye);vu(J,pe)}return null}function Pe(ee,J,le,pe){for(var Ye=null,St=null,Ue=J,st=J=0,gt=null;Ue!==null&&st<le.length;st++){Ue.index>st?(gt=Ue,Ue=null):gt=Ue.sibling;var Ct=ce(ee,Ue,le[st],pe);if(Ct===null){Ue===null&&(Ue=gt);break}a&&Ue&&Ct.alternate===null&&r(ee,Ue),J=C(Ct,J,st),St===null?Ye=Ct:St.sibling=Ct,St=Ct,Ue=gt}if(st===le.length)return h(ee,Ue),pt&&Js(ee,st),Ye;if(Ue===null){for(;st<le.length;st++)Ue=ye(ee,le[st],pe),Ue!==null&&(J=C(Ue,J,st),St===null?Ye=Ue:St.sibling=Ue,St=Ue);return pt&&Js(ee,st),Ye}for(Ue=x(Ue);st<le.length;st++)gt=he(Ue,ee,st,le[st],pe),gt!==null&&(a&&gt.alternate!==null&&Ue.delete(gt.key===null?st:gt.key),J=C(gt,J,st),St===null?Ye=gt:St.sibling=gt,St=gt);return a&&Ue.forEach(function(lr){return r(ee,lr)}),pt&&Js(ee,st),Ye}function Ke(ee,J,le,pe){if(le==null)throw Error(i(151));for(var Ye=null,St=null,Ue=J,st=J=0,gt=null,Ct=le.next();Ue!==null&&!Ct.done;st++,Ct=le.next()){Ue.index>st?(gt=Ue,Ue=null):gt=Ue.sibling;var lr=ce(ee,Ue,Ct.value,pe);if(lr===null){Ue===null&&(Ue=gt);break}a&&Ue&&lr.alternate===null&&r(ee,Ue),J=C(lr,J,st),St===null?Ye=lr:St.sibling=lr,St=lr,Ue=gt}if(Ct.done)return h(ee,Ue),pt&&Js(ee,st),Ye;if(Ue===null){for(;!Ct.done;st++,Ct=le.next())Ct=ye(ee,Ct.value,pe),Ct!==null&&(J=C(Ct,J,st),St===null?Ye=Ct:St.sibling=Ct,St=Ct);return pt&&Js(ee,st),Ye}for(Ue=x(Ue);!Ct.done;st++,Ct=le.next())Ct=he(Ue,ee,st,Ct.value,pe),Ct!==null&&(a&&Ct.alternate!==null&&Ue.delete(Ct.key===null?st:Ct.key),J=C(Ct,J,st),St===null?Ye=Ct:St.sibling=Ct,St=Ct);return a&&Ue.forEach(function(I_){return r(ee,I_)}),pt&&Js(ee,st),Ye}function Wt(ee,J,le,pe){if(typeof le=="object"&&le!==null&&le.type===k&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var Ye=le.key;J!==null;){if(J.key===Ye){if(Ye=le.type,Ye===k){if(J.tag===7){h(ee,J.sibling),pe=v(J,le.props.children),pe.return=ee,ee=pe;break e}}else if(J.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===ne&&Pr(Ye)===J.type){h(ee,J.sibling),pe=v(J,le.props),Do(pe,le),pe.return=ee,ee=pe;break e}h(ee,J);break}else r(ee,J);J=J.sibling}le.type===k?(pe=Ir(le.props.children,ee.mode,pe,le.key),pe.return=ee,ee=pe):(pe=mu(le.type,le.key,le.props,null,ee.mode,pe),Do(pe,le),pe.return=ee,ee=pe)}return I(ee);case M:e:{for(Ye=le.key;J!==null;){if(J.key===Ye)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){h(ee,J.sibling),pe=v(J,le.children||[]),pe.return=ee,ee=pe;break e}else{h(ee,J);break}else r(ee,J);J=J.sibling}pe=Dh(le,ee.mode,pe),pe.return=ee,ee=pe}return I(ee);case ne:return le=Pr(le),Wt(ee,J,le,pe)}if(ie(le))return Pe(ee,J,le,pe);if(me(le)){if(Ye=me(le),typeof Ye!="function")throw Error(i(150));return le=Ye.call(le),Ke(ee,J,le,pe)}if(typeof le.then=="function")return Wt(ee,J,_u(le),pe);if(le.$$typeof===G)return Wt(ee,J,pu(ee,le),pe);vu(ee,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,J!==null&&J.tag===6?(h(ee,J.sibling),pe=v(J,le),pe.return=ee,ee=pe):(h(ee,J),pe=Mh(le,ee.mode,pe),pe.return=ee,ee=pe),I(ee)):h(ee,J)}return function(ee,J,le,pe){try{Mo=0;var Ye=Wt(ee,J,le,pe);return Cl=null,Ye}catch(Ue){if(Ue===Sl||Ue===bu)throw Ue;var St=Da(29,Ue,null,ee.mode);return St.lanes=pe,St.return=ee,St}}}var Fr=c1(!0),u1=c1(!1),Yi=!1;function Vh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Gi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Wi(a,r,h){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(jt&2)!==0){var v=x.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),x.pending=r,r=fu(a),Xm(a,null,h),r}return hu(a,x,r,h),fu(a)}function ko(a,r,h){if(r=r.updateQueue,r!==null&&(r=r.shared,(h&4194048)!==0)){var x=r.lanes;x&=a.pendingLanes,h|=x,r.lanes=h,Ns(a,h)}}function Gh(a,r){var h=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var v=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?v=C=I:C=C.next=I,h=h.next}while(h!==null);C===null?v=C=r:C=C.next=r}else v=C=r;h={baseState:x.baseState,firstBaseUpdate:v,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=r:a.next=r,h.lastBaseUpdate=r}var Wh=!1;function Io(){if(Wh){var a=Al;if(a!==null)throw a}}function Oo(a,r,h,x){Wh=!1;var v=a.updateQueue;Yi=!1;var C=v.firstBaseUpdate,I=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var W=z,oe=W.next;W.next=null,I===null?C=oe:I.next=oe,I=W;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,z=xe.lastBaseUpdate,z!==I&&(z===null?xe.firstBaseUpdate=oe:z.next=oe,xe.lastBaseUpdate=W))}if(C!==null){var ye=v.baseState;I=0,xe=oe=W=null,z=C;do{var ce=z.lane&-536870913,he=ce!==z.lane;if(he?(mt&ce)===ce:(x&ce)===ce){ce!==0&&ce===Nl&&(Wh=!0),xe!==null&&(xe=xe.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Pe=a,Ke=z;ce=r;var Wt=h;switch(Ke.tag){case 1:if(Pe=Ke.payload,typeof Pe=="function"){ye=Pe.call(Wt,ye,ce);break e}ye=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ke.payload,ce=typeof Pe=="function"?Pe.call(Wt,ye,ce):Pe,ce==null)break e;ye=A({},ye,ce);break e;case 2:Yi=!0}}ce=z.callback,ce!==null&&(a.flags|=64,he&&(a.flags|=8192),he=v.callbacks,he===null?v.callbacks=[ce]:he.push(ce))}else he={lane:ce,tag:z.tag,payload:z.payload,callback:z.callback,next:null},xe===null?(oe=xe=he,W=ye):xe=xe.next=he,I|=ce;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;he=z,z=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);xe===null&&(W=ye),v.baseState=W,v.firstBaseUpdate=oe,v.lastBaseUpdate=xe,C===null&&(v.shared.lanes=0),Qi|=I,a.lanes=I,a.memoizedState=ye}}function d1(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function h1(a,r){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)d1(h[a],r)}var El=Q(null),Nu=Q(0);function f1(a,r){a=ci,je(Nu,a),je(El,r),ci=a|r.baseLanes}function Xh(){je(Nu,ci),je(El,El.current)}function qh(){ci=Nu.current,ge(El),ge(Nu)}var ka=Q(null),Ja=null;function Xi(a){var r=a.alternate;je(vn,vn.current&1),je(ka,a),Ja===null&&(r===null||El.current!==null||r.memoizedState!==null)&&(Ja=a)}function Kh(a){je(vn,vn.current),je(ka,a),Ja===null&&(Ja=a)}function m1(a){a.tag===22?(je(vn,vn.current),je(ka,a),Ja===null&&(Ja=a)):qi()}function qi(){je(vn,vn.current),je(ka,ka.current)}function Ia(a){ge(ka),Ja===a&&(Ja=null),ge(vn)}var vn=Q(0);function Au(a){for(var r=a;r!==null;){if(r.tag===13){var h=r.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||n0(h)||a0(h)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ti=0,tt=null,Yt=null,Tn=null,Su=!1,Tl=!1,Ur=!1,Cu=0,Ro=0,jl=null,Nw=0;function xn(){throw Error(i(321))}function Zh(a,r){if(r===null)return!1;for(var h=0;h<r.length&&h<a.length;h++)if(!b(a[h],r[h]))return!1;return!0}function Qh(a,r,h,x,v,C){return ti=C,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,se.H=a===null||a.memoizedState===null?Q1:ff,Ur=!1,C=h(x,v),Ur=!1,Tl&&(C=x1(r,h,x,v)),g1(a),C}function g1(a){se.H=Po;var r=Yt!==null&&Yt.next!==null;if(ti=0,Tn=Yt=tt=null,Su=!1,Ro=0,jl=null,r)throw Error(i(300));a===null||jn||(a=a.dependencies,a!==null&&xu(a)&&(jn=!0))}function x1(a,r,h,x){tt=a;var v=0;do{if(Tl&&(jl=null),Ro=0,Tl=!1,25<=v)throw Error(i(301));if(v+=1,Tn=Yt=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}se.H=J1,C=r(h,x)}while(Tl);return C}function Aw(){var a=se.H,r=a.useState()[0];return r=typeof r.then=="function"?Lo(r):r,a=a.useState()[0],(Yt!==null?Yt.memoizedState:null)!==a&&(tt.flags|=1024),r}function Jh(){var a=Cu!==0;return Cu=0,a}function $h(a,r,h){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~h}function ef(a){if(Su){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}Su=!1}ti=0,Tn=Yt=tt=null,Tl=!1,Ro=Cu=0,jl=null}function oa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?tt.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function Nn(){if(Yt===null){var a=tt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var r=Tn===null?tt.memoizedState:Tn.next;if(r!==null)Tn=r,Yt=a;else{if(a===null)throw tt.alternate===null?Error(i(467)):Error(i(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Tn===null?tt.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(a){var r=Ro;return Ro+=1,jl===null&&(jl=[]),a=r1(jl,a,r),r=tt,(Tn===null?r.memoizedState:Tn.next)===null&&(r=r.alternate,se.H=r===null||r.memoizedState===null?Q1:ff),a}function Tu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Lo(a);if(a.$$typeof===G)return qn(a)}throw Error(i(438,String(a)))}function tf(a){var r=null,h=tt.updateQueue;if(h!==null&&(r=h.memoCache),r==null){var x=tt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(r={data:x.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),h===null&&(h=Eu(),tt.updateQueue=h),h.memoCache=r,h=r.data[r.index],h===void 0)for(h=r.data[r.index]=Array(a),x=0;x<a;x++)h[x]=we;return r.index++,h}function ni(a,r){return typeof r=="function"?r(a):r}function ju(a){var r=Nn();return nf(r,Yt,a)}function nf(a,r,h){var x=a.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=h;var v=a.baseQueue,C=x.pending;if(C!==null){if(v!==null){var I=v.next;v.next=C.next,C.next=I}r.baseQueue=v=C,x.pending=null}if(C=a.baseState,v===null)a.memoizedState=C;else{r=v.next;var z=I=null,W=null,oe=r,xe=!1;do{var ye=oe.lane&-536870913;if(ye!==oe.lane?(mt&ye)===ye:(ti&ye)===ye){var ce=oe.revertLane;if(ce===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ye===Nl&&(xe=!0);else if((ti&ce)===ce){oe=oe.next,ce===Nl&&(xe=!0);continue}else ye={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},W===null?(z=W=ye,I=C):W=W.next=ye,tt.lanes|=ce,Qi|=ce;ye=oe.action,Ur&&h(C,ye),C=oe.hasEagerState?oe.eagerState:h(C,ye)}else ce={lane:ye,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},W===null?(z=W=ce,I=C):W=W.next=ce,tt.lanes|=ye,Qi|=ye;oe=oe.next}while(oe!==null&&oe!==r);if(W===null?I=C:W.next=z,!b(C,a.memoizedState)&&(jn=!0,xe&&(h=Al,h!==null)))throw h;a.memoizedState=C,a.baseState=I,a.baseQueue=W,x.lastRenderedState=C}return v===null&&(x.lanes=0),[a.memoizedState,x.dispatch]}function af(a){var r=Nn(),h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var x=h.dispatch,v=h.pending,C=r.memoizedState;if(v!==null){h.pending=null;var I=v=v.next;do C=a(C,I.action),I=I.next;while(I!==v);b(C,r.memoizedState)||(jn=!0),r.memoizedState=C,r.baseQueue===null&&(r.baseState=C),h.lastRenderedState=C}return[C,x]}function p1(a,r,h){var x=tt,v=Nn(),C=pt;if(C){if(h===void 0)throw Error(i(407));h=h()}else h=r();var I=!b((Yt||v).memoizedState,h);if(I&&(v.memoizedState=h,jn=!0),v=v.queue,lf(w1.bind(null,x,v,a),[a]),v.getSnapshot!==r||I||Tn!==null&&Tn.memoizedState.tag&1){if(x.flags|=2048,Ml(9,{destroy:void 0},b1.bind(null,x,v,h,r),null),Jt===null)throw Error(i(349));C||(ti&127)!==0||y1(x,r,h)}return h}function y1(a,r,h){a.flags|=16384,a={getSnapshot:r,value:h},r=tt.updateQueue,r===null?(r=Eu(),tt.updateQueue=r,r.stores=[a]):(h=r.stores,h===null?r.stores=[a]:h.push(a))}function b1(a,r,h,x){r.value=h,r.getSnapshot=x,_1(r)&&v1(a)}function w1(a,r,h){return h(function(){_1(r)&&v1(a)})}function _1(a){var r=a.getSnapshot;a=a.value;try{var h=r();return!b(a,h)}catch{return!0}}function v1(a){var r=kr(a,2);r!==null&&wa(r,a,2)}function sf(a){var r=oa();if(typeof a=="function"){var h=a;if(a=h(),Ur){Vt(!0);try{h()}finally{Vt(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},r}function N1(a,r,h,x){return a.baseState=h,nf(a,Yt,typeof x=="function"?x:ni)}function Sw(a,r,h,x,v){if(ku(a))throw Error(i(485));if(a=r.action,a!==null){var C={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){C.listeners.push(I)}};se.T!==null?h(!0):C.isTransition=!1,x(C),h=r.pending,h===null?(C.next=r.pending=C,A1(r,C)):(C.next=h.next,r.pending=h.next=C)}}function A1(a,r){var h=r.action,x=r.payload,v=a.state;if(r.isTransition){var C=se.T,I={};se.T=I;try{var z=h(v,x),W=se.S;W!==null&&W(I,z),S1(a,r,z)}catch(oe){rf(a,r,oe)}finally{C!==null&&I.types!==null&&(C.types=I.types),se.T=C}}else try{C=h(v,x),S1(a,r,C)}catch(oe){rf(a,r,oe)}}function S1(a,r,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){C1(a,r,x)},function(x){return rf(a,r,x)}):C1(a,r,h)}function C1(a,r,h){r.status="fulfilled",r.value=h,E1(r),a.state=h,r=a.pending,r!==null&&(h=r.next,h===r?a.pending=null:(h=h.next,r.next=h,A1(a,h)))}function rf(a,r,h){var x=a.pending;if(a.pending=null,x!==null){x=x.next;do r.status="rejected",r.reason=h,E1(r),r=r.next;while(r!==x)}a.action=null}function E1(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function T1(a,r){return r}function j1(a,r){if(pt){var h=Jt.formState;if(h!==null){e:{var x=tt;if(pt){if(nn){t:{for(var v=nn,C=Qa;v.nodeType!==8;){if(!C){v=null;break t}if(v=$a(v.nextSibling),v===null){v=null;break t}}C=v.data,v=C==="F!"||C==="F"?v:null}if(v){nn=$a(v.nextSibling),x=v.data==="F!";break e}}Hi(x)}x=!1}x&&(r=h[0])}}return h=oa(),h.memoizedState=h.baseState=r,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T1,lastRenderedState:r},h.queue=x,h=q1.bind(null,tt,x),x.dispatch=h,x=sf(!1),C=hf.bind(null,tt,!1,x.queue),x=oa(),v={state:r,dispatch:null,action:a,pending:null},x.queue=v,h=Sw.bind(null,tt,v,C,h),v.dispatch=h,x.memoizedState=a,[r,h,!1]}function M1(a){var r=Nn();return D1(r,Yt,a)}function D1(a,r,h){if(r=nf(a,r,T1)[0],a=ju(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var x=Lo(r)}catch(I){throw I===Sl?bu:I}else x=r;r=Nn();var v=r.queue,C=v.dispatch;return h!==r.memoizedState&&(tt.flags|=2048,Ml(9,{destroy:void 0},Cw.bind(null,v,h),null)),[x,C,a]}function Cw(a,r){a.action=r}function k1(a){var r=Nn(),h=Yt;if(h!==null)return D1(r,h,a);Nn(),r=r.memoizedState,h=Nn();var x=h.queue.dispatch;return h.memoizedState=a,[r,x,!1]}function Ml(a,r,h,x){return a={tag:a,create:h,deps:x,inst:r,next:null},r=tt.updateQueue,r===null&&(r=Eu(),tt.updateQueue=r),h=r.lastEffect,h===null?r.lastEffect=a.next=a:(x=h.next,h.next=a,a.next=x,r.lastEffect=a),a}function I1(){return Nn().memoizedState}function Mu(a,r,h,x){var v=oa();tt.flags|=a,v.memoizedState=Ml(1|r,{destroy:void 0},h,x===void 0?null:x)}function Du(a,r,h,x){var v=Nn();x=x===void 0?null:x;var C=v.memoizedState.inst;Yt!==null&&x!==null&&Zh(x,Yt.memoizedState.deps)?v.memoizedState=Ml(r,C,h,x):(tt.flags|=a,v.memoizedState=Ml(1|r,C,h,x))}function O1(a,r){Mu(8390656,8,a,r)}function lf(a,r){Du(2048,8,a,r)}function Ew(a){tt.flags|=4;var r=tt.updateQueue;if(r===null)r=Eu(),tt.updateQueue=r,r.events=[a];else{var h=r.events;h===null?r.events=[a]:h.push(a)}}function R1(a){var r=Nn().memoizedState;return Ew({ref:r,nextImpl:a}),function(){if((jt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function L1(a,r){return Du(4,2,a,r)}function B1(a,r){return Du(4,4,a,r)}function P1(a,r){if(typeof r=="function"){a=a();var h=r(a);return function(){typeof h=="function"?h():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function z1(a,r,h){h=h!=null?h.concat([a]):null,Du(4,4,P1.bind(null,r,a),h)}function of(){}function F1(a,r){var h=Nn();r=r===void 0?null:r;var x=h.memoizedState;return r!==null&&Zh(r,x[1])?x[0]:(h.memoizedState=[a,r],a)}function U1(a,r){var h=Nn();r=r===void 0?null:r;var x=h.memoizedState;if(r!==null&&Zh(r,x[1]))return x[0];if(x=a(),Ur){Vt(!0);try{a()}finally{Vt(!1)}}return h.memoizedState=[x,r],x}function cf(a,r,h){return h===void 0||(ti&1073741824)!==0&&(mt&261930)===0?a.memoizedState=r:(a.memoizedState=h,a=Hg(),tt.lanes|=a,Qi|=a,h)}function H1(a,r,h,x){return b(h,r)?h:El.current!==null?(a=cf(a,h,x),b(a,r)||(jn=!0),a):(ti&42)===0||(ti&1073741824)!==0&&(mt&261930)===0?(jn=!0,a.memoizedState=h):(a=Hg(),tt.lanes|=a,Qi|=a,r)}function V1(a,r,h,x,v){var C=fe.p;fe.p=C!==0&&8>C?C:8;var I=se.T,z={};se.T=z,hf(a,!1,r,h);try{var W=v(),oe=se.S;if(oe!==null&&oe(z,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var xe=vw(W,x);Bo(a,r,xe,La(a))}else Bo(a,r,x,La(a))}catch(ye){Bo(a,r,{then:function(){},status:"rejected",reason:ye},La())}finally{fe.p=C,I!==null&&z.types!==null&&(I.types=z.types),se.T=I}}function Tw(){}function uf(a,r,h,x){if(a.tag!==5)throw Error(i(476));var v=Y1(a).queue;V1(a,v,r,Le,h===null?Tw:function(){return G1(a),h(x)})}function Y1(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:Le,baseState:Le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:Le},next:null};var h={};return r.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:h},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function G1(a){var r=Y1(a);r.next===null&&(r=a.alternate.memoizedState),Bo(a,r.next.queue,{},La())}function df(){return qn(ec)}function W1(){return Nn().memoizedState}function X1(){return Nn().memoizedState}function jw(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var h=La();a=Gi(h);var x=Wi(r,a,h);x!==null&&(wa(x,r,h),ko(x,r,h)),r={cache:zh()},a.payload=r;return}r=r.return}}function Mw(a,r,h){var x=La();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ku(a)?K1(r,h):(h=Th(a,r,h,x),h!==null&&(wa(h,a,x),Z1(h,r,x)))}function q1(a,r,h){var x=La();Bo(a,r,h,x)}function Bo(a,r,h,x){var v={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(ku(a))K1(r,v);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=r.lastRenderedReducer,C!==null))try{var I=r.lastRenderedState,z=C(I,h);if(v.hasEagerState=!0,v.eagerState=z,b(z,I))return hu(a,r,v,0),Jt===null&&du(),!1}catch{}if(h=Th(a,r,v,x),h!==null)return wa(h,a,x),Z1(h,r,x),!0}return!1}function hf(a,r,h,x){if(x={lane:2,revertLane:Yf(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},ku(a)){if(r)throw Error(i(479))}else r=Th(a,h,x,2),r!==null&&wa(r,a,2)}function ku(a){var r=a.alternate;return a===tt||r!==null&&r===tt}function K1(a,r){Tl=Su=!0;var h=a.pending;h===null?r.next=r:(r.next=h.next,h.next=r),a.pending=r}function Z1(a,r,h){if((h&4194048)!==0){var x=r.lanes;x&=a.pendingLanes,h|=x,r.lanes=h,Ns(a,h)}}var Po={readContext:qn,use:Tu,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};Po.useEffectEvent=xn;var Q1={readContext:qn,use:Tu,useCallback:function(a,r){return oa().memoizedState=[a,r===void 0?null:r],a},useContext:qn,useEffect:O1,useImperativeHandle:function(a,r,h){h=h!=null?h.concat([a]):null,Mu(4194308,4,P1.bind(null,r,a),h)},useLayoutEffect:function(a,r){return Mu(4194308,4,a,r)},useInsertionEffect:function(a,r){Mu(4,2,a,r)},useMemo:function(a,r){var h=oa();r=r===void 0?null:r;var x=a();if(Ur){Vt(!0);try{a()}finally{Vt(!1)}}return h.memoizedState=[x,r],x},useReducer:function(a,r,h){var x=oa();if(h!==void 0){var v=h(r);if(Ur){Vt(!0);try{h(r)}finally{Vt(!1)}}}else v=r;return x.memoizedState=x.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},x.queue=a,a=a.dispatch=Mw.bind(null,tt,a),[x.memoizedState,a]},useRef:function(a){var r=oa();return a={current:a},r.memoizedState=a},useState:function(a){a=sf(a);var r=a.queue,h=q1.bind(null,tt,r);return r.dispatch=h,[a.memoizedState,h]},useDebugValue:of,useDeferredValue:function(a,r){var h=oa();return cf(h,a,r)},useTransition:function(){var a=sf(!1);return a=V1.bind(null,tt,a.queue,!0,!1),oa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,h){var x=tt,v=oa();if(pt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=r(),Jt===null)throw Error(i(349));(mt&127)!==0||y1(x,r,h)}v.memoizedState=h;var C={value:h,getSnapshot:r};return v.queue=C,O1(w1.bind(null,x,C,a),[a]),x.flags|=2048,Ml(9,{destroy:void 0},b1.bind(null,x,C,h,r),null),h},useId:function(){var a=oa(),r=Jt.identifierPrefix;if(pt){var h=js,x=Ts;h=(x&~(1<<32-nt(x)-1)).toString(32)+h,r="_"+r+"R_"+h,h=Cu++,0<h&&(r+="H"+h.toString(32)),r+="_"}else h=Nw++,r="_"+r+"r_"+h.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:df,useFormState:j1,useActionState:j1,useOptimistic:function(a){var r=oa();r.memoizedState=r.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=h,r=hf.bind(null,tt,!0,h),h.dispatch=r,[a,r]},useMemoCache:tf,useCacheRefresh:function(){return oa().memoizedState=jw.bind(null,tt)},useEffectEvent:function(a){var r=oa(),h={impl:a};return r.memoizedState=h,function(){if((jt&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},ff={readContext:qn,use:Tu,useCallback:F1,useContext:qn,useEffect:lf,useImperativeHandle:z1,useInsertionEffect:L1,useLayoutEffect:B1,useMemo:U1,useReducer:ju,useRef:I1,useState:function(){return ju(ni)},useDebugValue:of,useDeferredValue:function(a,r){var h=Nn();return H1(h,Yt.memoizedState,a,r)},useTransition:function(){var a=ju(ni)[0],r=Nn().memoizedState;return[typeof a=="boolean"?a:Lo(a),r]},useSyncExternalStore:p1,useId:W1,useHostTransitionStatus:df,useFormState:M1,useActionState:M1,useOptimistic:function(a,r){var h=Nn();return N1(h,Yt,a,r)},useMemoCache:tf,useCacheRefresh:X1};ff.useEffectEvent=R1;var J1={readContext:qn,use:Tu,useCallback:F1,useContext:qn,useEffect:lf,useImperativeHandle:z1,useInsertionEffect:L1,useLayoutEffect:B1,useMemo:U1,useReducer:af,useRef:I1,useState:function(){return af(ni)},useDebugValue:of,useDeferredValue:function(a,r){var h=Nn();return Yt===null?cf(h,a,r):H1(h,Yt.memoizedState,a,r)},useTransition:function(){var a=af(ni)[0],r=Nn().memoizedState;return[typeof a=="boolean"?a:Lo(a),r]},useSyncExternalStore:p1,useId:W1,useHostTransitionStatus:df,useFormState:k1,useActionState:k1,useOptimistic:function(a,r){var h=Nn();return Yt!==null?N1(h,Yt,a,r):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:tf,useCacheRefresh:X1};J1.useEffectEvent=R1;function mf(a,r,h,x){r=a.memoizedState,h=h(x,r),h=h==null?r:A({},r,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var gf={enqueueSetState:function(a,r,h){a=a._reactInternals;var x=La(),v=Gi(x);v.payload=r,h!=null&&(v.callback=h),r=Wi(a,v,x),r!==null&&(wa(r,a,x),ko(r,a,x))},enqueueReplaceState:function(a,r,h){a=a._reactInternals;var x=La(),v=Gi(x);v.tag=1,v.payload=r,h!=null&&(v.callback=h),r=Wi(a,v,x),r!==null&&(wa(r,a,x),ko(r,a,x))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var h=La(),x=Gi(h);x.tag=2,r!=null&&(x.callback=r),r=Wi(a,x,h),r!==null&&(wa(r,a,h),ko(r,a,h))}};function $1(a,r,h,x,v,C,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,C,I):r.prototype&&r.prototype.isPureReactComponent?!_(h,x)||!_(v,C):!0}function eg(a,r,h,x){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(h,x),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(h,x),r.state!==a&&gf.enqueueReplaceState(r,r.state,null)}function Hr(a,r){var h=r;if("ref"in r){h={};for(var x in r)x!=="ref"&&(h[x]=r[x])}if(a=a.defaultProps){h===r&&(h=A({},h));for(var v in a)h[v]===void 0&&(h[v]=a[v])}return h}function tg(a){uu(a)}function ng(a){console.error(a)}function ag(a){uu(a)}function Iu(a,r){try{var h=a.onUncaughtError;h(r.value,{componentStack:r.stack})}catch(x){setTimeout(function(){throw x})}}function sg(a,r,h){try{var x=a.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function xf(a,r,h){return h=Gi(h),h.tag=3,h.payload={element:null},h.callback=function(){Iu(a,r)},h}function ig(a){return a=Gi(a),a.tag=3,a}function rg(a,r,h,x){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var C=x.value;a.payload=function(){return v(C)},a.callback=function(){sg(r,h,x)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){sg(r,h,x),typeof v!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var z=x.stack;this.componentDidCatch(x.value,{componentStack:z!==null?z:""})})}function Dw(a,r,h,x,v){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(r=h.alternate,r!==null&&vl(r,h,v,!0),h=ka.current,h!==null){switch(h.tag){case 31:case 13:return Ja===null?Gu():h.alternate===null&&pn===0&&(pn=3),h.flags&=-257,h.flags|=65536,h.lanes=v,x===wu?h.flags|=16384:(r=h.updateQueue,r===null?h.updateQueue=new Set([x]):r.add(x),Uf(a,x,v)),!1;case 22:return h.flags|=65536,x===wu?h.flags|=16384:(r=h.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=r):(h=r.retryQueue,h===null?r.retryQueue=new Set([x]):h.add(x)),Uf(a,x,v)),!1}throw Error(i(435,h.tag))}return Uf(a,x,v),Gu(),!1}if(pt)return r=ka.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,x!==Oh&&(a=Error(i(422),{cause:x}),Eo(qa(a,h)))):(x!==Oh&&(r=Error(i(423),{cause:x}),Eo(qa(r,h))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,x=qa(x,h),v=xf(a.stateNode,x,v),Gh(a,v),pn!==4&&(pn=2)),!1;var C=Error(i(520),{cause:x});if(C=qa(C,h),Wo===null?Wo=[C]:Wo.push(C),pn!==4&&(pn=2),r===null)return!0;x=qa(x,h),h=r;do{switch(h.tag){case 3:return h.flags|=65536,a=v&-v,h.lanes|=a,a=xf(h.stateNode,x,a),Gh(h,a),!1;case 1:if(r=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ji===null||!Ji.has(C))))return h.flags|=65536,v&=-v,h.lanes|=v,v=ig(v),rg(v,a,h,x),Gh(h,v),!1}h=h.return}while(h!==null);return!1}var pf=Error(i(461)),jn=!1;function Kn(a,r,h,x){r.child=a===null?u1(r,null,h,x):Fr(r,a.child,h,x)}function lg(a,r,h,x,v){h=h.render;var C=r.ref;if("ref"in x){var I={};for(var z in x)z!=="ref"&&(I[z]=x[z])}else I=x;return Lr(r),x=Qh(a,r,h,I,C,v),z=Jh(),a!==null&&!jn?($h(a,r,v),ai(a,r,v)):(pt&&z&&kh(r),r.flags|=1,Kn(a,r,x,v),r.child)}function og(a,r,h,x,v){if(a===null){var C=h.type;return typeof C=="function"&&!jh(C)&&C.defaultProps===void 0&&h.compare===null?(r.tag=15,r.type=C,cg(a,r,C,x,v)):(a=mu(h.type,null,x,r,r.mode,v),a.ref=r.ref,a.return=r,r.child=a)}if(C=a.child,!Sf(a,v)){var I=C.memoizedProps;if(h=h.compare,h=h!==null?h:_,h(I,x)&&a.ref===r.ref)return ai(a,r,v)}return r.flags|=1,a=Qs(C,x),a.ref=r.ref,a.return=r,r.child=a}function cg(a,r,h,x,v){if(a!==null){var C=a.memoizedProps;if(_(C,x)&&a.ref===r.ref)if(jn=!1,r.pendingProps=x=C,Sf(a,v))(a.flags&131072)!==0&&(jn=!0);else return r.lanes=a.lanes,ai(a,r,v)}return yf(a,r,h,x,v)}function ug(a,r,h,x){var v=x.children,C=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((r.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,a!==null){for(x=r.child=a.child,v=0;x!==null;)v=v|x.lanes|x.childLanes,x=x.sibling;x=v&~C}else x=0,r.child=null;return dg(a,r,C,h,x)}if((h&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&yu(r,C!==null?C.cachePool:null),C!==null?f1(r,C):Xh(),m1(r);else return x=r.lanes=536870912,dg(a,r,C!==null?C.baseLanes|h:h,h,x)}else C!==null?(yu(r,C.cachePool),f1(r,C),qi(),r.memoizedState=null):(a!==null&&yu(r,null),Xh(),qi());return Kn(a,r,v,h),r.child}function zo(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function dg(a,r,h,x,v){var C=Uh();return C=C===null?null:{parent:En._currentValue,pool:C},r.memoizedState={baseLanes:h,cachePool:C},a!==null&&yu(r,null),Xh(),m1(r),a!==null&&vl(a,r,x,!0),r.childLanes=v,null}function Ou(a,r){return r=Lu({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function hg(a,r,h){return Fr(r,a.child,null,h),a=Ou(r,r.pendingProps),a.flags|=2,Ia(r),r.memoizedState=null,a}function kw(a,r,h){var x=r.pendingProps,v=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(pt){if(x.mode==="hidden")return a=Ou(r,x),r.lanes=536870912,zo(null,a);if(Kh(r),(a=nn)?(a=Ax(a,Qa),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:Fi!==null?{id:Ts,overflow:js}:null,retryLane:536870912,hydrationErrors:null},h=Km(a),h.return=r,r.child=h,Xn=r,nn=null)):a=null,a===null)throw Hi(r);return r.lanes=536870912,null}return Ou(r,x)}var C=a.memoizedState;if(C!==null){var I=C.dehydrated;if(Kh(r),v)if(r.flags&256)r.flags&=-257,r=hg(a,r,h);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(i(558));else if(jn||vl(a,r,h,!1),v=(h&a.childLanes)!==0,jn||v){if(x=Jt,x!==null&&(I=rl(x,h),I!==0&&I!==C.retryLane))throw C.retryLane=I,kr(a,I),wa(x,a,I),pf;Gu(),r=hg(a,r,h)}else a=C.treeContext,nn=$a(I.nextSibling),Xn=r,pt=!0,Ui=null,Qa=!1,a!==null&&Jm(r,a),r=Ou(r,x),r.flags|=4096;return r}return a=Qs(a.child,{mode:x.mode,children:x.children}),a.ref=r.ref,r.child=a,a.return=r,a}function Ru(a,r){var h=r.ref;if(h===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(r.flags|=4194816)}}function yf(a,r,h,x,v){return Lr(r),h=Qh(a,r,h,x,void 0,v),x=Jh(),a!==null&&!jn?($h(a,r,v),ai(a,r,v)):(pt&&x&&kh(r),r.flags|=1,Kn(a,r,h,v),r.child)}function fg(a,r,h,x,v,C){return Lr(r),r.updateQueue=null,h=x1(r,x,h,v),g1(a),x=Jh(),a!==null&&!jn?($h(a,r,C),ai(a,r,C)):(pt&&x&&kh(r),r.flags|=1,Kn(a,r,h,C),r.child)}function mg(a,r,h,x,v){if(Lr(r),r.stateNode===null){var C=yl,I=h.contextType;typeof I=="object"&&I!==null&&(C=qn(I)),C=new h(x,C),r.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=gf,r.stateNode=C,C._reactInternals=r,C=r.stateNode,C.props=x,C.state=r.memoizedState,C.refs={},Vh(r),I=h.contextType,C.context=typeof I=="object"&&I!==null?qn(I):yl,C.state=r.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(mf(r,h,I,x),C.state=r.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(I=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),I!==C.state&&gf.enqueueReplaceState(C,C.state,null),Oo(r,x,C,v),Io(),C.state=r.memoizedState),typeof C.componentDidMount=="function"&&(r.flags|=4194308),x=!0}else if(a===null){C=r.stateNode;var z=r.memoizedProps,W=Hr(h,z);C.props=W;var oe=C.context,xe=h.contextType;I=yl,typeof xe=="object"&&xe!==null&&(I=qn(xe));var ye=h.getDerivedStateFromProps;xe=typeof ye=="function"||typeof C.getSnapshotBeforeUpdate=="function",z=r.pendingProps!==z,xe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z||oe!==I)&&eg(r,C,x,I),Yi=!1;var ce=r.memoizedState;C.state=ce,Oo(r,x,C,v),Io(),oe=r.memoizedState,z||ce!==oe||Yi?(typeof ye=="function"&&(mf(r,h,ye,x),oe=r.memoizedState),(W=Yi||$1(r,h,W,x,ce,oe,I))?(xe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(r.flags|=4194308)):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=x,r.memoizedState=oe),C.props=x,C.state=oe,C.context=I,x=W):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),x=!1)}else{C=r.stateNode,Yh(a,r),I=r.memoizedProps,xe=Hr(h,I),C.props=xe,ye=r.pendingProps,ce=C.context,oe=h.contextType,W=yl,typeof oe=="object"&&oe!==null&&(W=qn(oe)),z=h.getDerivedStateFromProps,(oe=typeof z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==ye||ce!==W)&&eg(r,C,x,W),Yi=!1,ce=r.memoizedState,C.state=ce,Oo(r,x,C,v),Io();var he=r.memoizedState;I!==ye||ce!==he||Yi||a!==null&&a.dependencies!==null&&xu(a.dependencies)?(typeof z=="function"&&(mf(r,h,z,x),he=r.memoizedState),(xe=Yi||$1(r,h,xe,x,ce,he,W)||a!==null&&a.dependencies!==null&&xu(a.dependencies))?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,he,W),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,he,W)),typeof C.componentDidUpdate=="function"&&(r.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&ce===a.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ce===a.memoizedState||(r.flags|=1024),r.memoizedProps=x,r.memoizedState=he),C.props=x,C.state=he,C.context=W,x=xe):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&ce===a.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ce===a.memoizedState||(r.flags|=1024),x=!1)}return C=x,Ru(a,r),x=(r.flags&128)!==0,C||x?(C=r.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:C.render(),r.flags|=1,a!==null&&x?(r.child=Fr(r,a.child,null,v),r.child=Fr(r,null,h,v)):Kn(a,r,h,v),r.memoizedState=C.state,a=r.child):a=ai(a,r,v),a}function gg(a,r,h,x){return Or(),r.flags|=256,Kn(a,r,h,x),r.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(a){return{baseLanes:a,cachePool:s1()}}function _f(a,r,h){return a=a!==null?a.childLanes&~h:0,r&&(a|=Ra),a}function xg(a,r,h){var x=r.pendingProps,v=!1,C=(r.flags&128)!==0,I;if((I=C)||(I=a!==null&&a.memoizedState===null?!1:(vn.current&2)!==0),I&&(v=!0,r.flags&=-129),I=(r.flags&32)!==0,r.flags&=-33,a===null){if(pt){if(v?Xi(r):qi(),(a=nn)?(a=Ax(a,Qa),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:Fi!==null?{id:Ts,overflow:js}:null,retryLane:536870912,hydrationErrors:null},h=Km(a),h.return=r,r.child=h,Xn=r,nn=null)):a=null,a===null)throw Hi(r);return a0(a)?r.lanes=32:r.lanes=536870912,null}var z=x.children;return x=x.fallback,v?(qi(),v=r.mode,z=Lu({mode:"hidden",children:z},v),x=Ir(x,v,h,null),z.return=r,x.return=r,z.sibling=x,r.child=z,x=r.child,x.memoizedState=wf(h),x.childLanes=_f(a,I,h),r.memoizedState=bf,zo(null,x)):(Xi(r),vf(r,z))}var W=a.memoizedState;if(W!==null&&(z=W.dehydrated,z!==null)){if(C)r.flags&256?(Xi(r),r.flags&=-257,r=Nf(a,r,h)):r.memoizedState!==null?(qi(),r.child=a.child,r.flags|=128,r=null):(qi(),z=x.fallback,v=r.mode,x=Lu({mode:"visible",children:x.children},v),z=Ir(z,v,h,null),z.flags|=2,x.return=r,z.return=r,x.sibling=z,r.child=x,Fr(r,a.child,null,h),x=r.child,x.memoizedState=wf(h),x.childLanes=_f(a,I,h),r.memoizedState=bf,r=zo(null,x));else if(Xi(r),a0(z)){if(I=z.nextSibling&&z.nextSibling.dataset,I)var oe=I.dgst;I=oe,x=Error(i(419)),x.stack="",x.digest=I,Eo({value:x,source:null,stack:null}),r=Nf(a,r,h)}else if(jn||vl(a,r,h,!1),I=(h&a.childLanes)!==0,jn||I){if(I=Jt,I!==null&&(x=rl(I,h),x!==0&&x!==W.retryLane))throw W.retryLane=x,kr(a,x),wa(I,a,x),pf;n0(z)||Gu(),r=Nf(a,r,h)}else n0(z)?(r.flags|=192,r.child=a.child,r=null):(a=W.treeContext,nn=$a(z.nextSibling),Xn=r,pt=!0,Ui=null,Qa=!1,a!==null&&Jm(r,a),r=vf(r,x.children),r.flags|=4096);return r}return v?(qi(),z=x.fallback,v=r.mode,W=a.child,oe=W.sibling,x=Qs(W,{mode:"hidden",children:x.children}),x.subtreeFlags=W.subtreeFlags&65011712,oe!==null?z=Qs(oe,z):(z=Ir(z,v,h,null),z.flags|=2),z.return=r,x.return=r,x.sibling=z,r.child=x,zo(null,x),x=r.child,z=a.child.memoizedState,z===null?z=wf(h):(v=z.cachePool,v!==null?(W=En._currentValue,v=v.parent!==W?{parent:W,pool:W}:v):v=s1(),z={baseLanes:z.baseLanes|h,cachePool:v}),x.memoizedState=z,x.childLanes=_f(a,I,h),r.memoizedState=bf,zo(a.child,x)):(Xi(r),h=a.child,a=h.sibling,h=Qs(h,{mode:"visible",children:x.children}),h.return=r,h.sibling=null,a!==null&&(I=r.deletions,I===null?(r.deletions=[a],r.flags|=16):I.push(a)),r.child=h,r.memoizedState=null,h)}function vf(a,r){return r=Lu({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function Lu(a,r){return a=Da(22,a,null,r),a.lanes=0,a}function Nf(a,r,h){return Fr(r,a.child,null,h),a=vf(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function pg(a,r,h){a.lanes|=r;var x=a.alternate;x!==null&&(x.lanes|=r),Bh(a.return,r,h)}function Af(a,r,h,x,v,C){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:v,treeForkCount:C}:(I.isBackwards=r,I.rendering=null,I.renderingStartTime=0,I.last=x,I.tail=h,I.tailMode=v,I.treeForkCount=C)}function yg(a,r,h){var x=r.pendingProps,v=x.revealOrder,C=x.tail;x=x.children;var I=vn.current,z=(I&2)!==0;if(z?(I=I&1|2,r.flags|=128):I&=1,je(vn,I),Kn(a,r,x,h),x=pt?Co:0,!z&&a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&pg(a,h,r);else if(a.tag===19)pg(a,h,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(h=r.child,v=null;h!==null;)a=h.alternate,a!==null&&Au(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=r.child,r.child=null):(v=h.sibling,h.sibling=null),Af(r,!1,v,h,C,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,v=r.child,r.child=null;v!==null;){if(a=v.alternate,a!==null&&Au(a)===null){r.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}Af(r,!0,h,null,C,x);break;case"together":Af(r,!1,null,null,void 0,x);break;default:r.memoizedState=null}return r.child}function ai(a,r,h){if(a!==null&&(r.dependencies=a.dependencies),Qi|=r.lanes,(h&r.childLanes)===0)if(a!==null){if(vl(a,r,h,!1),(h&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,h=Qs(a,a.pendingProps),r.child=h,h.return=r;a.sibling!==null;)a=a.sibling,h=h.sibling=Qs(a,a.pendingProps),h.return=r;h.sibling=null}return r.child}function Sf(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&xu(a)))}function Iw(a,r,h){switch(r.tag){case 3:wt(r,r.stateNode.containerInfo),Vi(r,En,a.memoizedState.cache),Or();break;case 27:case 5:rs(r);break;case 4:wt(r,r.stateNode.containerInfo);break;case 10:Vi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kh(r),null;break;case 13:var x=r.memoizedState;if(x!==null)return x.dehydrated!==null?(Xi(r),r.flags|=128,null):(h&r.child.childLanes)!==0?xg(a,r,h):(Xi(r),a=ai(a,r,h),a!==null?a.sibling:null);Xi(r);break;case 19:var v=(a.flags&128)!==0;if(x=(h&r.childLanes)!==0,x||(vl(a,r,h,!1),x=(h&r.childLanes)!==0),v){if(x)return yg(a,r,h);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),je(vn,vn.current),x)break;return null;case 22:return r.lanes=0,ug(a,r,h,r.pendingProps);case 24:Vi(r,En,a.memoizedState.cache)}return ai(a,r,h)}function bg(a,r,h){if(a!==null)if(a.memoizedProps!==r.pendingProps)jn=!0;else{if(!Sf(a,h)&&(r.flags&128)===0)return jn=!1,Iw(a,r,h);jn=(a.flags&131072)!==0}else jn=!1,pt&&(r.flags&1048576)!==0&&Qm(r,Co,r.index);switch(r.lanes=0,r.tag){case 16:e:{var x=r.pendingProps;if(a=Pr(r.elementType),r.type=a,typeof a=="function")jh(a)?(x=Hr(a,x),r.tag=1,r=mg(null,r,a,x,h)):(r.tag=0,r=yf(null,r,a,x,h));else{if(a!=null){var v=a.$$typeof;if(v===K){r.tag=11,r=lg(null,r,a,x,h);break e}else if(v===Y){r.tag=14,r=og(null,r,a,x,h);break e}}throw r=et(a)||a,Error(i(306,r,""))}}return r;case 0:return yf(a,r,r.type,r.pendingProps,h);case 1:return x=r.type,v=Hr(x,r.pendingProps),mg(a,r,x,v,h);case 3:e:{if(wt(r,r.stateNode.containerInfo),a===null)throw Error(i(387));x=r.pendingProps;var C=r.memoizedState;v=C.element,Yh(a,r),Oo(r,x,null,h);var I=r.memoizedState;if(x=I.cache,Vi(r,En,x),x!==C.cache&&Ph(r,[En],h,!0),Io(),x=I.element,C.isDehydrated)if(C={element:x,isDehydrated:!1,cache:I.cache},r.updateQueue.baseState=C,r.memoizedState=C,r.flags&256){r=gg(a,r,x,h);break e}else if(x!==v){v=qa(Error(i(424)),r),Eo(v),r=gg(a,r,x,h);break e}else for(a=r.stateNode.containerInfo,a.nodeType == "9"?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,nn=$a(a.firstChild),Xn=r,pt=!0,Ui=null,Qa=!0,h=u1(r,null,x,h),r.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Or(),x===v){r=ai(a,r,h);break e}Kn(a,r,x,h)}r=r.child}return r;case 26:return Ru(a,r),a===null?(h=Mx(r.type,null,r.pendingProps,null))?r.memoizedState=h:pt||(h=r.type,a=r.pendingProps,x=Ju(Ne.current).createElement(h),x[bn]=r,x[Rt]=a,Zn(x,h,a),mn(x),r.stateNode=x):r.memoizedState=Mx(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return rs(r),a===null&&pt&&(x=r.stateNode=Ex(r.type,r.pendingProps,Ne.current),Xn=r,Qa=!0,v=nn,nr(r.type)?(s0=v,nn=$a(x.firstChild)):nn=v),Kn(a,r,r.pendingProps.children,h),Ru(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&pt&&((v=x=nn)&&(x=c_(x,r.type,r.pendingProps,Qa),x!==null?(r.stateNode=x,Xn=r,nn=$a(x.firstChild),Qa=!1,v=!0):v=!1),v||Hi(r)),rs(r),v=r.type,C=r.pendingProps,I=a!==null?a.memoizedProps:null,x=C.children,$f(v,C)?x=null:I!==null&&$f(v,I)&&(r.flags|=32),r.memoizedState!==null&&(v=Qh(a,r,Aw,null,null,h),ec._currentValue=v),Ru(a,r),Kn(a,r,x,h),r.child;case 6:return a===null&&pt&&((a=h=nn)&&(h=u_(h,r.pendingProps,Qa),h!==null?(r.stateNode=h,Xn=r,nn=null,a=!0):a=!1),a||Hi(r)),null;case 13:return xg(a,r,h);case 4:return wt(r,r.stateNode.containerInfo),x=r.pendingProps,a===null?r.child=Fr(r,null,x,h):Kn(a,r,x,h),r.child;case 11:return lg(a,r,r.type,r.pendingProps,h);case 7:return Kn(a,r,r.pendingProps,h),r.child;case 8:return Kn(a,r,r.pendingProps.children,h),r.child;case 12:return Kn(a,r,r.pendingProps.children,h),r.child;case 10:return x=r.pendingProps,Vi(r,r.type,x.value),Kn(a,r,x.children,h),r.child;case 9:return v=r.type._context,x=r.pendingProps.children,Lr(r),v=qn(v),x=x(v),r.flags|=1,Kn(a,r,x,h),r.child;case 14:return og(a,r,r.type,r.pendingProps,h);case 15:return cg(a,r,r.type,r.pendingProps,h);case 19:return yg(a,r,h);case 31:return kw(a,r,h);case 22:return ug(a,r,h,r.pendingProps);case 24:return Lr(r),x=qn(En),a===null?(v=Uh(),v===null&&(v=Jt,C=zh(),v.pooledCache=C,C.refCount++,C!==null&&(v.pooledCacheLanes|=h),v=C),r.memoizedState={parent:x,cache:v},Vh(r),Vi(r,En,v)):((a.lanes&h)!==0&&(Yh(a,r),Oo(r,null,null,h),Io()),v=a.memoizedState,C=r.memoizedState,v.parent!==x?(v={parent:x,cache:x},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),Vi(r,En,x)):(x=C.cache,Vi(r,En,x),x!==v.cache&&Ph(r,[En],h,!0))),Kn(a,r,r.pendingProps.children,h),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function si(a){a.flags|=4}function Cf(a,r,h,x,v){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Wg())a.flags|=8192;else throw zr=wu,Hh}else a.flags&=-16777217}function wg(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Rx(r))if(Wg())a.flags|=8192;else throw zr=wu,Hh}function Bu(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?Rn():536870912,a.lanes|=r,Ol|=r)}function Fo(a,r){if(!pt)switch(a.tailMode){case"hidden":r=a.tail;for(var h=null;r!==null;)r.alternate!==null&&(h=r),r=r.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function an(a){var r=a.alternate!==null&&a.alternate.child===a.child,h=0,x=0;if(r)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,x|=v.subtreeFlags&65011712,x|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,x|=v.subtreeFlags,x|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=x,a.childLanes=h,r}function Ow(a,r,h){var x=r.pendingProps;switch(Ih(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(r),null;case 1:return an(r),null;case 3:return h=r.stateNode,x=null,a!==null&&(x=a.memoizedState.cache),r.memoizedState.cache!==x&&(r.flags|=2048),ei(En),qt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(_l(r)?si(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rh())),an(r),null;case 26:var v=r.type,C=r.memoizedState;return a===null?(si(r),C!==null?(an(r),wg(r,C)):(an(r),Cf(r,v,null,x,h))):C?C!==a.memoizedState?(si(r),an(r),wg(r,C)):(an(r),r.flags&=-16777217):(a=a.memoizedProps,a!==x&&si(r),an(r),Cf(r,v,a,x,h)),null;case 27:if(In(r),h=Ne.current,v=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==x&&si(r);else{if(!x){if(r.stateNode===null)throw Error(i(166));return an(r),null}a=Me.current,_l(r)?$m(r):(a=Ex(v,x,h),r.stateNode=a,si(r))}return an(r),null;case 5:if(In(r),v=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==x&&si(r);else{if(!x){if(r.stateNode===null)throw Error(i(166));return an(r),null}if(C=Me.current,_l(r))$m(r);else{var I=Ju(Ne.current);switch(C){case 1:C=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:C=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":C=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":C=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":C=I.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof x.is=="string"?I.createElement("select",{is:x.is}):I.createElement("select"),x.multiple?C.multiple=!0:x.size&&(C.size=x.size);break;default:C=typeof x.is=="string"?I.createElement(v,{is:x.is}):I.createElement(v)}}C[bn]=r,C[Rt]=x;e:for(I=r.child;I!==null;){if(I.tag===5||I.tag===6)C.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===r)break e;for(;I.sibling===null;){if(I.return===null||I.return===r)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}r.stateNode=C;e:switch(Zn(C,v,x),v){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&si(r)}}return an(r),Cf(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,h),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==x&&si(r);else{if(typeof x!="string"&&r.stateNode===null)throw Error(i(166));if(a=Ne.current,_l(r)){if(a=r.stateNode,h=r.memoizedProps,x=null,v=Xn,v!==null)switch(v.tag){case 27:case 5:x=v.memoizedProps}a[bn]=r,a=!!(a.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||xx(a.nodeValue,h)),a||Hi(r,!0)}else a=Ju(a).createTextNode(x),a[bn]=r,r.stateNode=a}return an(r),null;case 31:if(h=r.memoizedState,a===null||a.memoizedState!==null){if(x=_l(r),h!==null){if(a===null){if(!x)throw Error(i(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[bn]=r}else Or(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;an(r),a=!1}else h=Rh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return r.flags&256?(Ia(r),r):(Ia(r),null);if((r.flags&128)!==0)throw Error(i(558))}return an(r),null;case 13:if(x=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=_l(r),x!==null&&x.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[bn]=r}else Or(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;an(r),v=!1}else v=Rh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return r.flags&256?(Ia(r),r):(Ia(r),null)}return Ia(r),(r.flags&128)!==0?(r.lanes=h,r):(h=x!==null,a=a!==null&&a.memoizedState!==null,h&&(x=r.child,v=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(v=x.alternate.memoizedState.cachePool.pool),C=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==v&&(x.flags|=2048)),h!==a&&h&&(r.child.flags|=8192),Bu(r,r.updateQueue),an(r),null);case 4:return qt(),a===null&&qf(r.stateNode.containerInfo),an(r),null;case 10:return ei(r.type),an(r),null;case 19:if(ge(vn),x=r.memoizedState,x===null)return an(r),null;if(v=(r.flags&128)!==0,C=x.rendering,C===null)if(v)Fo(x,!1);else{if(pn!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(C=Au(a),C!==null){for(r.flags|=128,Fo(x,!1),a=C.updateQueue,r.updateQueue=a,Bu(r,a),r.subtreeFlags=0,a=h,h=r.child;h!==null;)qm(h,a),h=h.sibling;return je(vn,vn.current&1|2),pt&&Js(r,x.treeForkCount),r.child}a=a.sibling}x.tail!==null&&un()>Hu&&(r.flags|=128,v=!0,Fo(x,!1),r.lanes=4194304)}else{if(!v)if(a=Au(C),a!==null){if(r.flags|=128,v=!0,a=a.updateQueue,r.updateQueue=a,Bu(r,a),Fo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!pt)return an(r),null}else 2*un()-x.renderingStartTime>Hu&&h!==536870912&&(r.flags|=128,v=!0,Fo(x,!1),r.lanes=4194304);x.isBackwards?(C.sibling=r.child,r.child=C):(a=x.last,a!==null?a.sibling=C:r.child=C,x.last=C)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=un(),a.sibling=null,h=vn.current,je(vn,v?h&1|2:h&1),pt&&Js(r,x.treeForkCount),a):(an(r),null);case 22:case 23:return Ia(r),qh(),x=r.memoizedState!==null,a!==null?a.memoizedState!==null!==x&&(r.flags|=8192):x&&(r.flags|=8192),x?(h&536870912)!==0&&(r.flags&128)===0&&(an(r),r.subtreeFlags&6&&(r.flags|=8192)):an(r),h=r.updateQueue,h!==null&&Bu(r,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),x=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(x=r.memoizedState.cachePool.pool),x!==h&&(r.flags|=2048),a!==null&&ge(Br),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),ei(En),an(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Rw(a,r){switch(Ih(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return ei(En),qt(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return In(r),null;case 31:if(r.memoizedState!==null){if(Ia(r),r.alternate===null)throw Error(i(340));Or()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(Ia(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Or()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return ge(vn),null;case 4:return qt(),null;case 10:return ei(r.type),null;case 22:case 23:return Ia(r),qh(),a!==null&&ge(Br),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return ei(En),null;case 25:return null;default:return null}}function _g(a,r){switch(Ih(r),r.tag){case 3:ei(En),qt();break;case 26:case 27:case 5:In(r);break;case 4:qt();break;case 31:r.memoizedState!==null&&Ia(r);break;case 13:Ia(r);break;case 19:ge(vn);break;case 10:ei(r.type);break;case 22:case 23:Ia(r),qh(),a!==null&&ge(Br);break;case 24:ei(En)}}function Uo(a,r){try{var h=r.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var v=x.next;h=v;do{if((h.tag&a)===a){x=void 0;var C=h.create,I=h.inst;x=C(),I.destroy=x}h=h.next}while(h!==v)}}catch(z){Bt(r,r.return,z)}}function Ki(a,r,h){try{var x=r.updateQueue,v=x!==null?x.lastEffect:null;if(v!==null){var C=v.next;x=C;do{if((x.tag&a)===a){var I=x.inst,z=I.destroy;if(z!==void 0){I.destroy=void 0,v=r;var W=h,oe=z;try{oe()}catch(xe){Bt(v,W,xe)}}}x=x.next}while(x!==C)}}catch(xe){Bt(r,r.return,xe)}}function vg(a){var r=a.updateQueue;if(r!==null){var h=a.stateNode;try{h1(r,h)}catch(x){Bt(a,a.return,x)}}}function Ng(a,r,h){h.props=Hr(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(x){Bt(a,r,x)}}function Ho(a,r){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var x=a.stateNode;break;case 30:x=a.stateNode;break;default:x=a.stateNode}typeof h=="function"?a.refCleanup=h(x):h.current=x}}catch(v){Bt(a,r,v)}}function Ms(a,r){var h=a.ref,x=a.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(v){Bt(a,r,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){Bt(a,r,v)}else h.current=null}function Ag(a){var r=a.type,h=a.memoizedProps,x=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(v){Bt(a,a.return,v)}}function Ef(a,r,h){try{var x=a.stateNode;a_(x,a.type,h,r),x[Rt]=r}catch(v){Bt(a,a.return,v)}}function Sg(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&nr(a.type)||a.tag===4}function Tf(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Sg(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&nr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function jf(a,r,h){var x=a.tag;if(x===5||x===6)a=a.stateNode,r?(h.nodeType=== "9"?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,r):(r=h.nodeType=== "9"?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,r.appendChild(a),h=h._reactRootContainer,h!=null||r.onclick!==null||(r.onclick=fa));else if(x!==4&&(x===27&&nr(a.type)&&(h=a.stateNode,r=null),a=a.child,a!==null))for(jf(a,r,h),a=a.sibling;a!==null;)jf(a,r,h),a=a.sibling}function Pu(a,r,h){var x=a.tag;if(x===5||x===6)a=a.stateNode,r?h.insertBefore(a,r):h.appendChild(a);else if(x!==4&&(x===27&&nr(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Pu(a,r,h),a=a.sibling;a!==null;)Pu(a,r,h),a=a.sibling}function Cg(a){var r=a.stateNode,h=a.memoizedProps;try{for(var x=a.type,v=r.attributes;v.length;)r.removeAttributeNode(v[0]);Zn(r,x,h),r[bn]=a,r[Rt]=h}catch(C){Bt(a,a.return,C)}}var ii=!1,Mn=!1,Mf=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function Lw(a,r){if(a=a.containerInfo,Qf=id,a=L(a),P(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var v=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var I=0,z=-1,W=-1,oe=0,xe=0,ye=a,ce=null;t:for(;;){for(var he;ye!==h||v!==0&&ye.nodeType!==3||(z=I+v),ye!==C||x!==0&&ye.nodeType!==3||(W=I+x),ye.nodeType===3&&(I+=ye.nodeValue.length),(he=ye.firstChild)!==null;)ce=ye,ye=he;for(;;){if(ye===a)break t;if(ce===h&&++oe===v&&(z=I),ce===C&&++xe===x&&(W=I),(he=ye.nextSibling)!==null)break;ye=ce,ce=ye.parentNode}ye=he}h=z===-1||W===-1?null:{start:z,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(Jf={focusedElem:a,selectionRange:h},id=!1,Vn=r;Vn!==null;)if(r=Vn,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,Vn=a;else for(;Vn!==null;){switch(r=Vn,C=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)v=a[h],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,h=r,v=C.memoizedProps,C=C.memoizedState,x=h.stateNode;try{var Pe=Hr(h.type,v);a=x.getSnapshotBeforeUpdate(Pe,C),x.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){Bt(h,h.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,h=a.nodeType,h=== "9")t0(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":t0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,Vn=a;break}Vn=r.return}}function Tg(a,r,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:li(a,h),x&4&&Uo(5,h);break;case 1:if(li(a,h),x&4)if(a=h.stateNode,r===null)try{a.componentDidMount()}catch(I){Bt(h,h.return,I)}else{var v=Hr(h.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(v,r,a.__reactInternalSnapshotBeforeUpdate)}catch(I){Bt(h,h.return,I)}}x&64&&vg(h),x&512&&Ho(h,h.return);break;case 3:if(li(a,h),x&64&&(a=h.updateQueue,a!==null)){if(r=null,h.child!==null)switch(h.child.tag){case 27:case 5:r=h.child.stateNode;break;case 1:r=h.child.stateNode}try{h1(a,r)}catch(I){Bt(h,h.return,I)}}break;case 27:r===null&&x&4&&Cg(h);case 26:case 5:li(a,h),r===null&&x&4&&Ag(h),x&512&&Ho(h,h.return);break;case 12:li(a,h);break;case 31:li(a,h),x&4&&Dg(a,h);break;case 13:li(a,h),x&4&&kg(a,h),x&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=Gw.bind(null,h),d_(a,h))));break;case 22:if(x=h.memoizedState!==null||ii,!x){r=r!==null&&r.memoizedState!==null||Mn,v=ii;var C=Mn;ii=x,(Mn=r)&&!C?oi(a,h,(h.subtreeFlags&8772)!==0):li(a,h),ii=v,Mn=C}break;case 30:break;default:li(a,h)}}function jg(a){var r=a.alternate;r!==null&&(a.alternate=null,jg(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&ha(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var on=null,xa=!1;function ri(a,r,h){for(h=h.child;h!==null;)Mg(a,r,h),h=h.sibling}function Mg(a,r,h){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount($t,h)}catch{}switch(h.tag){case 26:Mn||Ms(h,r),ri(a,r,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mn||Ms(h,r);var x=on,v=xa;nr(h.type)&&(on=h.stateNode,xa=!1),ri(a,r,h),Qo(h.stateNode),on=x,xa=v;break;case 5:Mn||Ms(h,r);case 6:if(x=on,v=xa,on=null,ri(a,r,h),on=x,xa=v,on!==null)if(xa)try{(on.nodeType=== "9"?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(h.stateNode)}catch(C){Bt(h,r,C)}else try{on.removeChild(h.stateNode)}catch(C){Bt(h,r,C)}break;case 18:on!==null&&(xa?(a=on,vx(a.nodeType=== "9"?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Hl(a)):vx(on,h.stateNode));break;case 4:x=on,v=xa,on=h.stateNode.containerInfo,xa=!0,ri(a,r,h),on=x,xa=v;break;case 0:case 11:case 14:case 15:Ki(2,h,r),Mn||Ki(4,h,r),ri(a,r,h);break;case 1:Mn||(Ms(h,r),x=h.stateNode,typeof x.componentWillUnmount=="function"&&Ng(h,r,x)),ri(a,r,h);break;case 21:ri(a,r,h);break;case 22:Mn=(x=Mn)||h.memoizedState!==null,ri(a,r,h),Mn=x;break;default:ri(a,r,h)}}function Dg(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Hl(a)}catch(h){Bt(r,r.return,h)}}}function kg(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Hl(a)}catch(h){Bt(r,r.return,h)}}function Bw(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new Eg),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new Eg),r;default:throw Error(i(435,a.tag))}}function zu(a,r){var h=Bw(a);r.forEach(function(x){if(!h.has(x)){h.add(x);var v=Ww.bind(null,a,x);x.then(v,v)}})}function pa(a,r){var h=r.deletions;if(h!==null)for(var x=0;x<h.length;x++){var v=h[x],C=a,I=r,z=I;e:for(;z!==null;){switch(z.tag){case 27:if(nr(z.type)){on=z.stateNode,xa=!1;break e}break;case 5:on=z.stateNode,xa=!1;break e;case 3:case 4:on=z.stateNode.containerInfo,xa=!0;break e}z=z.return}if(on===null)throw Error(i(160));Mg(C,I,v),on=null,xa=!1,C=v.alternate,C!==null&&(C.return=null),v.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ig(r,a),r=r.sibling}var ms=null;function Ig(a,r){var h=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:pa(r,a),ya(a),x&4&&(Ki(3,a,a.return),Uo(3,a),Ki(5,a,a.return));break;case 1:pa(r,a),ya(a),x&512&&(Mn||h===null||Ms(h,h.return)),x&64&&ii&&(a=a.updateQueue,a!==null&&(x=a.callbacks,x!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var v=ms;if(pa(r,a),ya(a),x&512&&(Mn||h===null||Ms(h,h.return)),x&4){var C=h!==null?h.memoizedState:null;if(x=a.memoizedState,h===null)if(x===null)if(a.stateNode===null){e:{x=a.type,h=a.memoizedProps,v=v.ownerDocument||v;t:switch(x){case"title":C=v.getElementsByTagName("title")[0],(!C||C[Nr]||C[bn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=v.createElement(x),v.head.insertBefore(C,v.querySelector("head > title"))),Zn(C,x,h),C[bn]=a,mn(C),x=C;break e;case"link":var I=Ix("link","href",v).get(x+(h.href||""));if(I){for(var z=0;z<I.length;z++)if(C=I[z],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(z,1);break t}}C=v.createElement(x),Zn(C,x,h),v.head.appendChild(C);break;case"meta":if(I=Ix("meta","content",v).get(x+(h.content||""))){for(z=0;z<I.length;z++)if(C=I[z],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(z,1);break t}}C=v.createElement(x),Zn(C,x,h),v.head.appendChild(C);break;default:throw Error(i(468,x))}C[bn]=a,mn(C),x=C}a.stateNode=x}else Ox(v,a.type,a.stateNode);else a.stateNode=kx(v,x,a.memoizedProps);else C!==x?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,x===null?Ox(v,a.type,a.stateNode):kx(v,x,a.memoizedProps)):x===null&&a.stateNode!==null&&Ef(a,a.memoizedProps,h.memoizedProps)}break;case 27:pa(r,a),ya(a),x&512&&(Mn||h===null||Ms(h,h.return)),h!==null&&x&4&&Ef(a,a.memoizedProps,h.memoizedProps);break;case 5:if(pa(r,a),ya(a),x&512&&(Mn||h===null||Ms(h,h.return)),a.flags&32){v=a.stateNode;try{Di(v,"")}catch(Pe){Bt(a,a.return,Pe)}}x&4&&a.stateNode!=null&&(v=a.memoizedProps,Ef(a,v,h!==null?h.memoizedProps:v)),x&1024&&(Mf=!0);break;case 6:if(pa(r,a),ya(a),x&4){if(a.stateNode===null)throw Error(i(162));x=a.memoizedProps,h=a.stateNode;try{h.nodeValue=x}catch(Pe){Bt(a,a.return,Pe)}}break;case 3:if(td=null,v=ms,ms=$u(r.containerInfo),pa(r,a),ms=v,ya(a),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Hl(r.containerInfo)}catch(Pe){Bt(a,a.return,Pe)}Mf&&(Mf=!1,Og(a));break;case 4:x=ms,ms=$u(a.stateNode.containerInfo),pa(r,a),ya(a),ms=x;break;case 12:pa(r,a),ya(a);break;case 31:pa(r,a),ya(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,zu(a,x)));break;case 13:pa(r,a),ya(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Uu=un()),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,zu(a,x)));break;case 22:v=a.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,oe=ii,xe=Mn;if(ii=oe||v,Mn=xe||W,pa(r,a),Mn=xe,ii=oe,ya(a),x&8192)e:for(r=a.stateNode,r._visibility=v?r._visibility&-2:r._visibility|1,v&&(h===null||W||ii||Mn||Vr(a)),h=null,r=a;;){if(r.tag===5||r.tag===26){if(h===null){W=h=r;try{if(C=W.stateNode,v)I=C.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{z=W.stateNode;var ye=W.memoizedProps.style,ce=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;z.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Pe){Bt(W,W.return,Pe)}}}else if(r.tag===6){if(h===null){W=r;try{W.stateNode.nodeValue=v?"":W.memoizedProps}catch(Pe){Bt(W,W.return,Pe)}}}else if(r.tag===18){if(h===null){W=r;try{var he=W.stateNode;v?Nx(he,!0):Nx(W.stateNode,!1)}catch(Pe){Bt(W,W.return,Pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;h===r&&(h=null),r=r.return}h===r&&(h=null),r.sibling.return=r.return,r=r.sibling}x&4&&(x=a.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,zu(a,h))));break;case 19:pa(r,a),ya(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,zu(a,x)));break;case 30:break;case 21:break;default:pa(r,a),ya(a)}}function ya(a){var r=a.flags;if(r&2){try{for(var h,x=a.return;x!==null;){if(Sg(x)){h=x;break}x=x.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var v=h.stateNode,C=Tf(a);Pu(a,C,v);break;case 5:var I=h.stateNode;h.flags&32&&(Di(I,""),h.flags&=-33);var z=Tf(a);Pu(a,z,I);break;case 3:case 4:var W=h.stateNode.containerInfo,oe=Tf(a);jf(a,oe,W);break;default:throw Error(i(161))}}catch(xe){Bt(a,a.return,xe)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function Og(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;Og(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function li(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tg(a,r.alternate,r),r=r.sibling}function Vr(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:Ki(4,r,r.return),Vr(r);break;case 1:Ms(r,r.return);var h=r.stateNode;typeof h.componentWillUnmount=="function"&&Ng(r,r.return,h),Vr(r);break;case 27:Qo(r.stateNode);case 26:case 5:Ms(r,r.return),Vr(r);break;case 22:r.memoizedState===null&&Vr(r);break;case 30:Vr(r);break;default:Vr(r)}a=a.sibling}}function oi(a,r,h){for(h=h&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var x=r.alternate,v=a,C=r,I=C.flags;switch(C.tag){case 0:case 11:case 15:oi(v,C,h),Uo(4,C);break;case 1:if(oi(v,C,h),x=C,v=x.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(oe){Bt(x,x.return,oe)}if(x=C,v=x.updateQueue,v!==null){var z=x.stateNode;try{var W=v.shared.hiddenCallbacks;if(W!==null)for(v.shared.hiddenCallbacks=null,v=0;v<W.length;v++)d1(W[v],z)}catch(oe){Bt(x,x.return,oe)}}h&&I&64&&vg(C),Ho(C,C.return);break;case 27:Cg(C);case 26:case 5:oi(v,C,h),h&&x===null&&I&4&&Ag(C),Ho(C,C.return);break;case 12:oi(v,C,h);break;case 31:oi(v,C,h),h&&I&4&&Dg(v,C);break;case 13:oi(v,C,h),h&&I&4&&kg(v,C);break;case 22:C.memoizedState===null&&oi(v,C,h),Ho(C,C.return);break;case 30:break;default:oi(v,C,h)}r=r.sibling}}function Df(a,r){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&To(h))}function kf(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&To(a))}function gs(a,r,h,x){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rg(a,r,h,x),r=r.sibling}function Rg(a,r,h,x){var v=r.flags;switch(r.tag){case 0:case 11:case 15:gs(a,r,h,x),v&2048&&Uo(9,r);break;case 1:gs(a,r,h,x);break;case 3:gs(a,r,h,x),v&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&To(a)));break;case 12:if(v&2048){gs(a,r,h,x),a=r.stateNode;try{var C=r.memoizedProps,I=C.id,z=C.onPostCommit;typeof z=="function"&&z(I,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Bt(r,r.return,W)}}else gs(a,r,h,x);break;case 31:gs(a,r,h,x);break;case 13:gs(a,r,h,x);break;case 23:break;case 22:C=r.stateNode,I=r.alternate,r.memoizedState!==null?C._visibility&2?gs(a,r,h,x):Vo(a,r):C._visibility&2?gs(a,r,h,x):(C._visibility|=2,Dl(a,r,h,x,(r.subtreeFlags&10256)!==0||!1)),v&2048&&Df(I,r);break;case 24:gs(a,r,h,x),v&2048&&kf(r.alternate,r);break;default:gs(a,r,h,x)}}function Dl(a,r,h,x,v){for(v=v&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var C=a,I=r,z=h,W=x,oe=I.flags;switch(I.tag){case 0:case 11:case 15:Dl(C,I,z,W,v),Uo(8,I);break;case 23:break;case 22:var xe=I.stateNode;I.memoizedState!==null?xe._visibility&2?Dl(C,I,z,W,v):Vo(C,I):(xe._visibility|=2,Dl(C,I,z,W,v)),v&&oe&2048&&Df(I.alternate,I);break;case 24:Dl(C,I,z,W,v),v&&oe&2048&&kf(I.alternate,I);break;default:Dl(C,I,z,W,v)}r=r.sibling}}function Vo(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var h=a,x=r,v=x.flags;switch(x.tag){case 22:Vo(h,x),v&2048&&Df(x.alternate,x);break;case 24:Vo(h,x),v&2048&&kf(x.alternate,x);break;default:Vo(h,x)}r=r.sibling}}var Yo=8192;function kl(a,r,h){if(a.subtreeFlags&Yo)for(a=a.child;a!==null;)Lg(a,r,h),a=a.sibling}function Lg(a,r,h){switch(a.tag){case 26:kl(a,r,h),a.flags&Yo&&a.memoizedState!==null&&N_(h,ms,a.memoizedState,a.memoizedProps);break;case 5:kl(a,r,h);break;case 3:case 4:var x=ms;ms=$u(a.stateNode.containerInfo),kl(a,r,h),ms=x;break;case 22:a.memoizedState===null&&(x=a.alternate,x!==null&&x.memoizedState!==null?(x=Yo,Yo=16777216,kl(a,r,h),Yo=x):kl(a,r,h));break;default:kl(a,r,h)}}function Bg(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function Go(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var h=0;h<r.length;h++){var x=r[h];Vn=x,zg(x,a)}Bg(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pg(a),a=a.sibling}function Pg(a){switch(a.tag){case 0:case 11:case 15:Go(a),a.flags&2048&&Ki(9,a,a.return);break;case 3:Go(a);break;case 12:Go(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,Fu(a)):Go(a);break;default:Go(a)}}function Fu(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var h=0;h<r.length;h++){var x=r[h];Vn=x,zg(x,a)}Bg(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:Ki(8,r,r.return),Fu(r);break;case 22:h=r.stateNode,h._visibility&2&&(h._visibility&=-3,Fu(r));break;default:Fu(r)}a=a.sibling}}function zg(a,r){for(;Vn!==null;){var h=Vn;switch(h.tag){case 0:case 11:case 15:Ki(8,h,r);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:To(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Vn=x;else e:for(h=a;Vn!==null;){x=Vn;var v=x.sibling,C=x.return;if(jg(x),x===h){Vn=null;break e}if(v!==null){v.return=C,Vn=v;break e}Vn=C}}}var Pw={getCacheForType:function(a){var r=qn(En),h=r.data.get(a);return h===void 0&&(h=a(),r.data.set(a,h)),h},cacheSignal:function(){return qn(En).controller.signal}},zw=typeof WeakMap=="function"?WeakMap:Map,jt=0,Jt=null,ut=null,mt=0,Lt=0,Oa=null,Zi=!1,Il=!1,If=!1,ci=0,pn=0,Qi=0,Yr=0,Of=0,Ra=0,Ol=0,Wo=null,ba=null,Rf=!1,Uu=0,Fg=0,Hu=1/0,Vu=null,Ji=null,zn=0,$i=null,Rl=null,ui=0,Lf=0,Bf=null,Ug=null,Xo=0,Pf=null;function La(){return(jt&2)!==0&&mt!==0?mt&-mt:se.T!==null?Yf():na()}function Hg(){if(Ra===0)if((mt&536870912)===0||pt){var a=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),Ra=a}else Ra=536870912;return a=ka.current,a!==null&&(a.flags|=32),Ra}function wa(a,r,h){(a===Jt&&(Lt===2||Lt=== "9")||a.cancelPendingCommit!==null)&&(Ll(a,0),er(a,mt,Ra,!1)),vs(a,h),((jt&2)===0||a!==Jt)&&(a===Jt&&((jt&2)===0&&(Yr|=h),pn===4&&er(a,mt,Ra,!1)),Ds(a))}function Vg(a,r,h){if((jt&6)!==0)throw Error(i(327));var x=!h&&(r&127)===0&&(r&a.expiredLanes)===0||Gn(a,r),v=x?Hw(a,r):Ff(a,r,!0),C=x;do{if(v===0){Il&&!x&&er(a,r,0,!1);break}else{if(h=a.current.alternate,C&&!Fw(h)){v=Ff(a,r,!1),C=!1;continue}if(v===2){if(C=r,a.errorRecoveryDisabledLanes&C)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){r=I;e:{var z=a;v=Wo;var W=z.current.memoizedState.isDehydrated;if(W&&(Ll(z,I).flags|=256),I=Ff(z,I,!1),I!==2){if(If&&!W){z.errorRecoveryDisabledLanes|=C,Yr|=C,v=4;break e}C=ba,ba=v,C!==null&&(ba===null?ba=C:ba.push.apply(ba,C))}v=I}if(C=!1,v!==2)continue}}if(v===1){Ll(a,0),er(a,r,0,!0);break}e:{switch(x=a,C=v,C){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:er(x,r,Ra,!Zi);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(v=Uu+300-un(),10<v)){if(er(x,r,Ra,!Zi),vr(x,0,!0)!==0)break e;ui=r,x.timeoutHandle=wx(Yg.bind(null,x,h,ba,Vu,Rf,r,Ra,Yr,Ol,Zi,C,"Throttled",-0,0),v);break e}Yg(x,h,ba,Vu,Rf,r,Ra,Yr,Ol,Zi,C,null,-0,0)}}break}while(!0);Ds(a)}function Yg(a,r,h,x,v,C,I,z,W,oe,xe,ye,ce,he){if(a.timeoutHandle=-1,ye=r.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},Lg(r,C,ye);var Pe=(C&62914560)===C?Uu-un():(C&4194048)===C?Fg-un():0;if(Pe=A_(ye,Pe),Pe!==null){ui=C,a.cancelPendingCommit=Pe(Jg.bind(null,a,r,C,h,x,v,I,z,W,xe,ye,null,ce,he)),er(a,C,I,!oe);return}}Jg(a,r,C,h,x,v,I,z,W)}function Fw(a){for(var r=a;;){var h=r.tag;if((h===0||h===11||h===15)&&r.flags&16384&&(h=r.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var v=h[x],C=v.getSnapshot;v=v.value;try{if(!b(C(),v))return!1}catch{return!1}}if(h=r.child,r.subtreeFlags&16384&&h!==null)h.return=r,r=h;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function er(a,r,h,x){r&=~Of,r&=~Yr,a.suspendedLanes|=r,a.pingedLanes&=~r,x&&(a.warmLanes|=r),x=a.expirationTimes;for(var v=r;0<v;){var C=31-nt(v),I=1<<C;x[C]=-1,v&=~I}h!==0&&Kc(a,h,r)}function Yu(){return(jt&6)===0?(qo(0),!1):!0}function zf(){if(ut!==null){if(Lt===0)var a=ut.return;else a=ut,$s=Rr=null,ef(a),Cl=null,Mo=0,a=ut;for(;a!==null;)_g(a.alternate,a),a=a.return;ut=null}}function Ll(a,r){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,r_(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),ui=0,zf(),Jt=a,ut=h=Qs(a.current,null),mt=r,Lt=0,Oa=null,Zi=!1,Il=Gn(a,r),If=!1,Ol=Ra=Of=Yr=Qi=pn=0,ba=Wo=null,Rf=!1,(r&8)!==0&&(r|=r&32);var x=a.entangledLanes;if(x!==0)for(a=a.entanglements,x&=r;0<x;){var v=31-nt(x),C=1<<v;r|=a[v],x&=~C}return ci=r,du(),h}function Gg(a,r){tt=null,se.H=Po,r===Sl||r===bu?(r=l1(),Lt=3):r===Hh?(r=l1(),Lt=4):Lt=r===pf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Oa=r,ut===null&&(pn=1,Iu(a,qa(r,a.current)))}function Wg(){var a=ka.current;return a===null?!0:(mt&4194048)===mt?Ja===null:(mt&62914560)===mt||(mt&536870912)!==0?a===Ja:!1}function Xg(){var a=se.H;return se.H=Po,a===null?Po:a}function qg(){var a=se.A;return se.A=Pw,a}function Gu(){pn=4,Zi||(mt&4194048)!==mt&&ka.current!==null||(Il=!0),(Qi&134217727)===0&&(Yr&134217727)===0||Jt===null||er(Jt,mt,Ra,!1)}function Ff(a,r,h){var x=jt;jt|=2;var v=Xg(),C=qg();(Jt!==a||mt!==r)&&(Vu=null,Ll(a,r)),r=!1;var I=pn;e:do try{if(Lt!==0&&ut!==null){var z=ut,W=Oa;switch(Lt){case 8:zf(),I=6;break e;case 3:case 2:case 9:case 6:ka.current===null&&(r=!0);var oe=Lt;if(Lt=0,Oa=null,Bl(a,z,W,oe),h&&Il){I=0;break e}break;default:oe=Lt,Lt=0,Oa=null,Bl(a,z,W,oe)}}Uw(),I=pn;break}catch(xe){Gg(a,xe)}while(!0);return r&&a.shellSuspendCounter++,$s=Rr=null,jt=x,se.H=v,se.A=C,ut===null&&(Jt=null,mt=0,du()),I}function Uw(){for(;ut!==null;)Kg(ut)}function Hw(a,r){var h=jt;jt|=2;var x=Xg(),v=qg();Jt!==a||mt!==r?(Vu=null,Hu=un()+500,Ll(a,r)):Il=Gn(a,r);e:do try{if(Lt!==0&&ut!==null){r=ut;var C=Oa;t:switch(Lt){case 1:Lt=0,Oa=null,Bl(a,r,C,1);break;case 2:case 9:if(i1(C)){Lt=0,Oa=null,Zg(r);break}r=function(){Lt!==2&&Lt!== "9"||Jt!==a||(Lt=7),Ds(a)},C.then(r,r);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:i1(C)?(Lt=0,Oa=null,Zg(r)):(Lt=0,Oa=null,Bl(a,r,C,7));break;case 5:var I=null;switch(ut.tag){case 26:I=ut.memoizedState;case 5:case 27:var z=ut;if(I?Rx(I):z.stateNode.complete){Lt=0,Oa=null;var W=z.sibling;if(W!==null)ut=W;else{var oe=z.return;oe!==null?(ut=oe,Wu(oe)):ut=null}break t}}Lt=0,Oa=null,Bl(a,r,C,5);break;case 6:Lt=0,Oa=null,Bl(a,r,C,6);break;case 8:zf(),pn=6;break e;default:throw Error(i(462))}}Vw();break}catch(xe){Gg(a,xe)}while(!0);return $s=Rr=null,se.H=x,se.A=v,jt=h,ut!==null?0:(Jt=null,mt=0,du(),pn)}function Vw(){for(;ut!==null&&!sl();)Kg(ut)}function Kg(a){var r=bg(a.alternate,a,ci);a.memoizedProps=a.pendingProps,r===null?Wu(a):ut=r}function Zg(a){var r=a,h=r.alternate;switch(r.tag){case 15:case 0:r=fg(h,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=fg(h,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:ef(r);default:_g(h,r),r=ut=qm(r,ci),r=bg(h,r,ci)}a.memoizedProps=a.pendingProps,r===null?Wu(a):ut=r}function Bl(a,r,h,x){$s=Rr=null,ef(r),Cl=null,Mo=0;var v=r.return;try{if(Dw(a,v,r,h,mt)){pn=1,Iu(a,qa(h,a.current)),ut=null;return}}catch(C){if(v!==null)throw ut=v,C;pn=1,Iu(a,qa(h,a.current)),ut=null;return}r.flags&32768?(pt||x===1?a=!0:Il||(mt&536870912)!==0?a=!1:(Zi=a=!0,(x===2||x=== "9"||x===3||x===6)&&(x=ka.current,x!==null&&x.tag===13&&(x.flags|=16384))),Qg(r,a)):Wu(r)}function Wu(a){var r=a;do{if((r.flags&32768)!==0){Qg(r,Zi);return}a=r.return;var h=Ow(r.alternate,r,ci);if(h!==null){ut=h;return}if(r=r.sibling,r!==null){ut=r;return}ut=r=a}while(r!==null);pn===0&&(pn=5)}function Qg(a,r){do{var h=Rw(a.alternate,a);if(h!==null){h.flags&=32767,ut=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!r&&(a=a.sibling,a!==null)){ut=a;return}ut=a=h}while(a!==null);pn=6,ut=null}function Jg(a,r,h,x,v,C,I,z,W){a.cancelPendingCommit=null;do Xu();while(zn!==0);if((jt&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(C=r.lanes|r.childLanes,C|=Eh,Va(a,h,C,I,z,W),a===Jt&&(ut=Jt=null,mt=0),Rl=r,$i=a,ui=h,Lf=C,Bf=v,Ug=x,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Xw(Aa,function(){return ax(),null})):(a.callbackNode=null,a.callbackPriority=0),x=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||x){x=se.T,se.T=null,v=fe.p,fe.p=2,I=jt,jt|=4;try{Lw(a,r,h)}finally{jt=I,fe.p=v,se.T=x}}zn=1,$g(),ex(),tx()}}function $g(){if(zn===1){zn=0;var a=$i,r=Rl,h=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var x=fe.p;fe.p=2;var v=jt;jt|=4;try{Ig(r,a);var C=Jf,I=L(a.containerInfo),z=C.focusedElem,W=C.selectionRange;if(I!==z&&z&&z.ownerDocument&&D(z.ownerDocument.documentElement,z)){if(W!==null&&P(z)){var oe=W.start,xe=W.end;if(xe===void 0&&(xe=oe),"selectionStart"in z)z.selectionStart=oe,z.selectionEnd=Math.min(xe,z.value.length);else{var ye=z.ownerDocument||document,ce=ye&&ye.defaultView||window;if(ce.getSelection){var he=ce.getSelection(),Pe=z.textContent.length,Ke=Math.min(W.start,Pe),Wt=W.end===void 0?Ke:Math.min(W.end,Pe);!he.extend&&Ke>Wt&&(I=Wt,Wt=Ke,Ke=I);var ee=E(z,Ke),J=E(z,Wt);if(ee&&J&&(he.rangeCount!==1||he.anchorNode!==ee.node||he.anchorOffset!==ee.offset||he.focusNode!==J.node||he.focusOffset!==J.offset)){var le=ye.createRange();le.setStart(ee.node,ee.offset),he.removeAllRanges(),Ke>Wt?(he.addRange(le),he.extend(J.node,J.offset)):(le.setEnd(J.node,J.offset),he.addRange(le))}}}}for(ye=[],he=z;he=he.parentNode;)he.nodeType===1&&ye.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ye.length;z++){var pe=ye[z];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}id=!!Qf,Jf=Qf=null}finally{jt=v,fe.p=x,se.T=h}}a.current=r,zn=2}}function ex(){if(zn===2){zn=0;var a=$i,r=Rl,h=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var x=fe.p;fe.p=2;var v=jt;jt|=4;try{Tg(a,r.alternate,r)}finally{jt=v,fe.p=x,se.T=h}}zn=3}}function tx(){if(zn===4||zn===3){zn=0,qc();var a=$i,r=Rl,h=ui,x=Ug;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zn=5:(zn=0,Rl=$i=null,nx(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ji=null),ls(h),r=r.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot($t,r,void 0,(r.current.flags&128)===128)}catch{}if(x!==null){r=se.T,v=fe.p,fe.p=2,se.T=null;try{for(var C=a.onRecoverableError,I=0;I<x.length;I++){var z=x[I];C(z.value,{componentStack:z.stack})}}finally{se.T=r,fe.p=v}}(ui&3)!==0&&Xu(),Ds(a),v=a.pendingLanes,(h&261930)!==0&&(v&42)!==0?a===Pf?Xo++:(Xo=0,Pf=a):Xo=0,qo(0)}}function nx(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,To(r)))}function Xu(){return $g(),ex(),tx(),ax()}function ax(){if(zn!==5)return!1;var a=$i,r=Lf;Lf=0;var h=ls(ui),x=se.T,v=fe.p;try{fe.p=32>h?32:h,se.T=null,h=Bf,Bf=null;var C=$i,I=ui;if(zn=0,Rl=$i=null,ui=0,(jt&6)!==0)throw Error(i(331));var z=jt;if(jt|=4,Pg(C.current),Rg(C,C.current,I,h),jt=z,qo(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot($t,C)}catch{}return!0}finally{fe.p=v,se.T=x,nx(a,r)}}function sx(a,r,h){r=qa(h,r),r=xf(a.stateNode,r,2),a=Wi(a,r,2),a!==null&&(vs(a,2),Ds(a))}function Bt(a,r,h){if(a.tag===3)sx(a,a,h);else for(;r!==null;){if(r.tag===3){sx(r,a,h);break}else if(r.tag===1){var x=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ji===null||!Ji.has(x))){a=qa(h,a),h=ig(2),x=Wi(r,h,2),x!==null&&(rg(h,x,r,a),vs(x,2),Ds(x));break}}r=r.return}}function Uf(a,r,h){var x=a.pingCache;if(x===null){x=a.pingCache=new zw;var v=new Set;x.set(r,v)}else v=x.get(r),v===void 0&&(v=new Set,x.set(r,v));v.has(h)||(If=!0,v.add(h),a=Yw.bind(null,a,r,h),r.then(a,a))}function Yw(a,r,h){var x=a.pingCache;x!==null&&x.delete(r),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Jt===a&&(mt&h)===h&&(pn===4||pn===3&&(mt&62914560)===mt&&300>un()-Uu?(jt&2)===0&&Ll(a,0):Of|=h,Ol===mt&&(Ol=0)),Ds(a)}function ix(a,r){r===0&&(r=Rn()),a=kr(a,r),a!==null&&(vs(a,r),Ds(a))}function Gw(a){var r=a.memoizedState,h=0;r!==null&&(h=r.retryLane),ix(a,h)}function Ww(a,r){var h=0;switch(a.tag){case 31:case 13:var x=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:x=a.stateNode;break;case 22:x=a.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(r),ix(a,h)}function Xw(a,r){return Si(a,r)}var qu=null,Pl=null,Hf=!1,Ku=!1,Vf=!1,tr=0;function Ds(a){a!==Pl&&a.next===null&&(Pl===null?qu=Pl=a:Pl=Pl.next=a),Ku=!0,Hf||(Hf=!0,Kw())}function qo(a,r){if(!Vf&&Ku){Vf=!0;do for(var h=!1,x=qu;x!==null;){if(a!==0){var v=x.pendingLanes;if(v===0)var C=0;else{var I=x.suspendedLanes,z=x.pingedLanes;C=(1<<31-nt(42|a)+1)-1,C&=v&~(I&~z),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,cx(x,C))}else C=mt,C=vr(x,x===Jt?C:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(C&3)===0||Gn(x,C)||(h=!0,cx(x,C));x=x.next}while(h);Vf=!1}}function qw(){rx()}function rx(){Ku=Hf=!1;var a=0;tr!==0&&i_()&&(a=tr);for(var r=un(),h=null,x=qu;x!==null;){var v=x.next,C=lx(x,r);C===0?(x.next=null,h===null?qu=v:h.next=v,v===null&&(Pl=h)):(h=x,(a!==0||(C&3)!==0)&&(Ku=!0)),x=v}zn!==0&&zn!==5||qo(a),tr!==0&&(tr=0)}function lx(a,r){for(var h=a.suspendedLanes,x=a.pingedLanes,v=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var I=31-nt(C),z=1<<I,W=v[I];W===-1?((z&h)===0||(z&x)!==0)&&(v[I]=go(z,r)):W<=r&&(a.expiredLanes|=z),C&=~z}if(r=Jt,h=mt,h=vr(a,a===r?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x=a.callbackNode,h===0||a===r&&(Lt===2||Lt=== "9")||a.cancelPendingCommit!==null)return x!==null&&x!==null&&Be(x),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Gn(a,h)){if(r=h&-h,r===a.callbackPriority)return r;switch(x!==null&&Be(x),ls(h)){case 2:case 8:h=ho;break;case 32:h=Aa;break;case 268435456:h=fo;break;default:h=Aa}return x=ox.bind(null,a),h=Si(h,x),a.callbackPriority=r,a.callbackNode=h,r}return x!==null&&x!==null&&Be(x),a.callbackPriority=2,a.callbackNode=null,2}function ox(a,r){if(zn!==0&&zn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Xu()&&a.callbackNode!==h)return null;var x=mt;return x=vr(a,a===Jt?x:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x===0?null:(Vg(a,x,r),lx(a,un()),a.callbackNode!=null&&a.callbackNode===h?ox.bind(null,a):null)}function cx(a,r){if(Xu())return null;Vg(a,r,!0)}function Kw(){l_(function(){(jt&6)!==0?Si(da,qw):rx()})}function Yf(){if(tr===0){var a=Nl;a===0&&(a=_r,_r<<=1,(_r&261888)===0&&(_r=256)),tr=a}return tr}function ux(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ki(""+a)}function dx(a,r){var h=r.ownerDocument.createElement("input");return h.name=r.name,h.value=r.value,a.id&&h.setAttribute("form",a.id),r.parentNode.insertBefore(h,r),a=new FormData(a),h.parentNode.removeChild(h),a}function Zw(a,r,h,x,v){if(r==="submit"&&h&&h.stateNode===v){var C=ux((v[Rt]||null).action),I=x.submitter;I&&(r=(r=I[Rt]||null)?ux(r.formAction):I.getAttribute("formAction"),r!==null&&(C=r,I=null));var z=new Ln("action","action",null,x,v);a.push({event:z,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(tr!==0){var W=I?dx(v,I):new FormData(v);uf(h,{pending:!0,data:W,method:v.method,action:C},null,W)}}else typeof C=="function"&&(z.preventDefault(),W=I?dx(v,I):new FormData(v),uf(h,{pending:!0,data:W,method:v.method,action:C},C,W))},currentTarget:v}]})}}for(var Gf=0;Gf<So.length;Gf++){var Wf=So[Gf],Qw=Wf.toLowerCase(),Jw=Wf[0].toUpperCase()+Wf.slice(1);fs(Qw,"on"+Jw)}fs(ga,"onAnimationEnd"),fs(Wn,"onAnimationIteration"),fs(kt,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Pn,"onTransitionRun"),fs(la,"onTransitionStart"),fs(zi,"onTransitionCancel"),fs(Zs,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function hx(a,r){r=(r&4)!==0;for(var h=0;h<a.length;h++){var x=a[h],v=x.event;x=x.listeners;e:{var C=void 0;if(r)for(var I=x.length-1;0<=I;I--){var z=x[I],W=z.instance,oe=z.currentTarget;if(z=z.listener,W!==C&&v.isPropagationStopped())break e;C=z,v.currentTarget=oe;try{C(v)}catch(xe){uu(xe)}v.currentTarget=null,C=W}else for(I=0;I<x.length;I++){if(z=x[I],W=z.instance,oe=z.currentTarget,z=z.listener,W!==C&&v.isPropagationStopped())break e;C=z,v.currentTarget=oe;try{C(v)}catch(xe){uu(xe)}v.currentTarget=null,C=W}}}}function dt(a,r){var h=r[Ci];h===void 0&&(h=r[Ci]=new Set);var x=a+"__bubble";h.has(x)||(fx(r,a,2,!1),h.add(x))}function Xf(a,r,h){var x=0;r&&(x|=4),fx(h,a,x,r)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function qf(a){if(!a[Zu]){a[Zu]=!0,be.forEach(function(h){h!=="selectionchange"&&($w.has(h)||Xf(h,!1,a),Xf(h,!0,a))});var r=a.nodeType=== "9"?a:a.ownerDocument;r===null||r[Zu]||(r[Zu]=!0,Xf("selectionchange",!1,r))}}function fx(a,r,h,x){switch(Hx(r)){case 2:var v=E_;break;case 8:v=T_;break;default:v=c0}h=v.bind(null,r,h,a),v=void 0,!yo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),x?v!==void 0?a.addEventListener(r,h,{capture:!0,passive:v}):a.addEventListener(r,h,!0):v!==void 0?a.addEventListener(r,h,{passive:v}):a.addEventListener(r,h,!1)}function Kf(a,r,h,x,v){var C=x;if((r&1)===0&&(r&2)===0&&x!==null)e:for(;;){if(x===null)return;var I=x.tag;if(I===3||I===4){var z=x.stateNode.containerInfo;if(z===v)break;if(I===4)for(I=x.return;I!==null;){var W=I.tag;if((W===3||W===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;z!==null;){if(I=fn(z),I===null)return;if(W=I.tag,W===5||W===6||W===26||W===27){x=C=I;continue e}z=z.parentNode}}x=x.return}$c(function(){var oe=C,xe=po(h),ye=[];e:{var ce=cu.get(a);if(ce!==void 0){var he=Ln,Pe=a;switch(a){case"keypress":if(As(h)===0)break e;case"keydown":case"keyup":he=ml;break;case"focusin":Pe="focus",he=_o;break;case"focusout":Pe="blur",he=_o;break;case"beforeblur":case"afterblur":he=_o;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Ah;break;case ga:case Wn:case kt:he=at;break;case Zs:he=Ws;break;case"scroll":case"scrollend":he=eu;break;case"wheel":he=Sh;break;case"copy":case"cut":case"paste":he=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Dt;break;case"toggle":case"beforetoggle":he=No}var Ke=(r&4)!==0,Wt=!Ke&&(a==="scroll"||a==="scrollend"),ee=Ke?ce!==null?ce+"Capture":null:ce;Ke=[];for(var J=oe,le;J!==null;){var pe=J;if(le=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||le===null||ee===null||(pe=Ze(J,ee),pe!=null&&Ke.push(Zo(J,pe,le))),Wt)break;J=J.return}0<Ke.length&&(ce=new he(ce,Pe,null,h,xe),ye.push({event:ce,listeners:Ke}))}}if((r&7)===0){e:{if(ce=a==="mouseover"||a==="pointerover",he=a==="mouseout"||a==="pointerout",ce&&h!==Ar&&(Pe=h.relatedTarget||h.fromElement)&&(fn(Pe)||Pe[Sa]))break e;if((he||ce)&&(ce=xe.window===xe?xe:(ce=xe.ownerDocument)?ce.defaultView||ce.parentWindow:window,he?(Pe=h.relatedTarget||h.toElement,he=oe,Pe=Pe?fn(Pe):null,Pe!==null&&(Wt=u(Pe),Ke=Pe.tag,Pe!==Wt||Ke!==5&&Ke!==27&&Ke!==6)&&(Pe=null)):(he=null,Pe=oe),he!==Pe)){if(Ke=Tt,pe="onMouseLeave",ee="onMouseEnter",J="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=Dt,pe="onPointerLeave",ee="onPointerEnter",J="pointer"),Wt=he==null?ce:Ei(he),le=Pe==null?ce:Ei(Pe),ce=new Ke(pe,J+"leave",he,h,xe),ce.target=Wt,ce.relatedTarget=le,pe=null,fn(xe)===oe&&(Ke=new Ke(ee,J+"enter",Pe,h,xe),Ke.target=le,Ke.relatedTarget=Wt,pe=Ke),Wt=pe,he&&Pe)t:{for(Ke=e_,ee=he,J=Pe,le=0,pe=ee;pe;pe=Ke(pe))le++;pe=0;for(var Ye=J;Ye;Ye=Ke(Ye))pe++;for(;0<le-pe;)ee=Ke(ee),le--;for(;0<pe-le;)J=Ke(J),pe--;for(;le--;){if(ee===J||J!==null&&ee===J.alternate){Ke=ee;break t}ee=Ke(ee),J=Ke(J)}Ke=null}else Ke=null;he!==null&&mx(ye,ce,he,Ke,!1),Pe!==null&&Wt!==null&&mx(ye,Wt,Pe,Ke,!0)}}e:{if(ce=oe?Ei(oe):window,he=ce.nodeName&&ce.nodeName.toLowerCase(),he==="select"||he==="input"&&ce.type==="file")var St=Ma;else if(Ao(ce))if(ou)St=m;else{St=c;var Ue=s}else he=ce.nodeName,!he||he.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?oe&&Kt(oe.elementType)&&(St=Ma):St=d;if(St&&(St=St(a,oe))){ja(ye,St,h,xe);break e}Ue&&Ue(a,ce,oe),a==="focusout"&&oe&&ce.type==="number"&&oe.memoizedProps.value!=null&&U(ce,"number",ce.value)}switch(Ue=oe?Ei(oe):window,a){case"focusin":(Ao(Ue)||Ue.contentEditable==="true")&&(X=Ue,Z=oe,ae=null);break;case"focusout":ae=Z=X=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,Ce(ye,h,xe);break;case"selectionchange":if(V)break;case"keydown":case"keyup":Ce(ye,h,xe)}var st;if(Er)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Pi?lu(a,h)&&(gt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(gt="onCompositionStart");gt&&(ru&&h.locale!=="ko"&&(Pi||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Pi&&(st=Ii()):(ds=xe,hs="value"in ds?ds.value:ds.textContent,Pi=!0)),Ue=Qu(oe,gt),0<Ue.length&&(gt=new au(gt,a,null,h,xe),ye.push({event:gt,listeners:Ue}),st?gt.data=st:(st=Bi(h),st!==null&&(gt.data=st)))),(st=iu?Es(a,h):xl(a,h))&&(gt=Qu(oe,"onBeforeInput"),0<gt.length&&(Ue=new au("onBeforeInput","beforeinput",null,h,xe),ye.push({event:Ue,listeners:gt}),Ue.data=st)),Zw(ye,a,oe,h,xe)}hx(ye,r)})}function Zo(a,r,h){return{instance:a,listener:r,currentTarget:h}}function Qu(a,r){for(var h=r+"Capture",x=[];a!==null;){var v=a,C=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||C===null||(v=Ze(a,h),v!=null&&x.unshift(Zo(a,v,C)),v=Ze(a,r),v!=null&&x.push(Zo(a,v,C))),a.tag===3)return x;a=a.return}return[]}function e_(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mx(a,r,h,x,v){for(var C=r._reactName,I=[];h!==null&&h!==x;){var z=h,W=z.alternate,oe=z.stateNode;if(z=z.tag,W!==null&&W===x)break;z!==5&&z!==26&&z!==27||oe===null||(W=oe,v?(oe=Ze(h,C),oe!=null&&I.unshift(Zo(h,oe,W))):v||(oe=Ze(h,C),oe!=null&&I.push(Zo(h,oe,W)))),h=h.return}I.length!==0&&a.push({event:r,listeners:I})}var t_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function gx(a){return(typeof a=="string"?a:""+a).replace(t_,`
`).replace(n_,"")}function xx(a,r){return r=gx(r),gx(a)===r}function Gt(a,r,h,x,v,C){switch(h){case"children":typeof x=="string"?r==="body"||r==="textarea"&&x===""||Di(a,x):(typeof x=="number"||typeof x=="bigint")&&r!=="body"&&Di(a,""+x);break;case"className":ji(a,"class",x);break;case"tabIndex":ji(a,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(a,h,x);break;case"style":Ve(a,x,C);break;case"data":if(r!=="object"){ji(a,"data",x);break}case"src":case"href":if(x===""&&(r!=="a"||h!=="href")){a.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(h);break}x=ki(""+x),a.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(r!=="input"&&Gt(a,r,"name",v.name,v,null),Gt(a,r,"formEncType",v.formEncType,v,null),Gt(a,r,"formMethod",v.formMethod,v,null),Gt(a,r,"formTarget",v.formTarget,v,null)):(Gt(a,r,"encType",v.encType,v,null),Gt(a,r,"method",v.method,v,null),Gt(a,r,"target",v.target,v,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(h);break}x=ki(""+x),a.setAttribute(h,x);break;case"onClick":x!=null&&(a.onclick=fa);break;case"onScroll":x!=null&&dt("scroll",a);break;case"onScrollEnd":x!=null&&dt("scrollend",a);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(h=x.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":a.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){a.removeAttribute("xlink:href");break}h=ki(""+x),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(h,""+x):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":x===!0?a.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(h,x):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?a.setAttribute(h,x):a.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?a.removeAttribute(h):a.setAttribute(h,x);break;case"popover":dt("beforetoggle",a),dt("toggle",a),Ti(a,"popover",x);break;case"xlinkActuate":Ea(a,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Ea(a,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Ea(a,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Ea(a,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Ea(a,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Ea(a,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Ea(a,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Ea(a,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Ea(a,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ti(a,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Jc.get(h)||h,Ti(a,h,x))}}function Zf(a,r,h,x,v,C){switch(h){case"style":Ve(a,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(h=x.__html,h!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof x=="string"?Di(a,x):(typeof x=="number"||typeof x=="bigint")&&Di(a,""+x);break;case"onScroll":x!=null&&dt("scroll",a);break;case"onScrollEnd":x!=null&&dt("scrollend",a);break;case"onClick":x!=null&&(a.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qc.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),r=h.slice(2,v?h.length-7:void 0),C=a[Rt]||null,C=C!=null?C[h]:null,typeof C=="function"&&a.removeEventListener(r,C,v),typeof x=="function")){typeof C!="function"&&C!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(r,x,v);break e}h in a?a[h]=x:x===!0?a.setAttribute(h,""):Ti(a,h,x)}}}function Zn(a,r,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",a),dt("load",a);var x=!1,v=!1,C;for(C in h)if(h.hasOwnProperty(C)){var I=h[C];if(I!=null)switch(C){case"src":x=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Gt(a,r,C,I,h,null)}}v&&Gt(a,r,"srcSet",h.srcSet,h,null),x&&Gt(a,r,"src",h.src,h,null);return;case"input":dt("invalid",a);var z=C=I=v=null,W=null,oe=null;for(x in h)if(h.hasOwnProperty(x)){var xe=h[x];if(xe!=null)switch(x){case"name":v=xe;break;case"type":I=xe;break;case"checked":W=xe;break;case"defaultChecked":oe=xe;break;case"value":C=xe;break;case"defaultValue":z=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,r));break;default:Gt(a,r,x,xe,h,null)}}re(a,C,z,W,oe,I,v,!1);return;case"select":dt("invalid",a),x=I=C=null;for(v in h)if(h.hasOwnProperty(v)&&(z=h[v],z!=null))switch(v){case"value":C=z;break;case"defaultValue":I=z;break;case"multiple":x=z;default:Gt(a,r,v,z,h,null)}r=C,h=I,a.multiple=!!x,r!=null?ze(a,!!x,r,!1):h!=null&&ze(a,!!x,h,!0);return;case"textarea":dt("invalid",a),C=v=x=null;for(I in h)if(h.hasOwnProperty(I)&&(z=h[I],z!=null))switch(I){case"value":x=z;break;case"defaultValue":v=z;break;case"children":C=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Gt(a,r,I,z,h,null)}ia(a,x,v,C);return;case"option":for(W in h)h.hasOwnProperty(W)&&(x=h[W],x!=null)&&(W==="selected"?a.selected=x&&typeof x!="function"&&typeof x!="symbol":Gt(a,r,W,x,h,null));return;case"dialog":dt("beforetoggle",a),dt("toggle",a),dt("cancel",a),dt("close",a);break;case"iframe":case"object":dt("load",a);break;case"video":case"audio":for(x=0;x<Ko.length;x++)dt(Ko[x],a);break;case"image":dt("error",a),dt("load",a);break;case"details":dt("toggle",a);break;case"embed":case"source":case"link":dt("error",a),dt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in h)if(h.hasOwnProperty(oe)&&(x=h[oe],x!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Gt(a,r,oe,x,h,null)}return;default:if(Kt(r)){for(xe in h)h.hasOwnProperty(xe)&&(x=h[xe],x!==void 0&&Zf(a,r,xe,x,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(x=h[z],x!=null&&Gt(a,r,z,x,h,null))}function a_(a,r,h,x){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,C=null,I=null,z=null,W=null,oe=null,xe=null;for(he in h){var ye=h[he];if(h.hasOwnProperty(he)&&ye!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":W=ye;default:x.hasOwnProperty(he)||Gt(a,r,he,null,x,ye)}}for(var ce in x){var he=x[ce];if(ye=h[ce],x.hasOwnProperty(ce)&&(he!=null||ye!=null))switch(ce){case"type":C=he;break;case"name":v=he;break;case"checked":oe=he;break;case"defaultChecked":xe=he;break;case"value":I=he;break;case"defaultValue":z=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(i(137,r));break;default:he!==ye&&Gt(a,r,ce,he,x,ye)}}Sn(a,I,z,W,oe,xe,C,v);return;case"select":he=I=z=ce=null;for(C in h)if(W=h[C],h.hasOwnProperty(C)&&W!=null)switch(C){case"value":break;case"multiple":he=W;default:x.hasOwnProperty(C)||Gt(a,r,C,null,x,W)}for(v in x)if(C=x[v],W=h[v],x.hasOwnProperty(v)&&(C!=null||W!=null))switch(v){case"value":ce=C;break;case"defaultValue":z=C;break;case"multiple":I=C;default:C!==W&&Gt(a,r,v,C,x,W)}r=z,h=I,x=he,ce!=null?ze(a,!!h,ce,!1):!!x!=!!h&&(r!=null?ze(a,!!h,r,!0):ze(a,!!h,h?[]:"",!1));return;case"textarea":he=ce=null;for(z in h)if(v=h[z],h.hasOwnProperty(z)&&v!=null&&!x.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Gt(a,r,z,null,x,v)}for(I in x)if(v=x[I],C=h[I],x.hasOwnProperty(I)&&(v!=null||C!=null))switch(I){case"value":ce=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==C&&Gt(a,r,I,v,x,C)}wn(a,ce,he);return;case"option":for(var Pe in h)ce=h[Pe],h.hasOwnProperty(Pe)&&ce!=null&&!x.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Gt(a,r,Pe,null,x,ce));for(W in x)ce=x[W],he=h[W],x.hasOwnProperty(W)&&ce!==he&&(ce!=null||he!=null)&&(W==="selected"?a.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":Gt(a,r,W,ce,x,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in h)ce=h[Ke],h.hasOwnProperty(Ke)&&ce!=null&&!x.hasOwnProperty(Ke)&&Gt(a,r,Ke,null,x,ce);for(oe in x)if(ce=x[oe],he=h[oe],x.hasOwnProperty(oe)&&ce!==he&&(ce!=null||he!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:Gt(a,r,oe,ce,x,he)}return;default:if(Kt(r)){for(var Wt in h)ce=h[Wt],h.hasOwnProperty(Wt)&&ce!==void 0&&!x.hasOwnProperty(Wt)&&Zf(a,r,Wt,void 0,x,ce);for(xe in x)ce=x[xe],he=h[xe],!x.hasOwnProperty(xe)||ce===he||ce===void 0&&he===void 0||Zf(a,r,xe,ce,x,he);return}}for(var ee in h)ce=h[ee],h.hasOwnProperty(ee)&&ce!=null&&!x.hasOwnProperty(ee)&&Gt(a,r,ee,null,x,ce);for(ye in x)ce=x[ye],he=h[ye],!x.hasOwnProperty(ye)||ce===he||ce==null&&he==null||Gt(a,r,ye,ce,x,he)}function px(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s_(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var v=h[x],C=v.transferSize,I=v.initiatorType,z=v.duration;if(C&&z&&px(I)){for(I=0,z=v.responseEnd,x+=1;x<h.length;x++){var W=h[x],oe=W.startTime;if(oe>z)break;var xe=W.transferSize,ye=W.initiatorType;xe&&px(ye)&&(W=W.responseEnd,I+=xe*(W<z?1:(z-oe)/(W-oe)))}if(--x,r+=8*(C+I)/(v.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Qf=null,Jf=null;function Ju(a){return a.nodeType=== "9"?a:a.ownerDocument}function yx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bx(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function $f(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var e0=null;function i_(){var a=window.event;return a&&a.type==="popstate"?a===e0?!1:(e0=a,!0):(e0=null,!1)}var wx=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,l_=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(a){return _x.resolve(null).then(a).catch(o_)}:wx;function o_(a){setTimeout(function(){throw a})}function nr(a){return a==="head"}function vx(a,r){var h=r,x=0;do{var v=h.nextSibling;if(a.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"||h==="/&"){if(x===0){a.removeChild(v),Hl(r);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")Qo(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Qo(h);for(var C=h.firstChild;C;){var I=C.nextSibling,z=C.nodeName;C[Nr]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=I}}else h==="body"&&Qo(a.ownerDocument.body);h=v}while(h);Hl(r)}function Nx(a,r){var h=a;a=0;do{var x=h.nextSibling;if(h.nodeType===1?r?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(r?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=x}while(h)}function t0(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var h=r;switch(r=r.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":t0(h),ha(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function c_(a,r,h,x){for(;a.nodeType===1;){var v=h;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!x&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(x){if(!a[Nr])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var C=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=$a(a.nextSibling),a===null)break}return null}function u_(a,r,h){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=$a(a.nextSibling),a===null))return null;return a}function Ax(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=$a(a.nextSibling),a===null))return null;return a}function n0(a){return a.data==="$?"||a.data==="$~"}function a0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function d_(a,r){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||h.readyState!=="loading")r();else{var x=function(){r(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),a._reactRetry=x}}function $a(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var s0=null;function Sx(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(r===0)return $a(a.nextSibling);r--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||r++}a=a.nextSibling}return null}function Cx(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(r===0)return a;r--}else h!=="/$"&&h!=="/&"||r++}a=a.previousSibling}return null}function Ex(a,r,h){switch(r=Ju(h),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Qo(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);ha(a)}var es=new Map,Tx=new Set;function $u(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType=== "9"?a:a.ownerDocument}var di=fe.d;fe.d={f:h_,r:f_,D:m_,C:g_,L:x_,m:p_,X:b_,S:y_,M:w_};function h_(){var a=di.f(),r=Yu();return a||r}function f_(a){var r=Et(a);r!==null&&r.tag===5&&r.type==="form"?G1(r):di.r(a)}var zl=typeof document>"u"?null:document;function jx(a,r,h){var x=zl;if(x&&typeof r=="string"&&r){var v=lt(r);v='link[rel="'+a+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),Tx.has(v)||(Tx.add(v),a={rel:a,crossOrigin:h,href:r},x.querySelector(v)===null&&(r=x.createElement("link"),Zn(r,"link",a),mn(r),x.head.appendChild(r)))}}function m_(a){di.D(a),jx("dns-prefetch",a,null)}function g_(a,r){di.C(a,r),jx("preconnect",a,r)}function x_(a,r,h){di.L(a,r,h);var x=zl;if(x&&a&&r){var v='link[rel="preload"][as="'+lt(r)+'"]';r==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+lt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+lt(h.imageSizes)+'"]')):v+='[href="'+lt(a)+'"]';var C=v;switch(r){case"style":C=Fl(a);break;case"script":C=Ul(a)}es.has(C)||(a=A({rel:"preload",href:r==="image"&&h&&h.imageSrcSet?void 0:a,as:r},h),es.set(C,a),x.querySelector(v)!==null||r==="style"&&x.querySelector(Jo(C))||r==="script"&&x.querySelector($o(C))||(r=x.createElement("link"),Zn(r,"link",a),mn(r),x.head.appendChild(r)))}}function p_(a,r){di.m(a,r);var h=zl;if(h&&a){var x=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+lt(x)+'"][href="'+lt(a)+'"]',C=v;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Ul(a)}if(!es.has(C)&&(a=A({rel:"modulepreload",href:a},r),es.set(C,a),h.querySelector(v)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector($o(C)))return}x=h.createElement("link"),Zn(x,"link",a),mn(x),h.head.appendChild(x)}}}function y_(a,r,h){di.S(a,r,h);var x=zl;if(x&&a){var v=sa(x).hoistableStyles,C=Fl(a);r=r||"default";var I=v.get(C);if(!I){var z={loading:0,preload:null};if(I=x.querySelector(Jo(C)))z.loading=5;else{a=A({rel:"stylesheet",href:a,"data-precedence":r},h),(h=es.get(C))&&i0(a,h);var W=I=x.createElement("link");mn(W),Zn(W,"link",a),W._p=new Promise(function(oe,xe){W.onload=oe,W.onerror=xe}),W.addEventListener("load",function(){z.loading|=1}),W.addEventListener("error",function(){z.loading|=2}),z.loading|=4,ed(I,r,x)}I={type:"stylesheet",instance:I,count:1,state:z},v.set(C,I)}}}function b_(a,r){di.X(a,r);var h=zl;if(h&&a){var x=sa(h).hoistableScripts,v=Ul(a),C=x.get(v);C||(C=h.querySelector($o(v)),C||(a=A({src:a,async:!0},r),(r=es.get(v))&&r0(a,r),C=h.createElement("script"),mn(C),Zn(C,"link",a),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(v,C))}}function w_(a,r){di.M(a,r);var h=zl;if(h&&a){var x=sa(h).hoistableScripts,v=Ul(a),C=x.get(v);C||(C=h.querySelector($o(v)),C||(a=A({src:a,async:!0,type:"module"},r),(r=es.get(v))&&r0(a,r),C=h.createElement("script"),mn(C),Zn(C,"link",a),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(v,C))}}function Mx(a,r,h,x){var v=(v=Ne.current)?$u(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(r=Fl(h.href),h=sa(v).hoistableStyles,x=h.get(r),x||(x={type:"style",instance:null,count:0,state:null},h.set(r,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Fl(h.href);var C=sa(v).hoistableStyles,I=C.get(a);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,I),(C=v.querySelector(Jo(a)))&&!C._p&&(I.instance=C,I.state.loading=5),es.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},es.set(a,h),C||__(v,a,h,I.state))),r&&x===null)throw Error(i(528,""));return I}if(r&&x!==null)throw Error(i(529,""));return null;case"script":return r=h.async,h=h.src,typeof h=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ul(h),h=sa(v).hoistableScripts,x=h.get(r),x||(x={type:"script",instance:null,count:0,state:null},h.set(r,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Fl(a){return'href="'+lt(a)+'"'}function Jo(a){return'link[rel="stylesheet"]['+a+"]"}function Dx(a){return A({},a,{"data-precedence":a.precedence,precedence:null})}function __(a,r,h,x){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?x.loading=1:(r=a.createElement("link"),x.preload=r,r.addEventListener("load",function(){return x.loading|=1}),r.addEventListener("error",function(){return x.loading|=2}),Zn(r,"link",h),mn(r),a.head.appendChild(r))}function Ul(a){return'[src="'+lt(a)+'"]'}function $o(a){return"script[async]"+a}function kx(a,r,h){if(r.count++,r.instance===null)switch(r.type){case"style":var x=a.querySelector('style[data-href~="'+lt(h.href)+'"]');if(x)return r.instance=x,mn(x),x;var v=A({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(a.ownerDocument||a).createElement("style"),mn(x),Zn(x,"style",v),ed(x,h.precedence,a),r.instance=x;case"stylesheet":v=Fl(h.href);var C=a.querySelector(Jo(v));if(C)return r.state.loading|=4,r.instance=C,mn(C),C;x=Dx(h),(v=es.get(v))&&i0(x,v),C=(a.ownerDocument||a).createElement("link"),mn(C);var I=C;return I._p=new Promise(function(z,W){I.onload=z,I.onerror=W}),Zn(C,"link",x),r.state.loading|=4,ed(C,h.precedence,a),r.instance=C;case"script":return C=Ul(h.src),(v=a.querySelector($o(C)))?(r.instance=v,mn(v),v):(x=h,(v=es.get(C))&&(x=A({},h),r0(x,v)),a=a.ownerDocument||a,v=a.createElement("script"),mn(v),Zn(v,"link",x),a.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(x=r.instance,r.state.loading|=4,ed(x,h.precedence,a));return r.instance}function ed(a,r,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=x.length?x[x.length-1]:null,C=v,I=0;I<x.length;I++){var z=x[I];if(z.dataset.precedence===r)C=z;else if(C!==v)break}C?C.parentNode.insertBefore(a,C.nextSibling):(r=h.nodeType=== "9"?h.head:h,r.insertBefore(a,r.firstChild))}function i0(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function r0(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var td=null;function Ix(a,r,h){if(td===null){var x=new Map,v=td=new Map;v.set(h,x)}else v=td,x=v.get(h),x||(x=new Map,v.set(h,x));if(x.has(a))return x;for(x.set(a,null),h=h.getElementsByTagName(a),v=0;v<h.length;v++){var C=h[v];if(!(C[Nr]||C[bn]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var I=C.getAttribute(r)||"";I=a+I;var z=x.get(I);z?z.push(C):x.set(I,[C])}}return x}function Ox(a,r,h){a=a.ownerDocument||a,a.head.insertBefore(h,r==="title"?a.querySelector("head > title"):null)}function v_(a,r,h){if(h===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(a=r.disabled,typeof r.precedence=="string"&&a==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Rx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function N_(a,r,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var v=Fl(x.href),C=r.querySelector(Jo(v));if(C){r=C._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=nd.bind(a),r.then(a,a)),h.state.loading|=4,h.instance=C,mn(C);return}C=r.ownerDocument||r,x=Dx(x),(v=es.get(v))&&i0(x,v),C=C.createElement("link"),mn(C);var I=C;I._p=new Promise(function(z,W){I.onload=z,I.onerror=W}),Zn(C,"link",x),h.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,r),(r=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=nd.bind(a),r.addEventListener("load",h),r.addEventListener("error",h))}}var l0=0;function A_(a,r){return a.stylesheets&&a.count===0&&sd(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var x=setTimeout(function(){if(a.stylesheets&&sd(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+r);0<a.imgBytes&&l0===0&&(l0=62500*s_());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&sd(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>l0?50:800)+r);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(x),clearTimeout(v)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ad=null;function sd(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ad=new Map,r.forEach(S_,a),ad=null,nd.call(a))}function S_(a,r){if(!(r.state.loading&4)){var h=ad.get(a);if(h)var x=h.get(null);else{h=new Map,ad.set(a,h);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<v.length;C++){var I=v[C];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),x=I)}x&&h.set(null,x)}v=r.instance,I=v.getAttribute("data-precedence"),C=h.get(I)||x,C===x&&h.set(null,v),h.set(I,v),this.count++,x=nd.bind(this),v.addEventListener("load",x),v.addEventListener("error",x),C?C.parentNode.insertBefore(v,C.nextSibling):(a=a.nodeType=== "9"?a.head:a,a.insertBefore(v,a.firstChild)),r.state.loading|=4}}var ec={$$typeof:G,Provider:null,Consumer:null,_currentValue:Le,_currentValue2:Le,_threadCount:0};function C_(a,r,h,x,v,C,I,z,W){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=x,this.onUncaughtError=v,this.onCaughtError=C,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Lx(a,r,h,x,v,C,I,z,W,oe,xe,ye){return a=new C_(a,r,h,I,W,oe,xe,ye,z),r=1,C===!0&&(r|=24),C=Da(3,null,null,r),a.current=C,C.stateNode=a,r=zh(),r.refCount++,a.pooledCache=r,r.refCount++,C.memoizedState={element:x,isDehydrated:h,cache:r},Vh(C),a}function Bx(a){return a?(a=yl,a):yl}function Px(a,r,h,x,v,C){v=Bx(v),x.context===null?x.context=v:x.pendingContext=v,x=Gi(r),x.payload={element:h},C=C===void 0?null:C,C!==null&&(x.callback=C),h=Wi(a,x,r),h!==null&&(wa(h,a,r),ko(h,a,r))}function zx(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<r?h:r}}function o0(a,r){zx(a,r),(a=a.alternate)&&zx(a,r)}function Fx(a){if(a.tag===13||a.tag===31){var r=kr(a,67108864);r!==null&&wa(r,a,67108864),o0(a,67108864)}}function Ux(a){if(a.tag===13||a.tag===31){var r=La();r=Hn(r);var h=kr(a,r);h!==null&&wa(h,a,r),o0(a,r)}}var id=!0;function E_(a,r,h,x){var v=se.T;se.T=null;var C=fe.p;try{fe.p=2,c0(a,r,h,x)}finally{fe.p=C,se.T=v}}function T_(a,r,h,x){var v=se.T;se.T=null;var C=fe.p;try{fe.p=8,c0(a,r,h,x)}finally{fe.p=C,se.T=v}}function c0(a,r,h,x){if(id){var v=u0(x);if(v===null)Kf(a,r,x,rd,h),Vx(a,x);else if(M_(v,a,r,h,x))x.stopPropagation();else if(Vx(a,x),r&4&&-1<j_.indexOf(a)){for(;v!==null;){var C=Et(v);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var I=ws(C.pendingLanes);if(I!==0){var z=C;for(z.pendingLanes|=2,z.entangledLanes|=2;I;){var W=1<<31-nt(I);z.entanglements[1]|=W,I&=~W}Ds(C),(jt&6)===0&&(Hu=un()+500,qo(0))}}break;case 31:case 13:z=kr(C,2),z!==null&&wa(z,C,2),Yu(),o0(C,2)}if(C=u0(x),C===null&&Kf(a,r,x,rd,h),C===v)break;v=C}v!==null&&x.stopPropagation()}else Kf(a,r,x,null,h)}}function u0(a){return a=po(a),d0(a)}var rd=null;function d0(a){if(rd=null,a=fn(a),a!==null){var r=u(a);if(r===null)a=null;else{var h=r.tag;if(h===13){if(a=f(r),a!==null)return a;a=null}else if(h===31){if(a=p(r),a!==null)return a;a=null}else if(h===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return rd=a,null}function Hx(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uo()){case da:return 2;case ho:return 8;case Aa:case Yn:return 32;case fo:return 268435456;default:return 32}default:return 32}}var h0=!1,ar=null,sr=null,ir=null,tc=new Map,nc=new Map,rr=[],j_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vx(a,r){switch(a){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":tc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(r.pointerId)}}function ac(a,r,h,x,v,C){return a===null||a.nativeEvent!==C?(a={blockedOn:r,domEventName:h,eventSystemFlags:x,nativeEvent:C,targetContainers:[v]},r!==null&&(r=Et(r),r!==null&&Fx(r)),a):(a.eventSystemFlags|=x,r=a.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),a)}function M_(a,r,h,x,v){switch(r){case"focusin":return ar=ac(ar,a,r,h,x,v),!0;case"dragenter":return sr=ac(sr,a,r,h,x,v),!0;case"mouseover":return ir=ac(ir,a,r,h,x,v),!0;case"pointerover":var C=v.pointerId;return tc.set(C,ac(tc.get(C)||null,a,r,h,x,v)),!0;case"gotpointercapture":return C=v.pointerId,nc.set(C,ac(nc.get(C)||null,a,r,h,x,v)),!0}return!1}function Yx(a){var r=fn(a.target);if(r!==null){var h=u(r);if(h!==null){if(r=h.tag,r===13){if(r=f(h),r!==null){a.blockedOn=r,Ie(a.priority,function(){Ux(h)});return}}else if(r===31){if(r=p(h),r!==null){a.blockedOn=r,Ie(a.priority,function(){Ux(h)});return}}else if(r===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ld(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var h=u0(a.nativeEvent);if(h===null){h=a.nativeEvent;var x=new h.constructor(h.type,h);Ar=x,h.target.dispatchEvent(x),Ar=null}else return r=Et(h),r!==null&&Fx(r),a.blockedOn=h,!1;r.shift()}return!0}function Gx(a,r,h){ld(a)&&h.delete(r)}function D_(){h0=!1,ar!==null&&ld(ar)&&(ar=null),sr!==null&&ld(sr)&&(sr=null),ir!==null&&ld(ir)&&(ir=null),tc.forEach(Gx),nc.forEach(Gx)}function od(a,r){a.blockedOn===r&&(a.blockedOn=null,h0||(h0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D_)))}var cd=null;function Wx(a){cd!==a&&(cd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cd===a&&(cd=null);for(var r=0;r<a.length;r+=3){var h=a[r],x=a[r+1],v=a[r+2];if(typeof x!="function"){if(d0(x||h)===null)continue;break}var C=Et(h);C!==null&&(a.splice(r,3),r-=3,uf(C,{pending:!0,data:v,method:h.method,action:x},x,v))}}))}function Hl(a){function r(W){return od(W,a)}ar!==null&&od(ar,a),sr!==null&&od(sr,a),ir!==null&&od(ir,a),tc.forEach(r),nc.forEach(r);for(var h=0;h<rr.length;h++){var x=rr[h];x.blockedOn===a&&(x.blockedOn=null)}for(;0<rr.length&&(h=rr[0],h.blockedOn===null);)Yx(h),h.blockedOn===null&&rr.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var v=h[x],C=h[x+1],I=v[Rt]||null;if(typeof C=="function")I||Wx(h);else if(I){var z=null;if(C&&C.hasAttribute("formAction")){if(v=C,I=C[Rt]||null)z=I.formAction;else if(d0(v)!==null)continue}else z=I.action;typeof z=="function"?h[x+1]=z:(h.splice(x,3),x-=3),Wx(h)}}}function Xx(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function r(){v!==null&&(v(),v=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),v!==null&&(v(),v=null)}}}function f0(a){this._internalRoot=a}ud.prototype.render=f0.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var h=r.current,x=La();Px(h,x,a,r,null,null)},ud.prototype.unmount=f0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;Px(a.current,2,null,a,null,null),Yu(),r[Sa]=null}};function ud(a){this._internalRoot=a}ud.prototype.unstable_scheduleHydration=function(a){if(a){var r=na();a={blockedOn:null,target:a,priority:r};for(var h=0;h<rr.length&&r!==0&&r<rr[h].priority;h++);rr.splice(h,0,a),h===0&&Yx(a)}};var qx=e.version;if(qx!=="19.2.4")throw Error(i(527,qx,"19.2.4"));fe.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=y(r),a=a!==null?N(a):null,a=a===null?null:a.stateNode,a};var k_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{$t=dd.inject(k_),Ee=dd}catch{}}return ic.createRoot=function(a,r){if(!o(a))throw Error(i(299));var h=!1,x="",v=tg,C=ng,I=ag;return r!=null&&(r.unstable_strictMode===!0&&(h=!0),r.identifierPrefix!==void 0&&(x=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(I=r.onRecoverableError)),r=Lx(a,1,!1,null,null,h,x,null,v,C,I,Xx),a[Sa]=r.current,qf(a),new f0(r)},ic.hydrateRoot=function(a,r,h){if(!o(a))throw Error(i(299));var x=!1,v="",C=tg,I=ng,z=ag,W=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.formState!==void 0&&(W=h.formState)),r=Lx(a,1,!0,r,h??null,x,v,W,C,I,z,Xx),r.context=Bx(null),h=r.current,x=La(),x=Hn(x),v=Gi(x),v.callback=null,Wi(h,v,x),h=x,r.current.lanes=h,vs(r,h),Ds(r),a[Sa]=r.current,qf(a),new ud(r)},ic.version="19.2.4",ic}var sp;function H_(){if(sp)return x0.exports;sp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),x0.exports=U_(),x0.exports}var V_=H_();const Y_=Ny(V_);var ip="popstate";function G_(t={}){function e(i,o){let{pathname:u,search:f,hash:p}=i.location;return Q0("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Cc(o)}return X_(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function as(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W_(){return Math.random().toString(36).substring(2,10)}function rp(t,e){return{usr:t.state,key:t.key,idx:e}}function Q0(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:n,key:e&&e.key||i||W_()}}function Cc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function X_(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,p="POP",w=null,y=N();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function N(){return(f.state||{idx:null}).idx}function A(){p="POP";let B=N(),F=B==null?null:B-y;y=B,w&&w({action:p,location:k.location,delta:F})}function T(B,F){p="PUSH";let H=Q0(k.location,B,F);y=N()+1;let G=rp(H,y),K=k.createHref(H);try{f.pushState(G,"",K)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(K)}u&&w&&w({action:p,location:k.location,delta:1})}function j(B,F){p="REPLACE";let H=Q0(k.location,B,F);y=N();let G=rp(H,y),K=k.createHref(H);f.replaceState(G,"",K),u&&w&&w({action:p,location:k.location,delta:0})}function M(B){return q_(B)}let k={get action(){return p},get location(){return t(o,f)},listen(B){if(w)throw new Error("A history only accepts one active listener");return o.addEventListener(ip,A),w=B,()=>{o.removeEventListener(ip,A),w=null}},createHref(B){return e(o,B)},createURL:M,encodeLocation(B){let F=M(B);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:j,go(B){return f.go(B)}};return k}function q_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),cn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Cc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Ay(t,e,n="/"){return K_(t,e,n,!1)}function K_(t,e,n,i){let o=typeof e=="string"?io(e):e,u=_i(o.pathname||"/",n);if(u==null)return null;let f=Sy(t);Z_(f);let p=null;for(let w=0;p==null&&w<f.length;++w){let y=lv(u);p=iv(f[w],y,i)}return p}function Sy(t,e=[],n=[],i="",o=!1){let u=(f,p,w=o,y)=>{let N={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(N.relativePath.startsWith("/")){if(!N.relativePath.startsWith(i)&&w)return;cn(N.relativePath.startsWith(i),`Absolute route path "${N.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(i.length)}let A=wi([i,N.relativePath]),T=n.concat(N);f.children&&f.children.length>0&&(cn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Sy(f.children,e,T,A,w)),!(f.path==null&&!f.index)&&e.push({path:A,score:av(A,f.index),routesMeta:T})};return t.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let w of Cy(f.path))u(f,p,!0,w)}),e}function Cy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=Cy(i.join("/")),p=[];return p.push(...f.map(w=>w===""?u:[u,w].join("/"))),o&&p.push(...f),p.map(w=>t.startsWith("/")&&w===""?"/":w)}function Z_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sv(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Q_=/^:[\w-]+$/,J_=3,$_=2,ev=1,tv=10,nv=-2,lp=t=>t==="*";function av(t,e){let n=t.split("/"),i=n.length;return n.some(lp)&&(i+=nv),e&&(i+=$_),n.filter(o=>!lp(o)).reduce((o,u)=>o+(Q_.test(u)?J_:u===""?ev:tv),i)}function sv(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function iv(t,e,n=!1){let{routesMeta:i}=t,o={},u="/",f=[];for(let p=0;p<i.length;++p){let w=i[p],y=p===i.length-1,N=u==="/"?e:e.slice(u.length)||"/",A=Pd({path:w.relativePath,caseSensitive:w.caseSensitive,end:y},N),T=w.route;if(!A&&y&&n&&!i[i.length-1].route.index&&(A=Pd({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},N)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:wi([u,A.pathname]),pathnameBase:dv(wi([u,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(u=wi([u,A.pathnameBase]))}return f}function Pd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=rv(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:N,isOptional:A},T)=>{if(N==="*"){let M=p[T]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const j=p[T];return A&&!j?y[N]=void 0:y[N]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:t}}function rv(t,e=!1,n=!0){as(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,w)=>(i.push({paramName:p,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function lv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return as(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function _i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function cv(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?io(t):t,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=op(n.substring(1),"/"):u=op(n,e)):u=e,{pathname:u,search:hv(i),hash:fv(o)}}function op(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function w0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hm(t){let e=uv(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function fm(t,e,n,i=!1){let o;typeof t=="string"?o=io(t):(o={...t},cn(!o.pathname||!o.pathname.includes("?"),w0("?","pathname","search",o)),cn(!o.pathname||!o.pathname.includes("#"),w0("#","pathname","hash",o)),cn(!o.search||!o.search.includes("#"),w0("#","search","hash",o)));let u=t===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=e.length-1;if(!i&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),A-=1;o.pathname=T.join("/")}p=A>=0?e[A]:"/"}let w=cv(o,p),y=f&&f!=="/"&&f.endsWith("/"),N=(u||f===".")&&n.endsWith("/");return!w.pathname.endsWith("/")&&(y||N)&&(w.pathname+="/"),w}var wi=t=>t.join("/").replace(/\/\/+/g,"/"),dv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,mv=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function gv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xv(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ty(t,e){let n=t;if(typeof n!="string"||!ov.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(Ey)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=_i(f.pathname,e);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:o=!0}catch{as(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jy=["POST","PUT","PATCH","DELETE"];new Set(jy);var pv=["GET",...jy];new Set(pv);var ro=O.createContext(null);ro.displayName="DataRouter";var $d=O.createContext(null);$d.displayName="DataRouterState";var yv=O.createContext(!1),My=O.createContext({isTransitioning:!1});My.displayName="ViewTransition";var bv=O.createContext(new Map);bv.displayName="Fetchers";var wv=O.createContext(null);wv.displayName="Await";var Ua=O.createContext(null);Ua.displayName="Navigation";var Bc=O.createContext(null);Bc.displayName="Location";var is=O.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var mm=O.createContext(null);mm.displayName="RouteError";var Dy="REACT_ROUTER_ERROR",_v="REDIRECT",vv="ROUTE_ERROR_RESPONSE";function Nv(t){if(t.startsWith(`${Dy}:${_v}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Av(t){if(t.startsWith(`${Dy}:${vv}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new mv(e.status,e.statusText,e.data)}catch{}}function Sv(t,{relative:e}={}){cn(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Ua),{hash:o,pathname:u,search:f}=Pc(t,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:wi([n,u])),i.createHref({pathname:p,search:f,hash:o})}function lo(){return O.useContext(Bc)!=null}function ys(){return cn(lo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Bc).location}var ky="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iy(t){O.useContext(Ua).static||O.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=O.useContext(is);return t?Fv():Cv()}function Cv(){cn(lo(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(ro),{basename:e,navigator:n}=O.useContext(Ua),{matches:i}=O.useContext(is),{pathname:o}=ys(),u=JSON.stringify(hm(i)),f=O.useRef(!1);return Iy(()=>{f.current=!0}),O.useCallback((w,y={})=>{if(as(f.current,ky),!f.current)return;if(typeof w=="number"){n.go(w);return}let N=fm(w,JSON.parse(u),o,y.relative==="path");t==null&&e!=="/"&&(N.pathname=N.pathname==="/"?e:wi([e,N.pathname])),(y.replace?n.replace:n.push)(N,y.state,y)},[e,n,u,o,t])}var Ev=O.createContext(null);function Tv(t){let e=O.useContext(is).outlet;return O.useMemo(()=>e&&O.createElement(Ev.Provider,{value:t},e),[e,t])}function br(){let{matches:t}=O.useContext(is),e=t[t.length-1];return e?e.params:{}}function Pc(t,{relative:e}={}){let{matches:n}=O.useContext(is),{pathname:i}=ys(),o=JSON.stringify(hm(n));return O.useMemo(()=>fm(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function jv(t,e){return Oy(t,e)}function Oy(t,e,n,i,o){cn(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(Ua),{matches:f}=O.useContext(is),p=f[f.length-1],w=p?p.params:{},y=p?p.pathname:"/",N=p?p.pathnameBase:"/",A=p&&p.route;{let H=A&&A.path||"";Ly(y,!A||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=ys(),j;if(e){let H=typeof e=="string"?io(e):e;cn(N==="/"||H.pathname?.startsWith(N),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${H.pathname}" was given in the \`location\` prop.`),j=H}else j=T;let M=j.pathname||"/",k=M;if(N!=="/"){let H=N.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=Ay(t,{pathname:k});as(A||B!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),as(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Ov(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},w,H.params),pathname:wi([N,u.encodeLocation?u.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?N:wi([N,u.encodeLocation?u.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),f,n,i,o);return e&&F?O.createElement(Bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},F):F}function Mv(){let t=zv(),e=gv(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,f)}var Dv=O.createElement(Mv,null),Ry=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Av(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(is.Provider,{value:this.props.routeContext},O.createElement(mm.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(kv,{error:t},e):e}};Ry.contextType=yv;var _0=new WeakMap;function kv({children:t,error:e}){let{basename:n}=O.useContext(Ua);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Nv(e.digest);if(i){let o=_0.get(e);if(o)throw o;let u=Ty(i.location,n);if(Ey&&!_0.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw _0.set(e,f),f}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function Iv({routeContext:t,match:e,children:n}){let i=O.useContext(ro);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(is.Provider,{value:t},n)}function Ov(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,f=n?.errors;if(f!=null){let N=u.findIndex(A=>A.route.id&&f?.[A.route.id]!==void 0);cn(N>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,N+1))}let p=!1,w=-1;if(n)for(let N=0;N<u.length;N++){let A=u[N];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(w=N),A.route.id){let{loaderData:T,errors:j}=n,M=A.route.loader&&!T.hasOwnProperty(A.route.id)&&(!j||j[A.route.id]===void 0);if(A.route.lazy||M){p=!0,w>=0?u=u.slice(0,w+1):u=[u[0]];break}}}let y=n&&i?(N,A)=>{i(N,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xv(n.matches),errorInfo:A})}:void 0;return u.reduceRight((N,A,T)=>{let j,M=!1,k=null,B=null;n&&(j=f&&A.route.id?f[A.route.id]:void 0,k=A.route.errorElement||Dv,p&&(w<0&&T===0?(Ly("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,B=null):w===T&&(M=!0,B=A.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,T+1)),H=()=>{let G;return j?G=k:M?G=B:A.route.Component?G=O.createElement(A.route.Component,null):A.route.element?G=A.route.element:G=N,O.createElement(Iv,{match:A,routeContext:{outlet:N,matches:F,isDataRoute:n!=null},children:G})};return n&&(A.route.ErrorBoundary||A.route.errorElement||T===0)?O.createElement(Ry,{location:n.location,revalidation:n.revalidation,component:k,error:j,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:y}):H()},null)}function gm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rv(t){let e=O.useContext(ro);return cn(e,gm(t)),e}function Lv(t){let e=O.useContext($d);return cn(e,gm(t)),e}function Bv(t){let e=O.useContext(is);return cn(e,gm(t)),e}function xm(t){let e=Bv(t),n=e.matches[e.matches.length-1];return cn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Pv(){return xm("useRouteId")}function zv(){let t=O.useContext(mm),e=Lv("useRouteError"),n=xm("useRouteError");return t!==void 0?t:e.errors?.[n]}function Fv(){let{router:t}=Rv("useNavigate"),e=xm("useNavigate"),n=O.useRef(!1);return Iy(()=>{n.current=!0}),O.useCallback(async(o,u={})=>{as(n.current,ky),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var cp={};function Ly(t,e,n){!e&&!cp[t]&&(cp[t]=!0,as(!1,n))}O.memo(Uv);function Uv({routes:t,future:e,state:n,onError:i}){return Oy(t,void 0,n,i,e)}function Ql({to:t,replace:e,state:n,relative:i}){cn(lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Ua);as(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(is),{pathname:f}=ys(),p=Un(),w=fm(t,hm(u),f,i==="path"),y=JSON.stringify(w);return O.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function By(t){return Tv(t.context)}function He(t){cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hv({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){cn(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),w=O.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=io(n));let{pathname:y="/",search:N="",hash:A="",state:T=null,key:j="default"}=n,M=O.useMemo(()=>{let k=_i(y,p);return k==null?null:{location:{pathname:k,search:N,hash:A,state:T,key:j},navigationType:i}},[p,y,N,A,T,j,i]);return as(M!=null,`<Router basename="${p}"> is not able to match the URL "${y}${N}${A}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:O.createElement(Ua.Provider,{value:w},O.createElement(Bc.Provider,{children:e,value:M}))}function Vv({children:t,location:e}){return jv(J0(t),e)}function J0(t,e=[]){let n=[];return O.Children.forEach(t,(i,o)=>{if(!O.isValidElement(i))return;let u=[...e,o];if(i.type===O.Fragment){n.push.apply(n,J0(i.props.children,u));return}cn(i.type===He,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),cn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=J0(i.props.children,u)),n.push(f)}),n}var kd="get",Id="application/x-www-form-urlencoded";function eh(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Yv(t){return eh(t)&&t.tagName.toLowerCase()==="button"}function Gv(t){return eh(t)&&t.tagName.toLowerCase()==="form"}function Wv(t){return eh(t)&&t.tagName.toLowerCase()==="input"}function Xv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qv(t,e){return t.button===0&&(!e||e==="_self")&&!Xv(t)}function $0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function Kv(t,e){let n=$0(t);return e&&e.forEach((i,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var fd=null;function Zv(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var Qv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(t){return t!=null&&!Qv.has(t)?(as(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):t}function Jv(t,e){let n,i,o,u,f;if(Gv(t)){let p=t.getAttribute("action");i=p?_i(p,e):null,n=t.getAttribute("method")||kd,o=v0(t.getAttribute("enctype"))||Id,u=new FormData(t)}else if(Yv(t)||Wv(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=t.getAttribute("formaction")||p.getAttribute("action");if(i=w?_i(w,e):null,n=t.getAttribute("formmethod")||p.getAttribute("method")||kd,o=v0(t.getAttribute("formenctype"))||v0(p.getAttribute("enctype"))||Id,u=new FormData(p,t),!Zv()){let{name:y,type:N,value:A}=t;if(N==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,A)}}else{if(eh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kd,i=null,o=Id,f=t}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $v(t,e,n,i){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function eN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nN(t,e,n){let i=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await eN(u,n);return f.links?f.links():[]}return[]}));return rN(i.flat(1).filter(tN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function up(t,e,n,i,o,u){let f=(w,y)=>n[y]?w.route.id!==n[y].route.id:!0,p=(w,y)=>n[y].pathname!==w.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==w.params["*"];return u==="assets"?e.filter((w,y)=>f(w,y)||p(w,y)):u==="data"?e.filter((w,y)=>{let N=i.routes[w.route.id];if(!N||!N.hasLoader)return!1;if(f(w,y)||p(w,y))return!0;if(w.route.shouldRevalidate){let A=w.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function aN(t,e,{includeHydrateFallback:n}={}){return sN(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sN(t){return[...new Set(t)]}function iN(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function rN(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let u=JSON.stringify(iN(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function Py(){let t=O.useContext(ro);return pm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lN(){let t=O.useContext($d);return pm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ym=O.createContext(void 0);ym.displayName="FrameworkContext";function zy(){let t=O.useContext(ym);return pm(t,"You must render this element inside a <HydratedRouter> element"),t}function oN(t,e){let n=O.useContext(ym),[i,o]=O.useState(!1),[u,f]=O.useState(!1),{onFocus:p,onBlur:w,onMouseEnter:y,onMouseLeave:N,onTouchStart:A}=e,T=O.useRef(null);O.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let k=F=>{F.forEach(H=>{f(H.isIntersecting)})},B=new IntersectionObserver(k,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[t]),O.useEffect(()=>{if(i){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[i]);let j=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?t!=="intent"?[u,T,{}]:[u,T,{onFocus:rc(p,j),onBlur:rc(w,M),onMouseEnter:rc(y,j),onMouseLeave:rc(N,M),onTouchStart:rc(A,j)}]:[!1,T,{}]}function rc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cN({page:t,...e}){let{router:n}=Py(),i=O.useMemo(()=>Ay(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(dN,{page:t,matches:i,...e}):null}function uN(t){let{manifest:e,routeModules:n}=zy(),[i,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return nN(t,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[t,e,n]),i}function dN({page:t,matches:e,...n}){let i=ys(),{future:o,manifest:u,routeModules:f}=zy(),{basename:p}=Py(),{loaderData:w,matches:y}=lN(),N=O.useMemo(()=>up(t,e,y,u,i,"data"),[t,e,y,u,i]),A=O.useMemo(()=>up(t,e,y,u,i,"assets"),[t,e,y,u,i]),T=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,B=!1;if(e.forEach(H=>{let G=u.routes[H.route.id];!G||!G.hasLoader||(!N.some(K=>K.route.id===H.route.id)&&H.route.id in w&&f[H.route.id]?.shouldRevalidate||G.hasClientLoader?B=!0:k.add(H.route.id))}),k.size===0)return[];let F=$v(t,p,o.unstable_trailingSlashAwareDataRequests,"data");return B&&k.size>0&&F.searchParams.set("_routes",e.filter(H=>k.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[p,o.unstable_trailingSlashAwareDataRequests,w,i,u,N,e,t,f]),j=O.useMemo(()=>aN(A,u),[A,u]),M=uN(A);return O.createElement(O.Fragment,null,T.map(k=>O.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),j.map(k=>O.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:B})=>O.createElement("link",{key:k,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function hN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fN&&(window.__reactRouterVersion="7.13.0")}catch{}function mN({basename:t,children:e,unstable_useTransitions:n,window:i}){let o=O.useRef();o.current==null&&(o.current=G_({window:i,v5Compat:!0}));let u=o.current,[f,p]=O.useState({action:u.action,location:u.location}),w=O.useCallback(y=>{n===!1?p(y):O.startTransition(()=>p(y))},[n]);return O.useLayoutEffect(()=>u.listen(w),[u,w]),O.createElement(Hv,{basename:t,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var Fy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:p,target:w,to:y,preventScrollReset:N,viewTransition:A,unstable_defaultShouldRevalidate:T,...j},M){let{basename:k,unstable_useTransitions:B}=O.useContext(Ua),F=typeof y=="string"&&Fy.test(y),H=Ty(y,k);y=H.to;let G=Sv(y,{relative:o}),[K,$,te]=oN(i,j),Y=pN(y,{replace:f,state:p,target:w,preventScrollReset:N,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:T,unstable_useTransitions:B});function ne(we){e&&e(we),we.defaultPrevented||Y(we)}let q=O.createElement("a",{...j,...te,href:H.absoluteURL||G,onClick:H.isExternal||u?e:ne,ref:hN(M,$),target:w,"data-discover":!F&&n==="render"?"true":void 0});return K&&!F?O.createElement(O.Fragment,null,q,O.createElement(cN,{page:G})):q});Fe.displayName="Link";var Uy=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:p,children:w,...y},N){let A=Pc(f,{relative:y.relative}),T=ys(),j=O.useContext($d),{navigator:M,basename:k}=O.useContext(Ua),B=j!=null&&NN(A)&&p===!0,F=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,H=T.pathname,G=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(H=H.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&k&&(G=_i(G,k)||G);const K=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let $=H===F||!o&&H.startsWith(F)&&H.charAt(K)==="/",te=G!=null&&(G===F||!o&&G.startsWith(F)&&G.charAt(F.length)==="/"),Y={isActive:$,isPending:te,isTransitioning:B},ne=$?e:void 0,q;typeof i=="function"?q=i(Y):q=[i,$?"active":null,te?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let we=typeof u=="function"?u(Y):u;return O.createElement(Fe,{...y,"aria-current":ne,className:q,ref:N,style:we,to:f,viewTransition:p},typeof w=="function"?w(Y):w)});Uy.displayName="NavLink";var gN=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:f=kd,action:p,onSubmit:w,relative:y,preventScrollReset:N,viewTransition:A,unstable_defaultShouldRevalidate:T,...j},M)=>{let{unstable_useTransitions:k}=O.useContext(Ua),B=_N(),F=vN(p,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",G=typeof p=="string"&&Fy.test(p),K=$=>{if(w&&w($),$.defaultPrevented)return;$.preventDefault();let te=$.nativeEvent.submitter,Y=te?.getAttribute("formmethod")||f,ne=()=>B(te||$.currentTarget,{fetcherKey:e,method:Y,navigate:n,replace:o,state:u,relative:y,preventScrollReset:N,viewTransition:A,unstable_defaultShouldRevalidate:T});k&&n!==!1?O.startTransition(()=>ne()):ne()};return O.createElement("form",{ref:M,method:H,action:F,onSubmit:i?w:K,...j,"data-discover":!G&&t==="render"?"true":void 0})});gN.displayName="Form";function xN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hy(t){let e=O.useContext(ro);return cn(e,xN(t)),e}function pN(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:w}={}){let y=Un(),N=ys(),A=Pc(t,{relative:u});return O.useCallback(T=>{if(qv(T,e)){T.preventDefault();let j=n!==void 0?n:Cc(N)===Cc(A),M=()=>y(t,{replace:j,state:i,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});w?O.startTransition(()=>M()):M()}},[N,y,A,n,i,e,t,o,u,f,p,w])}function yN(t){as(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef($0(t)),n=O.useRef(!1),i=ys(),o=O.useMemo(()=>Kv(i.search,n.current?null:e.current),[i.search]),u=Un(),f=O.useCallback((p,w)=>{const y=$0(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+y,w)},[u,o]);return[o,f]}var bN=0,wN=()=>`__${String(++bN)}__`;function _N(){let{router:t}=Hy("useSubmit"),{basename:e}=O.useContext(Ua),n=Pv(),i=t.fetch,o=t.navigate;return O.useCallback(async(u,f={})=>{let{action:p,method:w,encType:y,formData:N,body:A}=Jv(u,e);if(f.navigate===!1){let T=f.fetcherKey||wN();await i(T,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:N,body:A,formMethod:f.method||w,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:N,body:A,formMethod:f.method||w,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,o,e,n])}function vN(t,{relative:e}={}){let{basename:n}=O.useContext(Ua),i=O.useContext(is);cn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Pc(t||".",{relative:e})},f=ys();if(t==null){u.search=f.search;let p=new URLSearchParams(u.search),w=p.getAll("index");if(w.some(N=>N==="")){p.delete("index"),w.filter(A=>A).forEach(A=>p.append("index",A));let N=p.toString();u.search=N?`?${N}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:wi([n,u.pathname])),Cc(u)}function NN(t,{relative:e}={}){let n=O.useContext(My);cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Hy("useViewTransitionState"),o=Pc(t,{relative:e});if(!n.isTransitioning)return!1;let u=_i(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=_i(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Pd(o.pathname,f)!=null||Pd(o.pathname,u)!=null}const Te=({children:t,variant:e="primary",isLoading:n=!1,fullWidth:i=!1,className:o="",disabled:u,...f})=>{const p="inline-flex justify-center items-center px-4 py-2 border text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",w={primary:"border-transparent text-white bg-bpn-blue hover:bg-bpn-blue-dark focus:ring-bpn-blue",secondary:"border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-bpn-blue",danger:"border-transparent text-white bg-bpn-red hover:bg-red-700 focus:ring-red-500",success:"border-transparent text-white bg-green-600 hover:bg-green-700 focus:ring-green-500",outline:"border-bpn-blue text-bpn-blue bg-transparent hover:bg-bpn-blue hover:text-white focus:ring-bpn-blue"},y=i?"w-full":"";return l.jsx("button",{disabled:n||u,className:`${p} ${w[e]} ${y} ${o}`,...f,children:n?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Memproses..."]}):t})};const AN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),dp=t=>{const e=SN(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vy=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),CN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var EN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TN=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:f,...p},w)=>O.createElement("svg",{ref:w,...EN,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Vy("lucide",o),...!u&&!CN(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,N])=>O.createElement(y,N)),...Array.isArray(u)?u:[u]]));const De=(t,e)=>{const n=O.forwardRef(({className:i,...o},u)=>O.createElement(TN,{ref:u,iconNode:e,className:Vy(`lucide-${AN(dp(t))}`,`lucide-${t}`,i),...o}));return n.displayName=dp(t),n};const jN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],MN=De("activity",jN);const DN=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],zd=De("arrow-down",DN);const kN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xt=De("arrow-left",kN);const IN=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],ON=De("arrow-right-left",IN);const RN=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Fd=De("arrow-up",RN);const LN=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],BN=De("banknote",LN);const PN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],hp=De("bell-off",PN);const zN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],fp=De("bell-ring",zN);const FN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zc=De("bell",FN);const UN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yy=De("briefcase",UN);const HN=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],VN=De("building",HN);const YN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]],GN=De("calendar-check-2",YN);const WN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gy=De("camera",WN);const XN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qN=De("calendar",XN);const KN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]],ZN=De("chart-bar-big",KN);const QN=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Wy=De("chart-no-axes-column-increasing",QN);const JN=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Xy=De("chart-no-axes-column",JN);const $N=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],th=De("check",$N);const eA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bm=De("chevron-down",eA);const tA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nh=De("chevron-left",tA);const nA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vi=De("chevron-right",nA);const aA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],to=De("circle-check-big",aA);const sA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bs=De("circle-plus",sA);const iA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rA=De("circle-question-mark",iA);const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],em=De("circle-x",lA);const oA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],cA=De("clipboard-copy",oA);const uA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ah=De("clock",uA);const dA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],hA=De("cloud-upload",dA);const fA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Fc=De("credit-card",fA);const mA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sh=De("database",mA);const gA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gr=De("dollar-sign",gA);const xA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ud=De("download",xA);const pA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ec=De("eye",pA);const yA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wm=De("file-text",yA);const bA=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2",key:"1urifu"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],wA=De("folder-clock",bA);const _A=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qy=De("funnel",_A);const vA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],NA=De("house",vA);const AA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_m=De("info",AA);const SA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Ky=De("key-round",SA);const CA=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Uc=De("landmark",CA);const EA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],TA=De("layout-dashboard",EA);const jA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Na=De("loader-circle",jA);const MA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vm=De("lock",MA);const DA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],kA=De("lock-open",DA);const IA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zy=De("log-out",IA);const OA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Qy=De("menu",OA);const RA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],LA=De("package",RA);const BA=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Hc=De("piggy-bank",BA);const PA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Jy=De("printer",PA);const zA=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],$y=De("qr-code",zA);const FA=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],UA=De("receipt",FA);const HA=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],VA=De("scissors",HA);const YA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vc=De("search",YA);const GA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WA=De("send",GA);const XA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qA=De("settings",XA);const KA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ZA=De("shield-alert",KA);const QA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nm=De("shield-check",QA);const JA=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],$A=De("shuffle",JA);const eS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xr=De("square-pen",eS);const tS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nS=De("tag",tS);const aS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],no=De("trash-2",aS);const sS=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],iS=De("trending-down",sS);const rS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ih=De("trending-up",rS);const lS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rh=De("triangle-alert",lS);const oS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Am=De("upload",oS);const cS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sm=De("user-check",cS);const uS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],dS=De("user-x",uS);const hS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oo=De("user",hS);const fS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yc=De("users",fS);const mS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],gS=De("wallet",mS);const xS=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],pS=De("wifi",xS);const yS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hs=De("x",yS),bS={warning:l.jsx(rh,{size:24,className:"text-yellow-500"}),success:l.jsx(to,{size:24,className:"text-green-500"}),info:l.jsx(_m,{size:24,className:"text-blue-500"})},Od=({modalProps:t,hideModal:e})=>{if(!t)return null;const{title:n,message:i,onConfirm:o,confirmText:u,cancelText:f,type:p="info"}=t;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm transform transition-all",children:[l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"mr-4 flex-shrink-0",children:bS[p]}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:n}),l.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i})]})]})}),l.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex flex-row-reverse gap-3 rounded-b-lg",children:[o&&l.jsx(Te,{onClick:o,children:u||"Ya, Lanjutkan"}),l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-semibold bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100",children:f||(o?"Batal":"Tutup")})]})]})})},eb=O.createContext(),yt=()=>O.useContext(eb),wS=({children:t})=>{const[e,n]=O.useState(null),[i,o]=O.useState(null),u=O.useCallback(w=>new Promise(y=>{n({...w,type:"warning",onConfirm:()=>{y(!0),n(null)}}),o(()=>()=>y(!1))}),[]),f=O.useCallback(w=>{n({...w,type:w.type||"info"})},[]),p=()=>{i&&(i(),o(null)),n(null)};return l.jsxs(eb.Provider,{value:{showConfirmation:u,showAlert:f,hideModal:p},children:[t,l.jsx(Od,{modalProps:e,hideModal:p})]})},Ht={brand:{name:"A2U Bank Digital",logo:"/a2u-logo.png",logoWhite:"/a2u-logo.png"},api:{baseUrl:"https://a2ubankdigital.my.id/app"},theme:{colors:{BPN_BLUE:"#00AEEF",BPN_YELLOW:"#FBBF24",BPN_RED:"#DC2626"},bgPrimary:"bg-bpn-blue",bgPrimaryHover:"hover:bg-bpn-blue/90",textPrimary:"text-bpn-blue",textPrimaryHover:"hover:text-bpn-blue/80",ringFocus:"focus:ring-bpn-blue/50",status:{error:"bg-bpn-red",warning:"bg-bpn-yellow",info:"bg-bpn-blue",success:"bg-green-600"}}},ke=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(null),o=O.useCallback(async(u,f="GET",p=null)=>{e(!0),i(null);const w=localStorage.getItem("authToken"),y={"Content-Type":"application/json"};w&&(y.Authorization=`Bearer ${w}`);const N={method:f,headers:y};p&&(N.body=JSON.stringify(p));try{const A=await fetch(`${Ht.api.baseUrl}/${u}`,N),T=await A.json().catch(()=>({message:`Server merespons dengan status ${A.status}, tetapi tidak ada pesan error yang bisa dibaca.`}));if(!A.ok){const j=T?.message||`HTTP error! status: ${A.status}`;throw new Error(j)}return T}catch(A){const T=A.message.includes("Failed to fetch")?"Gagal terhubung ke server. Periksa koneksi internet Anda atau hubungi administrator.":A.message;return i(T),console.error("API call failed:",T),null}finally{e(!1)}},[]);return{loading:t,error:n,callApi:o,setLoading:e,setError:i}},tb=O.createContext(null),_S=()=>O.useContext(tb),vS=({children:t})=>{const{callApi:e}=ke(),n=yt(),[i,o]=O.useState("loading"),u=y=>{const N="=".repeat((4-y.length%4)%4),A=(y+N).replace(/-/g,"+").replace(/_/g,"/"),T=window.atob(A),j=new Uint8Array(T.length);for(let M=0;M<T.length;++M)j[M]=T.charCodeAt(M);return j},f=O.useCallback(async()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window)){o("unsupported");return}try{const N=await(await navigator.serviceWorker.ready).pushManager.getSubscription();o(N?"granted":Notification.permission==="denied"?"denied":"prompt")}catch(y){console.error("Gagal mendapatkan status langganan:",y),o("error_checking")}},[]);O.useEffect(()=>{f()},[f]);const p=O.useCallback(async()=>{const y="BAa5p4tdGbiu03u1qNzTrEWewtf8CD3iWMzyvuSLF_j9KvdBAWl3dFMALpPY2SEWR44IfOXoc3UuaHAee1Nsi0Q";try{if(await Notification.requestPermission()!=="granted"){n.showAlert({title:"Izin Ditolak",message:"Anda telah memblokir notifikasi. Aktifkan melalui pengaturan browser.",type:"info"}),f();return}const T=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:u(y)}),j=await e("push_notification_subscribe.php","POST",T.toJSON());if(j&&j.status==="success")await n.showAlert({title:"Berhasil",message:"Notifikasi push berhasil diaktifkan.",type:"success"});else throw await T.unsubscribe(),new Error(j?.message||"Gagal menyimpan langganan.")}catch(N){console.error("Gagal berlangganan push notification: ",N),n.showAlert({title:"Gagal",message:N.message,type:"warning"})}finally{f()}},[e,n,f]),w=O.useMemo(()=>({notificationStatus:i,subscribeToNotifications:p}),[i,p]);return l.jsx(tb.Provider,{value:w,children:t})},NS=()=>{const[t,e]=O.useState(0),{callApi:n}=ke();return O.useEffect(()=>{const i=async()=>{const u=await n("notifications_get_list.php");if(u&&u.status==="success"){const f=u.data.filter(p=>!p.is_read).length;e(f)}};i();const o=setInterval(i,6e4);return()=>clearInterval(o)},[n]),l.jsxs(Fe,{to:"/notifications",className:"relative p-2 rounded-full bg-white shadow-sm text-gray-600",children:[l.jsx(zc,{size:20}),t>0&&l.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs font-bold",children:t})]})},AS=({user:t})=>{if(!t)return null;const e=n=>{if(!n)return"?";const i=n.split(" ");return i.length>1?i[0].charAt(0)+i[1].charAt(0):n.charAt(0)};return l.jsx("header",{className:"sticky top-0 bg-gray-50/80 backdrop-blur-md z-10 p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-bpn-blue text-white flex items-center justify-center font-bold mr-3",children:e(t.fullName)}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Selamat Datang,"}),l.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:t.fullName||"Pengguna"})]})]}),l.jsx(NS,{})]})})},SS=()=>{const t=[{path:"/dashboard",icon:l.jsx(NA,{}),label:"Beranda"},{path:"/history",icon:l.jsx(Xy,{}),label:"Riwayat"},{path:"/payment",icon:l.jsx(gS,{}),label:"Bayar"},{path:"/investments",icon:l.jsx(ih,{}),label:"Investasi"},{path:"/profile",icon:l.jsx(oo,{}),label:"Profil"}],e="text-bpn-blue",n="text-gray-500 hover:text-bpn-blue";return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.1)] z-10",children:l.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:t.map(i=>l.jsxs(Uy,{to:i.path,className:({isActive:o})=>`flex flex-col items-center justify-center w-full pt-2 pb-1 transition-colors duration-200 ${o?e:n}`,children:[i.icon,l.jsx("span",{className:"text-xs mt-1",children:i.label})]},i.path))})})},CS=({user:t,onLogout:e})=>l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-md mx-auto bg-gray-50 flex flex-col",children:[l.jsx(AS,{user:t,onLogout:e}),l.jsx("main",{className:"flex-grow p-4 pb-24",children:l.jsx(By,{})}),l.jsx(SS,{})]})}),mp=({to:t,icon:e,text:n,isActive:i,onClick:o})=>l.jsxs(Fe,{to:t,onClick:o,className:`flex items-center py-3 px-6 my-1 transition-colors duration-200 text-gray-600 hover:${Ht.theme.textPrimary} hover:bg-blue-50 ${i?`bg-blue-50 border-r-4 border-bpn-blue ${Ht.theme.textPrimary} font-semibold`:""}`,children:[e,l.jsx("span",{className:"mx-4",children:n})]}),ES=({icon:t,text:e,children:n,isActive:i})=>{const[o,u]=Z0.useState(i);return Z0.useEffect(()=>{i&&u(!0)},[i]),l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>u(!o),className:`flex items-center justify-between w-full py-3 px-6 my-1 transition-colors duration-200 text-gray-600 hover:${Ht.theme.textPrimary} hover:bg-blue-50 ${i?`bg-blue-50 ${Ht.theme.textPrimary} font-semibold`:""}`,children:[l.jsxs("div",{className:"flex items-center",children:[t,l.jsx("span",{className:"mx-4",children:e})]}),l.jsx(bm,{className:`transform transition-transform duration-200 ${o?"rotate-180":""}`,size:16})]}),l.jsx("div",{className:`pl-8 overflow-hidden transition-all duration-300 ease-in-out ${o?"max-h-screen":"max-h-0"}`,children:n})]})},TS=({isOpen:t,setIsOpen:e,onLogout:n,user:i})=>{const o=ys(),u=w=>w?w==="/admin/dashboard"?o.pathname===w:o.pathname.startsWith(w):!1,p=i?(w=>{const y={dashboard:{type:"link",icon:l.jsx(TA,{size:20}),text:"Dashboard",path:"/admin/dashboard"},customers:{type:"link",icon:l.jsx(Yc,{size:20}),text:"Nasabah",path:"/admin/customers"},teller_ops:{type:"group",icon:l.jsx(Uc,{size:20}),text:"Transaksi Teller",activePaths:["/admin/teller-deposit","/admin/teller-loan-payment"],subLinks:[{text:"Setor Tunai",path:"/admin/teller-deposit"},{text:"Bayar Angsuran",path:"/admin/teller-loan-payment"}]},requests:{type:"group",icon:l.jsx(wA,{size:20}),text:"Permintaan",activePaths:["/admin/topup-requests","/admin/withdrawal-requests","/admin/card-requests"],subLinks:[{text:"Isi Saldo",path:"/admin/topup-requests"},{text:"Penarikan Dana",path:"/admin/withdrawal-requests"},{text:"Request Kartu",path:"/admin/card-requests"}]},transactions:{type:"link",icon:l.jsx(Fc,{size:20}),text:"Semua Transaksi",path:"/admin/transactions"},loanMgmt:{type:"group",icon:l.jsx(Hc,{size:20}),text:"Manajemen Pinjaman",activePaths:["/admin/loan-products","/admin/loan-applications","/admin/loan-accounts"],subLinks:[{text:"Produk Pinjaman",path:"/admin/loan-products"},{text:"Pengajuan Baru",path:"/admin/loan-applications"},{text:"Daftar Pinjaman",path:"/admin/loan-accounts"}]},depositMgmt:{type:"group",icon:l.jsx(sh,{size:20}),text:"Manajemen Deposito",activePaths:["/admin/deposit-products","/admin/deposit-accounts"],subLinks:[{text:"Produk Deposito",path:"/admin/deposit-products"},{text:"Daftar Deposito",path:"/admin/deposit-accounts"}]},orgStructure:{type:"group",icon:l.jsx(VN,{size:20}),text:"Struktur Organisasi",activePaths:["/admin/units","/admin/staff"],subLinks:[{text:"Manajemen Unit",path:"/admin/units"},{text:"Manajemen Staf",path:"/admin/staff"}]},reports:{type:"link",icon:l.jsx(Wy,{size:20}),text:"Laporan",path:"/admin/reports"},auditLog:{type:"link",icon:l.jsx(Nm,{size:20}),text:"Log Audit",path:"/admin/audit-log"}};return{1:[y.dashboard,y.customers,y.teller_ops,y.requests,y.transactions,y.loanMgmt,y.depositMgmt,y.orgStructure,y.reports,y.auditLog],2:[y.dashboard,y.customers,y.teller_ops,y.requests,y.transactions,y.loanMgmt,y.depositMgmt,y.orgStructure,y.reports,y.auditLog],3:[y.dashboard,y.customers,y.teller_ops,y.requests,y.transactions,y.loanMgmt,y.depositMgmt,y.reports],5:[y.dashboard,y.customers,y.teller_ops,y.requests],6:[y.dashboard,y.customers,y.teller_ops,y.requests],7:[y.dashboard,y.loanMgmt],8:[y.dashboard,y.reports]}[w]||[y.dashboard]})(i.roleId):[];return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden ${t?"block":"hidden"}`,onClick:()=>e(!1)}),l.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-md z-30 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${t?"translate-x-0":"-translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between h-20 border-b px-6",children:[l.jsx("img",{src:Ht.brand.logo,alt:"A2U Bank Digital Logo",className:"h-8"}),l.jsx("button",{onClick:()=>e(!1),className:"md:hidden text-gray-600",children:l.jsx(Hs,{size:24})})]}),l.jsxs("div",{className:"flex flex-col justify-between",style:{height:"calc(100% - 80px)"},children:[l.jsx("nav",{className:"mt-6 flex-grow overflow-y-auto",children:p.map(w=>{const y=w.path||w.text;return w.type==="group"?l.jsx(ES,{icon:w.icon,text:w.text,isActive:w.activePaths.some(N=>u(N)),children:w.subLinks.map(N=>l.jsx(mp,{to:N.path,icon:N.icon,text:N.text,isActive:u(N.path),onClick:()=>e(!1)},N.path))},y):l.jsx(mp,{to:w.path,icon:w.icon,text:w.text,isActive:u(w.path),onClick:()=>e(!1)},y)})}),l.jsxs("div",{className:"border-t",children:[l.jsxs(Fe,{to:"/admin/settings",onClick:()=>e(!1),className:`flex items-center py-4 px-6 w-full text-left text-gray-600 hover:${Ht.theme.textPrimary} hover:bg-blue-50 ${u("/admin/settings")?`bg-blue-50 ${Ht.theme.textPrimary} font-semibold`:""}`,children:[l.jsx(qA,{size:20}),l.jsx("span",{className:"mx-4",children:"Pengaturan"})]}),l.jsxs("button",{onClick:n,className:"flex items-center py-4 px-6 w-full text-left text-gray-600 hover:text-red-600 hover:bg-red-50",children:[l.jsx(Zy,{size:20}),l.jsx("span",{className:"mx-4",children:"Logout"})]})]})]})]})]})},jS=()=>{const[t,e]=O.useState(0),{callApi:n}=ke();return O.useEffect(()=>{const i=async()=>{const u=await n("notifications_get_list.php");if(u&&u.status==="success"){const f=u.data.filter(p=>!p.is_read).length;e(f)}};i();const o=setInterval(i,6e4);return()=>clearInterval(o)},[n]),l.jsxs(Fe,{to:"/admin/notifications",className:"relative p-2 rounded-full text-gray-500 hover:bg-gray-100",children:[l.jsx(zc,{size:20}),t>0&&l.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-white text-xs font-bold",children:t>9?"9+":t})]})},MS=({user:t,onMenuClick:e})=>{const n=i=>({1:"Super Admin",2:"Kepala Cabang",3:"Kepala Unit",4:"Marketing",5:"Teller",6:"Customer Service",7:"Analis Kredit"})[i]||"Staf";return l.jsxs("header",{className:"flex items-center justify-between h-20 px-6 bg-white border-b flex-shrink-0",children:[l.jsx("button",{onClick:e,className:"md:hidden text-gray-600",children:l.jsx(Qy,{size:24})}),l.jsx("div",{className:"hidden md:block flex-grow"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(jS,{}),l.jsxs(Fe,{to:"/admin/settings",className:"ml-4 flex items-center p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsxs("span",{className:"text-right mr-3 hidden sm:block",children:[l.jsx("span",{className:"block text-sm font-medium text-gray-700",children:t.fullName}),l.jsx("span",{className:"block text-xs text-gray-500",children:n(t.roleId)})]}),l.jsx("div",{className:"w-10 h-10 rounded-full bg-a2u-primary text-white flex items-center justify-center font-bold",children:t.fullName.charAt(0)})]})]})]})},DS=({user:t,onLogout:e})=>{const[n,i]=O.useState(!1);return l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsx(TS,{isOpen:n,setIsOpen:i,onLogout:e,user:t}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(MS,{user:t,onMenuClick:()=>i(!0)}),l.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 md:p-6",children:l.jsx(By,{})})]})]})},Se=({id:t,label:e,type:n="text",value:i,onChange:o,placeholder:u,required:f=!1,name:p})=>l.jsxs("div",{children:[e&&l.jsx("label",{htmlFor:t||p,className:"block mb-2 text-sm font-medium text-gray-700",children:e}),l.jsx("input",{type:n,id:t||p,name:p||t,value:i,onChange:o,placeholder:u,required:f,className:`w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${Ht.theme.ringFocus}`})]});function kS(){const t=Un(),{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState(""),[f,p]=O.useState(""),[w,y]=O.useState(""),[N,A]=O.useState(null);O.useEffect(()=>{localStorage.clear()},[]),O.useEffect(()=>{if(N){const M=Number(N.roleId),k=setTimeout(()=>{console.log("Redirecting user with role:",M),M=== "9"?t("/dashboard",{replace:!0}):t("/admin/dashboard",{replace:!0})},100);return()=>clearTimeout(k)}},[N,t]);const T=async M=>{M.preventDefault(),y("");try{const k=await i("/auth_login.php","POST",{email:o,password:f});if(k&&k.status==="success"&&k.token){const{token:B,user:F}=k;localStorage.setItem("authToken",B),localStorage.setItem("authUser",JSON.stringify(F)),A(F)}else y(k?.message||"Login gagal. Periksa email dan password Anda.")}catch(k){console.error("Login Error:",k),y("Terjadi kesalahan koneksi. Silakan coba lagi.")}},j=n||w;return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[l.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[l.jsx("img",{className:"mx-auto h-16 w-auto",src:"/a2u-logo.png",alt:"A2U Bank Digital",onError:M=>{M.target.onerror=null,M.target.src="https://via.placeholder.com/150x60?text=A2U+Bank"}}),l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Masuk ke Akun Anda"}),l.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Atau"," ",l.jsx(Fe,{to:"/register",className:"font-medium text-bpn-blue hover:text-bpn-blue-dark",children:"daftar rekening baru"})]})]}),l.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-100",children:[j&&l.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-700 font-medium",children:j})})]})}),l.jsxs("form",{className:"space-y-6",onSubmit:T,children:[l.jsx(Se,{label:"Email",type:"email",id:"email",value:o,onChange:M=>u(M.target.value),required:!0,placeholder:"nama@email.com"}),l.jsxs("div",{children:[l.jsx(Se,{label:"Password",type:"password",id:"password",value:f,onChange:M=>p(M.target.value),required:!0,placeholder:""}),l.jsx("div",{className:"flex items-center justify-end mt-1",children:l.jsx(Fe,{to:"/forgot-password",className:"text-sm font-medium text-bpn-blue hover:text-bpn-blue-dark",children:"Lupa password?"})})]}),l.jsx("div",{children:l.jsx(Te,{type:"submit",variant:"primary",fullWidth:!0,isLoading:e,className:"bg-bpn-blue hover:bg-bpn-blue-dark focus:ring-bpn-blue",children:e?"Memproses...":"Masuk"})})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"A2U Bank Digital"})})]})})]})})]})}const gp=({label:t,name:e,required:n,onChange:i,previewSrc:o})=>l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:[t," ",n&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[l.jsx("span",{className:"h-20 w-32 overflow-hidden rounded-lg bg-gray-100 flex items-center justify-center",children:o?l.jsx("img",{src:o,alt:"Preview",className:"h-full w-full object-cover"}):l.jsx(hA,{className:"h-8 w-8 text-gray-400"})}),l.jsxs("label",{htmlFor:e,className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50",children:[l.jsx("span",{children:"Pilih File"}),l.jsx("input",{id:e,name:e,type:"file",className:"sr-only",onChange:i,accept:"image/png, image/jpeg",required:n})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG atau JPG, maks 2MB."})]}),IS=()=>{const t=Un(),e=yt(),{loading:n,error:i,callApi:o,setLoading:u,setError:f}=ke(),[p,w]=O.useState(1),[y,N]=O.useState([]),[A,T]=O.useState({full_name:"",email:"",password:"",phone_number:"",nik:"",mother_maiden_name:"",pob:"",dob:"",gender:"L",address_ktp:"",unit_id:"",otp_code:""}),[j,M]=O.useState(null),[k,B]=O.useState(null),[F,H]=O.useState(null),[G,K]=O.useState(null),$=O.useCallback(async(we,Ae)=>{const me=await o(`utility_get_nearest_units.php?lat=${we}&lon=${Ae}`);me&&me.status==="success"&&(N(me.data),me.data.length>0&&T(Re=>({...Re,unit_id:me.data[0].id})))},[o]);O.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(we=>$(we.coords.latitude,we.coords.longitude),()=>$(-6.1945,106.8224)):$(-6.1945,106.8224)},[$]);const te=we=>{const{name:Ae,value:me}=we.target;T(Re=>({...Re,[Ae]:me}))},Y=(we,Ae)=>{const me=we.target.files[0];me&&me.size<2097152?Ae==="ktp"?(M(me),H(URL.createObjectURL(me))):(B(me),K(URL.createObjectURL(me))):me&&e.showAlert({title:"Ukuran File Terlalu Besar",message:"Ukuran file maksimal adalah 2MB.",type:"warning"})},ne=async we=>{we.preventDefault(),u(!0),f(null);const Ae=new FormData;Object.keys(A).forEach(me=>Ae.append(me,A[me])),Ae.append("ktp_image",j),Ae.append("selfie_image",k);try{const me=await fetch(`${Ht.api.baseUrl}/auth_register_request_otp.php`,{method:"POST",body:Ae}),Re=await me.json();if(!me.ok||Re.status!=="success")throw new Error(Re.message||"Terjadi kesalahan.");w(2),e.showAlert({title:"Berhasil",message:Re.message,type:"success"})}catch(me){f(me.message)}finally{u(!1)}},q=async we=>{we.preventDefault();const Ae=await o("auth_register_verify_otp.php","POST",{email:A.email,otp_code:A.otp_code});Ae&&Ae.status==="success"&&(await e.showAlert({title:"Pendaftaran Berhasil",message:Ae.message,type:"success"}),t("/login"))};return l.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:l.jsxs("div",{className:"w-full max-w-lg",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:Ht.brand.logo,alt:"A2U Bank Digital Logo",className:"h-10 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Buka Akun Baru"}),l.jsx("p",{className:"text-gray-500",children:"Lengkapi data diri Anda untuk memulai."})]}),l.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[p===1&&l.jsxs("form",{onSubmit:ne,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Se,{name:"full_name",label:"Nama Lengkap",value:A.full_name,onChange:te,required:!0}),l.jsx(Se,{name:"email",type:"email",label:"Email",value:A.email,onChange:te,required:!0}),l.jsx(Se,{name:"password",type:"password",label:"Password",value:A.password,onChange:te,required:!0}),l.jsx(Se,{name:"phone_number",label:"Nomor Telepon",value:A.phone_number,onChange:te,required:!0}),l.jsx(Se,{name:"nik",label:"Nomor Induk Kependudukan (NIK)",value:A.nik,onChange:te,required:!0}),l.jsx(Se,{name:"mother_maiden_name",label:"Nama Ibu Kandung",value:A.mother_maiden_name,onChange:te,required:!0}),l.jsx(Se,{name:"pob",label:"Tempat Lahir",value:A.pob,onChange:te,required:!0}),l.jsx(Se,{name:"dob",type:"date",label:"Tanggal Lahir",value:A.dob,onChange:te,required:!0}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block mb-2 text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),l.jsxs("select",{name:"gender",id:"gender",value:A.gender,onChange:te,className:`w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${Ht.theme.ringFocus}`,children:[l.jsx("option",{value:"L",children:"Laki-laki"}),l.jsx("option",{value:"P",children:"Perempuan"})]})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(Se,{name:"address_ktp",label:"Alamat Sesuai KTP",value:A.address_ktp,onChange:te,required:!0})}),l.jsx(gp,{name:"ktp_image",label:"Foto KTP",required:!0,onChange:we=>Y(we,"ktp"),previewSrc:F}),l.jsx(gp,{name:"selfie_image",label:"Foto Selfie dengan KTP",required:!0,onChange:we=>Y(we,"selfie"),previewSrc:G}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"unit_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Pilih Unit/Cabang Terdekat"}),l.jsxs("select",{name:"unit_id",id:"unit_id",value:A.unit_id,onChange:te,className:`w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 ${Ht.theme.ringFocus}`,required:!0,children:[y.length===0&&l.jsx("option",{value:"",disabled:!0,children:"Memuat lokasi terdekat..."}),y.map(we=>l.jsxs("option",{value:we.id,children:[we.unit_name," (",we.type,") - ",parseFloat(we.distance).toFixed(1)," km"]},we.id))]})]})]}),i&&l.jsx("p",{className:"text-bpn-red text-sm mt-4 text-center",children:i}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:n,children:n?"Memproses...":"Lanjutkan & Kirim OTP"})})]}),p===2&&l.jsxs("form",{onSubmit:q,children:[l.jsxs("p",{className:"text-center text-gray-600 mb-4",children:["Kami telah mengirimkan kode 6 digit ke ",l.jsx("strong",{children:A.email}),". Silakan masukkan di bawah ini."]}),l.jsx(Se,{name:"otp_code",label:"Kode OTP",value:A.otp_code,onChange:te,required:!0}),i&&l.jsx("p",{className:"text-bpn-red text-sm mt-4 text-center",children:i}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:n,children:n?"Memverifikasi...":"Verifikasi & Buat Akun"})}),l.jsx("button",{type:"button",onClick:()=>w(1),className:"text-sm text-center w-full mt-4 text-gray-500 hover:text-black",children:"Kembali"})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-gray-600 text-sm",children:["Sudah punya akun? ",l.jsx(Fe,{to:"/login",className:`font-semibold ${Ht.theme.textPrimaryHover}`,children:"Login di sini"})]})})]})})},OS=({question:t,answer:e})=>{const[n,i]=O.useState(!1);return l.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[l.jsxs("button",{onClick:()=>i(!n),className:"w-full flex justify-between items-center text-left",children:[l.jsx("h3",{className:"font-semibold",children:t}),l.jsx(bm,{className:`transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),l.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-40 mt-2":"max-h-0"}`,children:l.jsx("p",{className:"text-gray-600 text-sm pt-2 border-t",children:e})})]})},RS=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(!1),{callApi:o}=ke(),[u,f]=O.useState({ios:"#",android:"#"});O.useEffect(()=>{(async()=>{const N=await o("utility_get_public_config.php");N&&N.status==="success"&&f({ios:N.data.app_download_link_ios,android:N.data.app_download_link_android})})()},[o]),O.useEffect(()=>{const y=setTimeout(()=>i(!0),100);return()=>clearTimeout(y)},[]);const p=[{icon:l.jsx(Xy,{className:"w-10 h-10 text-bpn-blue-800"}),title:"Prinsip Syariah",description:"Semua produk dan layanan kami dirancang sesuai dengan prinsip keuangan Syariah."},{icon:l.jsx(Fc,{className:"w-10 h-10 text-bpn-yellow-500"}),title:"Transaksi Mudah",description:"Nikmati kemudahan transfer, pembayaran, dan pembelian dalam satu genggaman."},{icon:l.jsx(Nm,{className:"w-10 h-10 text-bpn-red-500"}),title:"Aman & Terpercaya",description:"Keamanan data dan dana Anda adalah prioritas utama kami dengan teknologi terkini."}],w=[{question:"Bagaimana cara membuka akun?",answer:"Anda dapat membuka akun secara online melalui tombol 'Buka Akun' di atas. Prosesnya cepat, mudah, dan hanya membutuhkan beberapa menit."},{question:"Apakah data saya aman?",answer:"Kami menggunakan teknologi enkripsi terdepan dan sistem keamanan berlapis untuk memastikan semua data dan transaksi Anda aman bersama kami."},{question:"Apa saja produk yang ditawarkan?",answer:"Kami menawarkan berbagai produk berbasis syariah, mulai dari tabungan, deposito, hingga produk pembiayaan yang sesuai dengan kebutuhan Anda."}];return l.jsxs("div",{className:"bg-gray-50 text-gray-800",children:[l.jsxs("header",{className:"container mx-auto px-6 py-4 flex justify-between items-center sticky top-0 bg-white/80 backdrop-blur-md z-20",children:[l.jsx(Fe,{to:"/",className:"flex items-center",children:l.jsx("img",{src:Ht.brand.logo,alt:"A2U Bank Digital Logo",className:"h-8"})}),l.jsxs("nav",{className:"hidden md:flex items-center space-x-8 text-gray-600 font-medium",children:[l.jsx("a",{href:"#features",className:"hover:text-bpn-blue-800 transition-colors",children:"Fitur Unggulan"}),l.jsx("a",{href:"#about",className:"hover:text-bpn-blue-800 transition-colors",children:"Tentang Kami"}),l.jsx("a",{href:"#faq",className:"hover:text-bpn-blue-800 transition-colors",children:"FAQ"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsx(Fe,{to:"/login",className:"text-gray-600 hover:text-bpn-blue-800 font-bold transition-colors",children:"Login"}),l.jsx(Fe,{to:"/register",children:l.jsx(Te,{children:"Buka Akun"})})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>e(!t),children:t?l.jsx(Hs,{size:24}):l.jsx(Qy,{size:24})})})]}),t&&l.jsx("div",{className:"md:hidden bg-white shadow-lg",children:l.jsxs("nav",{className:"flex flex-col items-center space-y-4 py-4",children:[l.jsx("a",{href:"#features",onClick:()=>e(!1),children:"Fitur"}),l.jsx("a",{href:"#about",onClick:()=>e(!1),children:"Tentang Kami"}),l.jsx("a",{href:"#faq",onClick:()=>e(!1),children:"FAQ"}),l.jsx(Fe,{to:"/login",className:"w-full px-4",children:l.jsx(Te,{fullWidth:!0,children:"Login"})})]})}),l.jsxs("main",{className:"container mx-auto px-6 pt-16 pb-24 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-bold leading-tight mb-4 text-bpn-blue-900",children:"Perbankan Syariah di Ujung Jari Anda"}),l.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Kelola keuangan Anda dengan mudah, aman, dan sesuai prinsip syariah kapan pun dan di mana pun."}),l.jsx("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:l.jsx(Fe,{to:"/register",children:l.jsx(Te,{className:"py-3 px-8 text-lg",children:"Mulai Sekarang"})})}),l.jsxs("div",{className:"mt-12 flex justify-center items-center gap-4",children:[l.jsx("a",{href:u.ios,target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:"/app-store-badge.svg",alt:"Download on the App Store",className:"h-12"})}),l.jsx("a",{href:u.android,target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:"/google-play-badge.svg",alt:"Get it on Google Play",className:"h-12"})})]})]}),l.jsx("section",{className:"container mx-auto px-6 mb-20",children:l.jsx("div",{className:`transition-opacity duration-1000 ease-in ${n?"opacity-100":"opacity-0"}`,children:l.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-2 sm:p-4 max-w-4xl mx-auto",children:l.jsx("div",{className:"rounded-lg overflow-hidden",children:l.jsx("img",{src:"/app-mockup.png",alt:"A2U Bank Digital App Mockup",className:"w-full h-auto object-cover"})})})})}),l.jsx("section",{id:"features",className:"py-20 bg-gray-100",children:l.jsxs("div",{className:"container mx-auto px-6 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-12 text-bpn-blue-900",children:"Satu Aplikasi, Berbagai Kemudahan"}),l.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:p.map(y=>l.jsxs("div",{children:[l.jsx("div",{className:"bg-white w-24 h-24 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg border",children:y.icon}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:y.title}),l.jsx("p",{className:"text-gray-600",children:y.description})]},y.title))})]})}),l.jsx("section",{id:"about",className:"py-20",children:l.jsxs("div",{className:"container mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 text-bpn-blue-900",children:"Membawa Layanan Perbankan Syariah Terbaik untuk Anda"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"A2U Bank Digital berkomitmen untuk menyediakan solusi keuangan yang tidak hanya modern dan mudah diakses, tetapi juga berlandaskan pada nilai-nilai keadilan dan transparansi. Kami hadir untuk menjadi mitra terpercaya dalam setiap langkah perjalanan finansial Anda."})]}),l.jsx("div",{id:"faq",className:"space-y-4",children:w.map((y,N)=>l.jsx(OS,{question:y.question,answer:y.answer},N))})]})}),l.jsx("footer",{className:"py-12 bg-gray-800 text-white",children:l.jsxs("div",{className:"container mx-auto px-6 text-center text-gray-400",children:[l.jsx("img",{src:"/a2u-logo.png",alt:"A2U Bank Digital Logo",className:"h-8 mx-auto mb-4"}),l.jsxs("p",{children:[" ",new Date().getFullYear()," A2U Bank Digital. Semua Hak Cipta Dilindungi."]})]})})]})},LS=()=>{const[t,e]=O.useState(""),{loading:n,error:i,callApi:o}=ke(),u=yt(),[f,p]=O.useState(!1),w=async y=>{y.preventDefault();const N=await o("auth_forgot_password_request.php","POST",{email:t});N&&N.status==="success"?p(!0):u.showAlert({title:"Error",message:i||"Terjadi kesalahan.",type:"warning"})};return l.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:l.jsxs("div",{className:"w-full max-w-sm",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("img",{src:"/logobank.png",alt:"Bank Taskora Logo",className:"w-48 mx-auto mb-4"})}),l.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md",children:f?l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Periksa Email Anda"}),l.jsx("p",{className:"text-gray-600",children:"Jika email yang Anda masukkan terdaftar, kami telah mengirimkan tautan untuk mereset password Anda."}),l.jsx(Fe,{to:"/login",children:l.jsx(Te,{fullWidth:!0,className:"mt-6",children:"Kembali ke Login"})})]}):l.jsxs("form",{onSubmit:w,children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Lupa Password"}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Masukkan email Anda untuk menerima instruksi reset password."}),l.jsx("div",{className:"mb-4",children:l.jsx(Se,{id:"email",type:"email",label:"Alamat Email",value:t,onChange:y=>e(y.target.value),placeholder:"nama@email.com",required:!0})}),i&&l.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:i}),l.jsx(Te,{type:"submit",fullWidth:!0,disabled:n,children:n?"Mengirim...":"Kirim Instruksi"})]})}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs(Fe,{to:"/login",className:`flex items-center justify-center gap-2 text-sm font-medium ${Ht.theme.textPrimaryHover}`,children:[l.jsx(Xt,{size:16})," Kembali ke Login"]})})]})})},BS=()=>{const[t]=yN(),e=Un(),n=yt(),{loading:i,error:o,callApi:u}=ke(),[f,p]=O.useState(null),[w,y]=O.useState({new_password:"",confirm_password:""}),[N,A]=O.useState(!1);O.useEffect(()=>{const M=t.get("token");M||(n.showAlert({title:"Token Tidak Valid",message:"Tautan reset password tidak valid atau telah kedaluwarsa.",type:"warning"}),e("/login")),p(M)},[t,e,n]);const T=M=>{const{name:k,value:B}=M.target;y(F=>({...F,[k]:B}))},j=async M=>{if(M.preventDefault(),w.new_password!==w.confirm_password){n.showAlert({title:"Password Tidak Cocok",message:"Password baru dan konfirmasi tidak cocok.",type:"warning"});return}const k=await u("auth_forgot_password_reset.php","POST",{token:f,new_password:w.new_password});k&&k.status==="success"&&A(!0)};return l.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:l.jsxs("div",{className:"w-full max-w-sm",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("img",{src:"/logobank.png",alt:"Bank Taskora Logo",className:"w-48 mx-auto mb-4"})}),l.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md",children:N?l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Password Berhasil Direset"}),l.jsx("p",{className:"text-gray-600",children:"Anda sekarang dapat login dengan password baru Anda."}),l.jsx(Fe,{to:"/login",children:l.jsx(Te,{fullWidth:!0,className:"mt-6",children:"Lanjutkan ke Login"})})]}):l.jsxs("form",{onSubmit:j,children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-4",children:"Atur Password Baru"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"new_password",type:"password",label:"Password Baru",value:w.new_password,onChange:T,required:!0}),l.jsx(Se,{name:"confirm_password",type:"password",label:"Konfirmasi Password Baru",value:w.confirm_password,onChange:T,required:!0})]}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:o}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:i||!f,children:i?"Menyimpan...":"Simpan Password Baru"})})]})})]})})};function Gc(t){return t+.5|0}const dr=(t,e,n)=>Math.max(Math.min(t,n),e);function pc(t){return dr(Gc(t*2.55),0,255)}function mr(t){return dr(Gc(t*255),0,255)}function xi(t){return dr(Gc(t/2.55)/100,0,1)}function xp(t){return dr(Gc(t*100),0,100)}const ts={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tm=[..."0123456789ABCDEF"],PS=t=>tm[t&15],zS=t=>tm[(t&240)>>4]+tm[t&15],md=t=>(t&240)>>4===(t&15),FS=t=>md(t.r)&&md(t.g)&&md(t.b)&&md(t.a);function US(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ts[t[1]]*17,g:255&ts[t[2]]*17,b:255&ts[t[3]]*17,a:e===5?ts[t[4]]*17:255}:(e===7||e=== "9")&&(n={r:ts[t[1]]<<4|ts[t[2]],g:ts[t[3]]<<4|ts[t[4]],b:ts[t[5]]<<4|ts[t[6]],a:e=== "9"?ts[t[7]]<<4|ts[t[8]]:255})),n}const HS=(t,e)=>t<255?e(t):"";function VS(t){var e=FS(t)?PS:zS;return t?"#"+e(t.r)+e(t.g)+e(t.b)+HS(t.a,e):void 0}const YS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nb(t,e,n){const i=e*Math.min(n,1-n),o=(u,f=(u+t/30)%12)=>n-i*Math.max(Math.min(f-3,9-f,1),-1);return[o(0),o(8),o(4)]}function GS(t,e,n){const i=(o,u=(o+t/60)%6)=>n-n*e*Math.max(Math.min(u,4-u,1),0);return[i(5),i(3),i(1)]}function WS(t,e,n){const i=nb(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function XS(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function Cm(t){const n=t.r/255,i=t.g/255,o=t.b/255,u=Math.max(n,i,o),f=Math.min(n,i,o),p=(u+f)/2;let w,y,N;return u!==f&&(N=u-f,y=p>.5?N/(2-u-f):N/(u+f),w=XS(n,i,o,N,u),w=w*60+.5),[w|0,y||0,p]}function Em(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(mr)}function Tm(t,e,n){return Em(nb,t,e,n)}function qS(t,e,n){return Em(WS,t,e,n)}function KS(t,e,n){return Em(GS,t,e,n)}function ab(t){return(t%360+360)%360}function ZS(t){const e=YS.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?pc(+e[5]):mr(+e[5]));const o=ab(+e[2]),u=+e[3]/100,f=+e[4]/100;return e[1]==="hwb"?i=qS(o,u,f):e[1]==="hsv"?i=KS(o,u,f):i=Tm(o,u,f),{r:i[0],g:i[1],b:i[2],a:n}}function QS(t,e){var n=Cm(t);n[0]=ab(n[0]+e),n=Tm(n),t.r=n[0],t.g=n[1],t.b=n[2]}function JS(t){if(!t)return;const e=Cm(t),n=e[0],i=xp(e[1]),o=xp(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${xi(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const pp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $S(){const t={},e=Object.keys(yp),n=Object.keys(pp);let i,o,u,f,p;for(i=0;i<e.length;i++){for(f=p=e[i],o=0;o<n.length;o++)u=n[o],p=p.replace(u,pp[u]);u=parseInt(yp[f],16),t[p]=[u>>16&255,u>>8&255,u&255]}return t}let gd;function e3(t){gd||(gd=$S(),gd.transparent=[0,0,0,0]);const e=gd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const t3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function n3(t){const e=t3.exec(t);let n=255,i,o,u;if(e){if(e[7]!==i){const f=+e[7];n=e[8]?pc(f):dr(f*255,0,255)}return i=+e[1],o=+e[3],u=+e[5],i=255&(e[2]?pc(i):dr(i,0,255)),o=255&(e[4]?pc(o):dr(o,0,255)),u=255&(e[6]?pc(u):dr(u,0,255)),{r:i,g:o,b:u,a:n}}}function a3(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${xi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const N0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Vl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function s3(t,e,n){const i=Vl(xi(t.r)),o=Vl(xi(t.g)),u=Vl(xi(t.b));return{r:mr(N0(i+n*(Vl(xi(e.r))-i))),g:mr(N0(o+n*(Vl(xi(e.g))-o))),b:mr(N0(u+n*(Vl(xi(e.b))-u))),a:t.a+n*(e.a-t.a)}}function xd(t,e,n){if(t){let i=Cm(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Tm(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function sb(t,e){return t&&Object.assign(e||{},t)}function bp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=mr(t[3]))):(e=sb(t,{r:0,g:0,b:0,a:1}),e.a=mr(e.a)),e}function i3(t){return t.charAt(0)==="r"?n3(t):ZS(t)}class Tc{constructor(e){if(e instanceof Tc)return e;const n=typeof e;let i;n==="object"?i=bp(e):n==="string"&&(i=US(e)||e3(e)||i3(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=sb(this._rgb);return e&&(e.a=xi(e.a)),e}set rgb(e){this._rgb=bp(e)}rgbString(){return this._valid?a3(this._rgb):void 0}hexString(){return this._valid?VS(this._rgb):void 0}hslString(){return this._valid?JS(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let u;const f=n===u?.5:n,p=2*f-1,w=i.a-o.a,y=((p*w===-1?p:(p+w)/(1+p*w))+1)/2;u=1-y,i.r=255&y*i.r+u*o.r+.5,i.g=255&y*i.g+u*o.g+.5,i.b=255&y*i.b+u*o.b+.5,i.a=f*i.a+(1-f)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=s3(this._rgb,e._rgb,n)),this}clone(){return new Tc(this.rgb)}alpha(e){return this._rgb.a=mr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Gc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xd(this._rgb,2,e),this}darken(e){return xd(this._rgb,2,-e),this}saturate(e){return xd(this._rgb,1,e),this}desaturate(e){return xd(this._rgb,1,-e),this}rotate(e){return QS(this._rgb,e),this}}function hi(){}const r3=(()=>{let t=0;return()=>t++})();function It(t){return t==null}function Dn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ta(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ks(t,e){return ta(t)?t:e}function rt(t,e){return typeof t>"u"?e:t}const l3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ib=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function sn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ft(t,e,n,i){let o,u,f;if(Dn(t))for(u=t.length,o=0;o<u;o++)e.call(n,t[o],o);else if(xt(t))for(f=Object.keys(t),u=f.length,o=0;o<u;o++)e.call(n,t[f[o]],f[o])}function Hd(t,e){let n,i,o,u;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],u=e[n],o.datasetIndex!==u.datasetIndex||o.index!==u.index)return!1;return!0}function Vd(t){if(Dn(t))return t.map(Vd);if(xt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=Vd(t[n[o]]);return e}return t}function rb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function o3(t,e,n,i){if(!rb(t))return;const o=e[t],u=n[t];xt(o)&&xt(u)?jc(o,u,i):e[t]=Vd(u)}function jc(t,e,n){const i=Dn(e)?e:[e],o=i.length;if(!xt(t))return t;n=n||{};const u=n.merger||o3;let f;for(let p=0;p<o;++p){if(f=i[p],!xt(f))continue;const w=Object.keys(f);for(let y=0,N=w.length;y<N;++y)u(w[y],t,f,n)}return t}function vc(t,e){return jc(t,e,{merger:c3})}function c3(t,e,n){if(!rb(t))return;const i=e[t],o=n[t];xt(i)&&xt(o)?vc(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Vd(o))}const wp={"":t=>t,x:t=>t.x,y:t=>t.y};function u3(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function d3(t){const e=u3(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function el(t,e){return(wp[e]||(wp[e]=d3(e)))(t)}function jm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Mc=t=>typeof t<"u",pr=t=>typeof t=="function",_p=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function h3(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ut=Math.PI,hn=2*Ut,f3=hn+Ut,Yd=Number.POSITIVE_INFINITY,m3=Ut/180,Fn=Ut/2,Gr=Ut/4,vp=Ut*2/3,lb=Math.log10,Fs=Math.sign;function Nc(t,e,n){return Math.abs(t-e)<n}function Np(t){const e=Math.round(t);t=Nc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(lb(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function g3(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,u)=>o-u).pop(),e}function x3(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Dc(t){return!x3(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function p3(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function y3(t,e,n){let i,o,u;for(i=0,o=t.length;i<o;i++)u=t[i][n],isNaN(u)||(e.min=Math.min(e.min,u),e.max=Math.max(e.max,u))}function pi(t){return t*(Ut/180)}function b3(t){return t*(180/Ut)}function Ap(t){if(!ta(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ob(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let u=Math.atan2(i,n);return u<-.5*Ut&&(u+=hn),{angle:u,distance:o}}function nm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function w3(t,e){return(t-e+f3)%hn-Ut}function za(t){return(t%hn+hn)%hn}function kc(t,e,n,i){const o=za(t),u=za(e),f=za(n),p=za(u-o),w=za(f-o),y=za(o-u),N=za(o-f);return o===u||o===f||i&&u===f||p>w&&y<N}function $n(t,e,n){return Math.max(e,Math.min(n,t))}function _3(t){return $n(t,-32768,32767)}function yi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Mm(t,e,n){n=n||(f=>t[f]<e);let i=t.length-1,o=0,u;for(;i-o>1;)u=o+i>>1,n(u)?o=u:i=u;return{lo:o,hi:i}}const Jr=(t,e,n,i)=>Mm(t,n,i?o=>{const u=t[o][e];return u<n||u===n&&t[o+1][e]===n}:o=>t[o][e]<n),v3=(t,e,n)=>Mm(t,n,i=>t[i][e]>=n);function N3(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const cb=["push","pop","shift","splice","unshift"];function A3(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cb.forEach(n=>{const i="_onData"+jm(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...u){const f=o.apply(this,u);return t._chartjs.listeners.forEach(p=>{typeof p[i]=="function"&&p[i](...u)}),f}})})}function Sp(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(cb.forEach(u=>{delete t[u]}),delete t._chartjs)}function ub(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const db=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function hb(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,db.call(window,()=>{i=!1,t.apply(e,n)}))}}function S3(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Dm=t=>t==="start"?"left":t==="end"?"right":"center",Jn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,C3=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function E3(t,e,n){const i=e.length;let o=0,u=i;if(t._sorted){const{iScale:f,vScale:p,_parsed:w}=t,y=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,N=f.axis,{min:A,max:T,minDefined:j,maxDefined:M}=f.getUserBounds();if(j){if(o=Math.min(Jr(w,N,A).lo,n?i:Jr(e,N,f.getPixelForValue(A)).lo),y){const k=w.slice(0,o+1).reverse().findIndex(B=>!It(B[p.axis]));o-=Math.max(0,k)}o=$n(o,0,i-1)}if(M){let k=Math.max(Jr(w,f.axis,T,!0).hi+1,n?0:Jr(e,N,f.getPixelForValue(T),!0).hi+1);if(y){const B=w.slice(k-1).findIndex(F=>!It(F[p.axis]));k+=Math.max(0,B)}u=$n(k,o,i)-o}else u=i-o}return{start:o,count:u}}function T3(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=o,!0;const u=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,o),u}const pd=t=>t===0||t===1,Cp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*hn/n)),Ep=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*hn/n)+1,Ac={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Fn)+1,easeOutSine:t=>Math.sin(t*Fn),easeInOutSine:t=>-.5*(Math.cos(Ut*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>pd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>pd(t)?t:Cp(t,.075,.3),easeOutElastic:t=>pd(t)?t:Ep(t,.075,.3),easeInOutElastic(t){return pd(t)?t:t<.5?.5*Cp(t*2,.1125,.45):.5+.5*Ep(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ac.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ac.easeInBounce(t*2)*.5:Ac.easeOutBounce(t*2-1)*.5+.5};function km(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Tp(t){return km(t)?t:new Tc(t)}function A0(t){return km(t)?t:new Tc(t).saturate(.5).darken(.1).hexString()}const j3=["x","y","borderWidth","radius","tension"],M3=["color","borderColor","backgroundColor"];function D3(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:M3},numbers:{type:"number",properties:j3}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function k3(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jp=new Map;function I3(t,e){e=e||{};const n=t+JSON.stringify(e);let i=jp.get(n);return i||(i=new Intl.NumberFormat(t,e),jp.set(n,i)),i}function Im(t,e,n){return I3(e,n).format(t)}const O3={values(t){return Dn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,u=t;if(n.length>1){const y=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(y<1e-4||y>1e15)&&(o="scientific"),u=R3(t,n)}const f=lb(Math.abs(u)),p=isNaN(f)?1:Math.max(Math.min(-1*Math.floor(f),20),0),w={notation:o,minimumFractionDigits:p,maximumFractionDigits:p};return Object.assign(w,this.options.ticks.format),Im(t,i,w)}};function R3(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var fb={formatters:O3};function L3(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const tl=Object.create(null),am=Object.create(null);function Sc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const u=n[i];t=t[u]||(t[u]=Object.create(null))}return t}function S0(t,e,n){return typeof e=="string"?jc(Sc(t,e),n):jc(Sc(t,""),e)}class B3{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>A0(o.backgroundColor),this.hoverBorderColor=(i,o)=>A0(o.borderColor),this.hoverColor=(i,o)=>A0(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return S0(this,e,n)}get(e){return Sc(this,e)}describe(e,n){return S0(am,e,n)}override(e,n){return S0(tl,e,n)}route(e,n,i,o){const u=Sc(this,e),f=Sc(this,i),p="_"+n;Object.defineProperties(u,{[p]:{value:u[n],writable:!0},[n]:{enumerable:!0,get(){const w=this[p],y=f[o];return xt(w)?Object.assign({},y,w):rt(w,y)},set(w){this[p]=w}}})}apply(e){e.forEach(n=>n(this))}}var An=new B3({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[D3,k3,L3]);function P3(t){return!t||It(t.size)||It(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Mp(t,e,n,i,o){let u=e[o];return u||(u=e[o]=t.measureText(o).width,n.push(o)),u>i&&(i=u),i}function Wr(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function Dp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sm(t,e,n,i){mb(t,e,n,i,null)}function mb(t,e,n,i,o){let u,f,p,w,y,N,A,T;const j=e.pointStyle,M=e.rotation,k=e.radius;let B=(M||0)*m3;if(j&&typeof j=="object"&&(u=j.toString(),u==="[object HTMLImageElement]"||u==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(B),t.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),t.restore();return}if(!(isNaN(k)||k<=0)){switch(t.beginPath(),j){default:o?t.ellipse(n,i,o/2,k,0,0,hn):t.arc(n,i,k,0,hn),t.closePath();break;case"triangle":N=o?o/2:k,t.moveTo(n+Math.sin(B)*N,i-Math.cos(B)*k),B+=vp,t.lineTo(n+Math.sin(B)*N,i-Math.cos(B)*k),B+=vp,t.lineTo(n+Math.sin(B)*N,i-Math.cos(B)*k),t.closePath();break;case"rectRounded":y=k*.516,w=k-y,f=Math.cos(B+Gr)*w,A=Math.cos(B+Gr)*(o?o/2-y:w),p=Math.sin(B+Gr)*w,T=Math.sin(B+Gr)*(o?o/2-y:w),t.arc(n-A,i-p,y,B-Ut,B-Fn),t.arc(n+T,i-f,y,B-Fn,B),t.arc(n+A,i+p,y,B,B+Fn),t.arc(n-T,i+f,y,B+Fn,B+Ut),t.closePath();break;case"rect":if(!M){w=Math.SQRT1_2*k,N=o?o/2:w,t.rect(n-N,i-w,2*N,2*w);break}B+=Gr;case"rectRot":A=Math.cos(B)*(o?o/2:k),f=Math.cos(B)*k,p=Math.sin(B)*k,T=Math.sin(B)*(o?o/2:k),t.moveTo(n-A,i-p),t.lineTo(n+T,i-f),t.lineTo(n+A,i+p),t.lineTo(n-T,i+f),t.closePath();break;case"crossRot":B+=Gr;case"cross":A=Math.cos(B)*(o?o/2:k),f=Math.cos(B)*k,p=Math.sin(B)*k,T=Math.sin(B)*(o?o/2:k),t.moveTo(n-A,i-p),t.lineTo(n+A,i+p),t.moveTo(n+T,i-f),t.lineTo(n-T,i+f);break;case"star":A=Math.cos(B)*(o?o/2:k),f=Math.cos(B)*k,p=Math.sin(B)*k,T=Math.sin(B)*(o?o/2:k),t.moveTo(n-A,i-p),t.lineTo(n+A,i+p),t.moveTo(n+T,i-f),t.lineTo(n-T,i+f),B+=Gr,A=Math.cos(B)*(o?o/2:k),f=Math.cos(B)*k,p=Math.sin(B)*k,T=Math.sin(B)*(o?o/2:k),t.moveTo(n-A,i-p),t.lineTo(n+A,i+p),t.moveTo(n+T,i-f),t.lineTo(n-T,i+f);break;case"line":f=o?o/2:Math.cos(B)*k,p=Math.sin(B)*k,t.moveTo(n-f,i-p),t.lineTo(n+f,i+p);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(B)*(o?o/2:k),i+Math.sin(B)*k);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ic(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function lh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function oh(t){t.restore()}function z3(t,e,n,i,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const u=(e.x+n.x)/2;t.lineTo(u,e.y),t.lineTo(u,n.y)}else o==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function F3(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function U3(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),It(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function H3(t,e,n,i,o){if(o.strikethrough||o.underline){const u=t.measureText(i),f=e-u.actualBoundingBoxLeft,p=e+u.actualBoundingBoxRight,w=n-u.actualBoundingBoxAscent,y=n+u.actualBoundingBoxDescent,N=o.strikethrough?(w+y)/2:y;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(f,N),t.lineTo(p,N),t.stroke()}}function V3(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Oc(t,e,n,i,o,u={}){const f=Dn(e)?e:[e],p=u.strokeWidth>0&&u.strokeColor!=="";let w,y;for(t.save(),t.font=o.string,U3(t,u),w=0;w<f.length;++w)y=f[w],u.backdrop&&V3(t,u.backdrop),p&&(u.strokeColor&&(t.strokeStyle=u.strokeColor),It(u.strokeWidth)||(t.lineWidth=u.strokeWidth),t.strokeText(y,n,i,u.maxWidth)),t.fillText(y,n,i,u.maxWidth),H3(t,n,i,y,u),i+=Number(o.lineHeight);t.restore()}function Gd(t,e){const{x:n,y:i,w:o,h:u,radius:f}=e;t.arc(n+f.topLeft,i+f.topLeft,f.topLeft,1.5*Ut,Ut,!0),t.lineTo(n,i+u-f.bottomLeft),t.arc(n+f.bottomLeft,i+u-f.bottomLeft,f.bottomLeft,Ut,Fn,!0),t.lineTo(n+o-f.bottomRight,i+u),t.arc(n+o-f.bottomRight,i+u-f.bottomRight,f.bottomRight,Fn,0,!0),t.lineTo(n+o,i+f.topRight),t.arc(n+o-f.topRight,i+f.topRight,f.topRight,0,-Fn,!0),t.lineTo(n+f.topLeft,i)}const Y3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,G3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function W3(t,e){const n=(""+t).match(Y3);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const X3=t=>+t||0;function Om(t,e){const n={},i=xt(e),o=i?Object.keys(e):e,u=xt(t)?i?f=>rt(t[f],t[e[f]]):f=>t[f]:()=>t;for(const f of o)n[f]=X3(u(f));return n}function gb(t){return Om(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Jl(t){return Om(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ss(t){const e=gb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ea(t,e){t=t||{},e=e||An.font;let n=rt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=rt(t.style,e.style);i&&!(""+i).match(G3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:rt(t.family,e.family),lineHeight:W3(rt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:rt(t.weight,e.weight),string:""};return o.string=P3(o),o}function yd(t,e,n,i){let o,u,f;for(o=0,u=t.length;o<u;++o)if(f=t[o],f!==void 0&&f!==void 0)return f}function q3(t,e,n){const{min:i,max:o}=t,u=ib(e,(o-i)/2),f=(p,w)=>n&&p===0?0:p+w;return{min:f(i,-Math.abs(u)),max:f(o,u)}}function nl(t,e){return Object.assign(Object.create(t),e)}function Rm(t,e=[""],n,i,o=()=>t[0]){const u=n||t;typeof i>"u"&&(i=bb("_fallback",t));const f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:u,_fallback:i,_getTarget:o,override:p=>Rm([p,...t],e,u,i)};return new Proxy(f,{deleteProperty(p,w){return delete p[w],delete p._keys,delete t[0][w],!0},get(p,w){return pb(p,w,()=>n4(w,e,t,p))},getOwnPropertyDescriptor(p,w){return Reflect.getOwnPropertyDescriptor(p._scopes[0],w)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(p,w){return Ip(p).includes(w)},ownKeys(p){return Ip(p)},set(p,w,y){const N=p._storage||(p._storage=o());return p[w]=N[w]=y,delete p._keys,!0}})}function ao(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:xb(t,i),setContext:u=>ao(t,u,n,i),override:u=>ao(t.override(u),e,n,i)};return new Proxy(o,{deleteProperty(u,f){return delete u[f],delete t[f],!0},get(u,f,p){return pb(u,f,()=>Z3(u,f,p))},getOwnPropertyDescriptor(u,f){return u._descriptors.allKeys?Reflect.has(t,f)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,f)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(u,f){return Reflect.has(t,f)},ownKeys(){return Reflect.ownKeys(t)},set(u,f,p){return t[f]=p,delete u[f],!0}})}function xb(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:pr(n)?n:()=>n,isIndexable:pr(i)?i:()=>i}}const K3=(t,e)=>t?t+jm(e):e,Lm=(t,e)=>xt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function pb(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function Z3(t,e,n){const{_proxy:i,_context:o,_subProxy:u,_descriptors:f}=t;let p=i[e];return pr(p)&&f.isScriptable(e)&&(p=Q3(e,p,t,n)),Dn(p)&&p.length&&(p=J3(e,p,t,f.isIndexable)),Lm(e,p)&&(p=ao(p,o,u&&u[e],f)),p}function Q3(t,e,n,i){const{_proxy:o,_context:u,_subProxy:f,_stack:p}=n;if(p.has(t))throw new Error("Recursion detected: "+Array.from(p).join("->")+"->"+t);p.add(t);let w=e(u,f||i);return p.delete(t),Lm(t,w)&&(w=Bm(o._scopes,o,t,w)),w}function J3(t,e,n,i){const{_proxy:o,_context:u,_subProxy:f,_descriptors:p}=n;if(typeof u.index<"u"&&i(t))return e[u.index%e.length];if(xt(e[0])){const w=e,y=o._scopes.filter(N=>N!==w);e=[];for(const N of w){const A=Bm(y,o,t,N);e.push(ao(A,u,f&&f[t],p))}}return e}function yb(t,e,n){return pr(t)?t(e,n):t}const $3=(t,e)=>t===!0?e:typeof t=="string"?el(e,t):void 0;function e4(t,e,n,i,o){for(const u of e){const f=$3(n,u);if(f){t.add(f);const p=yb(f._fallback,n,o);if(typeof p<"u"&&p!==n&&p!==i)return p}else if(f===!1&&typeof i<"u"&&n!==i)return null}return!1}function Bm(t,e,n,i){const o=e._rootScopes,u=yb(e._fallback,n,i),f=[...t,...o],p=new Set;p.add(i);let w=kp(p,f,n,u||n,i);return w===null||typeof u<"u"&&u!==n&&(w=kp(p,f,u,w,i),w===null)?!1:Rm(Array.from(p),[""],o,u,()=>t4(e,n,i))}function kp(t,e,n,i,o){for(;n;)n=e4(t,e,n,i,o);return n}function t4(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return Dn(o)&&xt(n)?n:o||{}}function n4(t,e,n,i){let o;for(const u of e)if(o=bb(K3(u,t),n),typeof o<"u")return Lm(t,o)?Bm(n,i,t,o):o}function bb(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Ip(t){let e=t._keys;return e||(e=t._keys=a4(t._scopes)),e}function a4(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}const s4=Number.EPSILON||1e-14,so=(t,e)=>e<t.length&&!t[e].skip&&t[e],wb=t=>t==="x"?"y":"x";function i4(t,e,n,i){const o=t.skip?e:t,u=e,f=n.skip?e:n,p=nm(u,o),w=nm(f,u);let y=p/(p+w),N=w/(p+w);y=isNaN(y)?0:y,N=isNaN(N)?0:N;const A=i*y,T=i*N;return{previous:{x:u.x-A*(f.x-o.x),y:u.y-A*(f.y-o.y)},next:{x:u.x+T*(f.x-o.x),y:u.y+T*(f.y-o.y)}}}function r4(t,e,n){const i=t.length;let o,u,f,p,w,y=so(t,0);for(let N=0;N<i-1;++N)if(w=y,y=so(t,N+1),!(!w||!y)){if(Nc(e[N],0,s4)){n[N]=n[N+1]=0;continue}o=n[N]/e[N],u=n[N+1]/e[N],p=Math.pow(o,2)+Math.pow(u,2),!(p<=9)&&(f=3/Math.sqrt(p),n[N]=o*f*e[N],n[N+1]=u*f*e[N])}}function l4(t,e,n="x"){const i=wb(n),o=t.length;let u,f,p,w=so(t,0);for(let y=0;y<o;++y){if(f=p,p=w,w=so(t,y+1),!p)continue;const N=p[n],A=p[i];f&&(u=(N-f[n])/3,p[`cp1${n}`]=N-u,p[`cp1${i}`]=A-u*e[y]),w&&(u=(w[n]-N)/3,p[`cp2${n}`]=N+u,p[`cp2${i}`]=A+u*e[y])}}function o4(t,e="x"){const n=wb(e),i=t.length,o=Array(i).fill(0),u=Array(i);let f,p,w,y=so(t,0);for(f=0;f<i;++f)if(p=w,w=y,y=so(t,f+1),!!w){if(y){const N=y[e]-w[e];o[f]=N!==0?(y[n]-w[n])/N:0}u[f]=p?y?Fs(o[f-1])!==Fs(o[f])?0:(o[f-1]+o[f])/2:o[f-1]:o[f]}r4(t,o,u),l4(t,u,e)}function bd(t,e,n){return Math.max(Math.min(t,n),e)}function c4(t,e){let n,i,o,u,f,p=Ic(t[0],e);for(n=0,i=t.length;n<i;++n)f=u,u=p,p=n<i-1&&Ic(t[n+1],e),u&&(o=t[n],f&&(o.cp1x=bd(o.cp1x,e.left,e.right),o.cp1y=bd(o.cp1y,e.top,e.bottom)),p&&(o.cp2x=bd(o.cp2x,e.left,e.right),o.cp2y=bd(o.cp2y,e.top,e.bottom)))}function u4(t,e,n,i,o){let u,f,p,w;if(e.spanGaps&&(t=t.filter(y=>!y.skip)),e.cubicInterpolationMode==="monotone")o4(t,o);else{let y=i?t[t.length-1]:t[0];for(u=0,f=t.length;u<f;++u)p=t[u],w=i4(y,p,t[Math.min(u+1,f-(i?0:1))%f],e.tension),p.cp1x=w.previous.x,p.cp1y=w.previous.y,p.cp2x=w.next.x,p.cp2y=w.next.y,y=p}e.capBezierPoints&&c4(t,n)}function Pm(){return typeof window<"u"&&typeof document<"u"}function zm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const ch=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function d4(t,e){return ch(t).getPropertyValue(e)}const h4=["top","right","bottom","left"];function $r(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const u=h4[o];i[u]=parseFloat(t[e+"-"+u+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const f4=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function m4(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:u}=i;let f=!1,p,w;if(f4(o,u,t.target))p=o,w=u;else{const y=e.getBoundingClientRect();p=i.clientX-y.left,w=i.clientY-y.top,f=!0}return{x:p,y:w,box:f}}function Kr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=ch(n),u=o.boxSizing==="border-box",f=$r(o,"padding"),p=$r(o,"border","width"),{x:w,y,box:N}=m4(t,n),A=f.left+(N&&p.left),T=f.top+(N&&p.top);let{width:j,height:M}=e;return u&&(j-=f.width+p.width,M-=f.height+p.height),{x:Math.round((w-A)/j*n.width/i),y:Math.round((y-T)/M*n.height/i)}}function g4(t,e,n){let i,o;if(e===void 0||n===void 0){const u=t&&zm(t);if(!u)e=t.clientWidth,n=t.clientHeight;else{const f=u.getBoundingClientRect(),p=ch(u),w=$r(p,"border","width"),y=$r(p,"padding");e=f.width-y.width-w.width,n=f.height-y.height-w.height,i=Wd(p.maxWidth,u,"clientWidth"),o=Wd(p.maxHeight,u,"clientHeight")}}return{width:e,height:n,maxWidth:i||Yd,maxHeight:o||Yd}}const hr=t=>Math.round(t*10)/10;function x4(t,e,n,i){const o=ch(t),u=$r(o,"margin"),f=Wd(o.maxWidth,t,"clientWidth")||Yd,p=Wd(o.maxHeight,t,"clientHeight")||Yd,w=g4(t,e,n);let{width:y,height:N}=w;if(o.boxSizing==="content-box"){const T=$r(o,"border","width"),j=$r(o,"padding");y-=j.width+T.width,N-=j.height+T.height}return y=Math.max(0,y-u.width),N=Math.max(0,i?y/i:N-u.height),y=hr(Math.min(y,f,w.maxWidth)),N=hr(Math.min(N,p,w.maxHeight)),y&&!N&&(N=hr(y/2)),(e!==void 0||n!==void 0)&&i&&w.height&&N>w.height&&(N=w.height,y=hr(Math.floor(N*i))),{width:y,height:N}}function Op(t,e,n){const i=e||1,o=hr(t.height*i),u=hr(t.width*i);t.height=hr(t.height),t.width=hr(t.width);const f=t.canvas;return f.style&&(n||!f.style.height&&!f.style.width)&&(f.style.height=`${t.height}px`,f.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||f.height!==o||f.width!==u?(t.currentDevicePixelRatio=i,f.height=o,f.width=u,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const p4=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Pm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Rp(t,e){const n=d4(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Zr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function y4(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function b4(t,e,n,i){const o={x:t.cp2x,y:t.cp2y},u={x:e.cp1x,y:e.cp1y},f=Zr(t,o,n),p=Zr(o,u,n),w=Zr(u,e,n),y=Zr(f,p,n),N=Zr(p,w,n);return Zr(y,N,n)}const w4=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},_4=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $l(t,e,n){return t?w4(e,n):_4()}function _b(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function vb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Nb(t){return t==="angle"?{between:kc,compare:w3,normalize:za}:{between:yi,compare:(e,n)=>e-n,normalize:e=>e}}function Lp({start:t,end:e,count:n,loop:i,style:o}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:o}}function v4(t,e,n){const{property:i,start:o,end:u}=n,{between:f,normalize:p}=Nb(i),w=e.length;let{start:y,end:N,loop:A}=t,T,j;if(A){for(y+=w,N+=w,T=0,j=w;T<j&&f(p(e[y%w][i]),o,u);++T)y--,N--;y%=w,N%=w}return N<y&&(N+=w),{start:y,end:N,loop:A,style:t.style}}function Ab(t,e,n){if(!n)return[t];const{property:i,start:o,end:u}=n,f=e.length,{compare:p,between:w,normalize:y}=Nb(i),{start:N,end:A,loop:T,style:j}=v4(t,e,n),M=[];let k=!1,B=null,F,H,G;const K=()=>w(o,G,F)&&p(o,G)!==0,$=()=>p(u,F)===0||w(u,G,F),te=()=>k||K(),Y=()=>!k||$();for(let ne=N,q=N;ne<=A;++ne)H=e[ne%f],!H.skip&&(F=y(H[i]),F!==G&&(k=w(F,o,u),B===null&&te()&&(B=p(F,o)===0?ne:q),B!==null&&Y()&&(M.push(Lp({start:B,end:ne,loop:T,count:f,style:j})),B=null),q=ne,G=F));return B!==null&&M.push(Lp({start:B,end:A,loop:T,count:f,style:j})),M}function Sb(t,e){const n=[],i=t.segments;for(let o=0;o<i.length;o++){const u=Ab(i[o],t.points,e);u.length&&n.push(...u)}return n}function N4(t,e,n,i){let o=0,u=e-1;if(n&&!i)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(u+=o);u>o&&t[u%e].skip;)u--;return u%=e,{start:o,end:u}}function A4(t,e,n,i){const o=t.length,u=[];let f=e,p=t[e],w;for(w=e+1;w<=n;++w){const y=t[w%o];y.skip||y.stop?p.skip||(i=!1,u.push({start:e%o,end:(w-1)%o,loop:i}),e=f=y.stop?w:null):(f=w,p.skip&&(e=w)),p=y}return f!==null&&u.push({start:e%o,end:f%o,loop:i}),u}function S4(t,e){const n=t.points,i=t.options.spanGaps,o=n.length;if(!o)return[];const u=!!t._loop,{start:f,end:p}=N4(n,o,u,i);if(i===!0)return Bp(t,[{start:f,end:p,loop:u}],n,e);const w=p<f?p+o:p,y=!!t._fullLoop&&f===0&&p===o-1;return Bp(t,A4(n,f,w,y),n,e)}function Bp(t,e,n,i){return!i||!i.setContext||!n?e:C4(t,e,n,i)}function C4(t,e,n,i){const o=t._chart.getContext(),u=Pp(t.options),{_datasetIndex:f,options:{spanGaps:p}}=t,w=n.length,y=[];let N=u,A=e[0].start,T=A;function j(M,k,B,F){const H=p?-1:1;if(M!==k){for(M+=w;n[M%w].skip;)M-=H;for(;n[k%w].skip;)k+=H;M%w!==k%w&&(y.push({start:M%w,end:k%w,loop:B,style:F}),N=F,A=k%w)}}for(const M of e){A=p?A:M.start;let k=n[A%w],B;for(T=A+1;T<=M.end;T++){const F=n[T%w];B=Pp(i.setContext(nl(o,{type:"segment",p0:k,p1:F,p0DataIndex:(T-1)%w,p1DataIndex:T%w,datasetIndex:f}))),E4(B,N)&&j(A,T-1,M.loop,N),k=F,N=B}A<T-1&&j(A,T-1,M.loop,N)}return y}function Pp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function E4(t,e){if(!e)return!1;const n=[],i=function(o,u){return km(u)?(n.includes(u)||n.push(u),n.indexOf(u)):u};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function wd(t,e,n){return t.options.clip?t[n]:e[n]}function T4(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:wd(n,e,"left"),right:wd(n,e,"right"),top:wd(i,e,"top"),bottom:wd(i,e,"bottom")}:e}function Cb(t,e){const n=e._clip;if(n.disabled)return!1;const i=T4(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}class j4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const u=n.listeners[o],f=n.duration;u.forEach(p=>p({chart:e,initial:n.initial,numSteps:f,currentStep:Math.min(i-n.start,f)}))}_refresh(){this._request||(this._running=!0,this._request=db.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const u=i.items;let f=u.length-1,p=!1,w;for(;f>=0;--f)w=u[f],w._active?(w._total>i.duration&&(i.duration=w._total),w.tick(e),p=!0):(u[f]=u[u.length-1],u.pop());p&&(o.draw(),this._notify(o,i,e,"progress")),u.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=u.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var mi=new j4;const zp="transparent",M4={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Tp(t||zp),o=i.valid&&Tp(e||zp);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class D4{constructor(e,n,i,o){const u=n[i];o=yd([e.to,o,u,e.from]);const f=yd([e.from,u,o]);this._active=!0,this._fn=e.fn||M4[e.type||typeof f],this._easing=Ac[e.easing]||Ac.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=f,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],u=i-this._start,f=this._duration-u;this._start=i,this._duration=Math.floor(Math.max(f,e.duration)),this._total+=u,this._loop=!!e.loop,this._to=yd([e.to,n,o,e.from]),this._from=yd([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,u=this._from,f=this._loop,p=this._to;let w;if(this._active=u!==p&&(f||n<i),!this._active){this._target[o]=p,this._notify(!0);return}if(n<0){this._target[o]=u;return}w=n/i%2,w=f&&w>1?2-w:w,w=this._easing(Math.min(1,Math.max(0,w))),this._target[o]=this._fn(u,p,w)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class Eb{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!xt(e))return;const n=Object.keys(An.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const u=e[o];if(!xt(u))return;const f={};for(const p of n)f[p]=u[p];(Dn(u.properties)&&u.properties||[o]).forEach(p=>{(p===o||!i.has(p))&&i.set(p,f)})})}_animateOptions(e,n){const i=n.options,o=I4(e,i);if(!o)return[];const u=this._createAnimations(o,i);return i.$shared&&k4(e.options.$animations,i).then(()=>{e.options=i},()=>{}),u}_createAnimations(e,n){const i=this._properties,o=[],u=e.$animations||(e.$animations={}),f=Object.keys(n),p=Date.now();let w;for(w=f.length-1;w>=0;--w){const y=f[w];if(y.charAt(0)==="$")continue;if(y==="options"){o.push(...this._animateOptions(e,n));continue}const N=n[y];let A=u[y];const T=i.get(y);if(A)if(T&&A.active()){A.update(T,N,p);continue}else A.cancel();if(!T||!T.duration){e[y]=N;continue}u[y]=A=new D4(T,e,y,N),o.push(A)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return mi.add(this._chart,i),!0}}function k4(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const u=t[i[o]];u&&u.active()&&n.push(u.wait())}return Promise.all(n)}function I4(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fp(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,u=n.max===void 0?e:0;return{start:i?u:o,end:i?o:u}}function O4(t,e,n){if(n===!1)return!1;const i=Fp(t,n),o=Fp(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function R4(t){let e,n,i,o;return xt(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function Tb(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,u;for(o=0,u=i.length;o<u;++o)n.push(i[o].index);return n}function Up(t,e,n,i={}){const o=t.keys,u=i.mode==="single";let f,p,w,y;if(e===null)return;let N=!1;for(f=0,p=o.length;f<p;++f){if(w=+o[f],w===n){if(N=!0,i.all)continue;break}y=t.values[w],ta(y)&&(u||e===0||Fs(e)===Fs(y))&&(e+=y)}return!N&&!i.all?0:e}function L4(t,e){const{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",u=i.axis==="x"?"x":"y",f=Object.keys(t),p=new Array(f.length);let w,y,N;for(w=0,y=f.length;w<y;++w)N=f[w],p[w]={[o]:N,[u]:t[N]};return p}function C0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function B4(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function P4(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function z4(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Hp(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const u=t[o.index];if(n&&u>0||!n&&u<0)return o.index}return null}function Vp(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:u,vScale:f,index:p}=i,w=u.axis,y=f.axis,N=B4(u,f,i),A=e.length;let T;for(let j=0;j<A;++j){const M=e[j],{[w]:k,[y]:B}=M,F=M._stacks||(M._stacks={});T=F[y]=z4(o,N,k),T[p]=B,T._top=Hp(T,f,!0,i.type),T._bottom=Hp(T,f,!1,i.type);const H=T._visualValues||(T._visualValues={});H[p]=B}}function E0(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function F4(t,e){return nl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function U4(t,e,n){return nl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function lc(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const u=o._stacks;if(!u||u[i]===void 0||u[i][n]===void 0)return;delete u[i][n],u[i]._visualValues!==void 0&&u[i]._visualValues[n]!==void 0&&delete u[i]._visualValues[n]}}}const T0=t=>t==="reset"||t==="none",Yp=(t,e)=>e?t:Object.assign({},t),H4=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Tb(n,!0),values:null};class uh{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=C0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&lc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(A,T,j,M)=>A==="x"?T:A==="r"?M:j,u=n.xAxisID=rt(i.xAxisID,E0(e,"x")),f=n.yAxisID=rt(i.yAxisID,E0(e,"y")),p=n.rAxisID=rt(i.rAxisID,E0(e,"r")),w=n.indexAxis,y=n.iAxisID=o(w,u,f,p),N=n.vAxisID=o(w,f,u,p);n.xScale=this.getScaleForId(u),n.yScale=this.getScaleForId(f),n.rScale=this.getScaleForId(p),n.iScale=this.getScaleForId(y),n.vScale=this.getScaleForId(N)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Sp(this._data,this),e._stacked&&lc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(xt(n)){const o=this._cachedMeta;this._data=L4(n,o)}else if(i!==n){if(i){Sp(i,this);const o=this._cachedMeta;lc(o),o._parsed=[]}n&&Object.isExtensible(n)&&A3(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const u=n._stacked;n._stacked=C0(n.vScale,n),n.stack!==i.stack&&(o=!0,lc(n),n.stack=i.stack),this._resyncElements(e),(o||u!==n._stacked)&&(Vp(this,n._parsed),n._stacked=C0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:u,_stacked:f}=i,p=u.axis;let w=e===0&&n===o.length?!0:i._sorted,y=e>0&&i._parsed[e-1],N,A,T;if(this._parsing===!1)i._parsed=o,i._sorted=!0,T=o;else{Dn(o[e])?T=this.parseArrayData(i,o,e,n):xt(o[e])?T=this.parseObjectData(i,o,e,n):T=this.parsePrimitiveData(i,o,e,n);const j=()=>A[p]===null||y&&A[p]<y[p];for(N=0;N<n;++N)i._parsed[N+e]=A=T[N],w&&(j()&&(w=!1),y=A);i._sorted=w}f&&Vp(this,T)}parsePrimitiveData(e,n,i,o){const{iScale:u,vScale:f}=e,p=u.axis,w=f.axis,y=u.getLabels(),N=u===f,A=new Array(o);let T,j,M;for(T=0,j=o;T<j;++T)M=T+i,A[T]={[p]:N||u.parse(y[M],M),[w]:f.parse(n[M],M)};return A}parseArrayData(e,n,i,o){const{xScale:u,yScale:f}=e,p=new Array(o);let w,y,N,A;for(w=0,y=o;w<y;++w)N=w+i,A=n[N],p[w]={x:u.parse(A[0],N),y:f.parse(A[1],N)};return p}parseObjectData(e,n,i,o){const{xScale:u,yScale:f}=e,{xAxisKey:p="x",yAxisKey:w="y"}=this._parsing,y=new Array(o);let N,A,T,j;for(N=0,A=o;N<A;++N)T=N+i,j=n[T],y[N]={x:u.parse(el(j,p),T),y:f.parse(el(j,w),T)};return y}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,u=this._cachedMeta,f=n[e.axis],p={keys:Tb(o,!0),values:n._stacks[e.axis]._visualValues};return Up(p,f,u.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const u=i[n.axis];let f=u===null?NaN:u;const p=o&&i._stacks[n.axis];o&&p&&(o.values=p,f=Up(o,u,this._cachedMeta.index)),e.min=Math.min(e.min,f),e.max=Math.max(e.max,f)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,u=i._sorted&&e===i.iScale,f=o.length,p=this._getOtherScale(e),w=H4(n,i,this.chart),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:N,max:A}=P4(p);let T,j;function M(){j=o[T];const k=j[p.axis];return!ta(j[e.axis])||N>k||A<k}for(T=0;T<f&&!(!M()&&(this.updateRangeFromParsed(y,e,j,w),u));++T);if(u){for(T=f-1;T>=0;--T)if(!M()){this.updateRangeFromParsed(y,e,j,w);break}}return y}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,u,f;for(o=0,u=n.length;o<u;++o)f=n[o][e.axis],ta(f)&&i.push(f);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,u=this.getParsed(e);return{label:i?""+i.getLabelForValue(u[i.axis]):"",value:o?""+o.getLabelForValue(u[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=R4(rt(this.options.clip,O4(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],u=n.chartArea,f=[],p=this._drawStart||0,w=this._drawCount||o.length-p,y=this.options.drawActiveElementsOnTop;let N;for(i.dataset&&i.dataset.draw(e,u,p,w),N=p;N<p+w;++N){const A=o[N];A.hidden||(A.active&&y?f.push(A):A.draw(e,u))}for(N=0;N<f.length;++N)f[N].draw(e,u)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const f=this._cachedMeta.data[e];u=f.$context||(f.$context=U4(this.getContext(),e,f)),u.parsed=this.getParsed(e),u.raw=o.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=F4(this.chart.getContext(),this.index)),u.dataset=o,u.index=u.datasetIndex=this.index;return u.active=!!n,u.mode=i,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",u=this._cachedDataOpts,f=e+"-"+n,p=u[f],w=this.enableOptionSharing&&Mc(i);if(p)return Yp(p,w);const y=this.chart.config,N=y.datasetElementScopeKeys(this._type,e),A=o?[`${e}Hover`,"hover",e,""]:[e,""],T=y.getOptionScopes(this.getDataset(),N),j=Object.keys(An.elements[e]),M=()=>this.getContext(i,o,n),k=y.resolveNamedOptions(T,j,M,A);return k.$shared&&(k.$shared=w,u[f]=Object.freeze(Yp(k,w))),k}_resolveAnimations(e,n,i){const o=this.chart,u=this._cachedDataOpts,f=`animation-${n}`,p=u[f];if(p)return p;let w;if(o.options.animation!==!1){const N=this.chart.config,A=N.datasetAnimationScopeKeys(this._type,n),T=N.getOptionScopes(this.getDataset(),A);w=N.createResolver(T,this.getContext(e,i,n))}const y=new Eb(o,w&&w.animations);return w&&w._cacheable&&(u[f]=Object.freeze(y)),y}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||T0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,u=this.getSharedOptions(i),f=this.includeOptions(n,u)||u!==o;return this.updateSharedOptions(u,n,i),{sharedOptions:u,includeOptions:f}}updateElement(e,n,i,o){T0(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!T0(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const u=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(u)||u})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[p,w,y]of this._syncList)this[p](w,y);this._syncList=[];const o=i.length,u=n.length,f=Math.min(u,o);f&&this.parse(0,f),u>o?this._insertElements(o,u-o,e):u<o&&this._removeElements(u,o-u)}_insertElements(e,n,i=!0){const o=this._cachedMeta,u=o.data,f=e+n;let p;const w=y=>{for(y.length+=n,p=y.length-1;p>=f;p--)y[p]=y[p-n]};for(w(u),p=e;p<f;++p)u[p]=new this.dataElementType;this._parsing&&w(o._parsed),this.parse(e,n),i&&this.updateElements(u,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&lc(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function V4(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let o=0,u=n.length;o<u;o++)i=i.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=ub(i.sort((o,u)=>o-u))}return t._cache.$bar}function Y4(t){const e=t.iScale,n=V4(e,t.type);let i=e._length,o,u,f,p;const w=()=>{f===32767||f===-32768||(Mc(p)&&(i=Math.min(i,Math.abs(f-p)||i)),p=f)};for(o=0,u=n.length;o<u;++o)f=e.getPixelForValue(n[o]),w();for(p=void 0,o=0,u=e.ticks.length;o<u;++o)f=e.getPixelForTick(o),w();return i}function G4(t,e,n,i){const o=n.barThickness;let u,f;return It(o)?(u=e.min*n.categoryPercentage,f=n.barPercentage):(u=o*i,f=1),{chunk:u/i,ratio:f,start:e.pixels[t]-u/2}}function W4(t,e,n,i){const o=e.pixels,u=o[t];let f=t>0?o[t-1]:null,p=t<o.length-1?o[t+1]:null;const w=n.categoryPercentage;f===null&&(f=u-(p===null?e.end-e.start:p-u)),p===null&&(p=u+u-f);const y=u-(u-Math.min(f,p))/2*w;return{chunk:Math.abs(p-f)/2*w/i,ratio:n.barPercentage,start:y}}function X4(t,e,n,i){const o=n.parse(t[0],i),u=n.parse(t[1],i),f=Math.min(o,u),p=Math.max(o,u);let w=f,y=p;Math.abs(f)>Math.abs(p)&&(w=p,y=f),e[n.axis]=y,e._custom={barStart:w,barEnd:y,start:o,end:u,min:f,max:p}}function jb(t,e,n,i){return Dn(t)?X4(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Gp(t,e,n,i){const o=t.iScale,u=t.vScale,f=o.getLabels(),p=o===u,w=[];let y,N,A,T;for(y=n,N=n+i;y<N;++y)T=e[y],A={},A[o.axis]=p||o.parse(f[y],y),w.push(jb(T,A,u,y));return w}function j0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function q4(t,e,n){return t!==0?Fs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function K4(t){let e,n,i,o,u;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",u="start"):(o="start",u="end"),{start:n,end:i,reverse:e,top:o,bottom:u}}function Z4(t,e,n,i){let o=e.borderSkipped;const u={};if(!o){t.borderSkipped=u;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:f,end:p,reverse:w,top:y,bottom:N}=K4(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=y:(n._bottom||0)===i?o=N:(u[Wp(N,f,p,w)]=!0,o=y)),u[Wp(o,f,p,w)]=!0,t.borderSkipped=u}function Wp(t,e,n,i){return i?(t=Q4(t,e,n),t=Xp(t,n,e)):t=Xp(t,e,n),t}function Q4(t,e,n){return t===e?n:t===n?e:t}function Xp(t,e,n){return t==="start"?e:t==="end"?n:t}function J4(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class $4 extends uh{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,o){return Gp(e,n,i,o)}parseArrayData(e,n,i,o){return Gp(e,n,i,o)}parseObjectData(e,n,i,o){const{iScale:u,vScale:f}=e,{xAxisKey:p="x",yAxisKey:w="y"}=this._parsing,y=u.axis==="x"?p:w,N=f.axis==="x"?p:w,A=[];let T,j,M,k;for(T=i,j=i+o;T<j;++T)k=n[T],M={},M[u.axis]=u.parse(el(k,y),T),A.push(jb(el(k,N),M,f,T));return A}updateRangeFromParsed(e,n,i,o){super.updateRangeFromParsed(e,n,i,o);const u=i._custom;u&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,u.min),e.max=Math.max(e.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:o}=n,u=this.getParsed(e),f=u._custom,p=j0(f)?"["+f.start+", "+f.end+"]":""+o.getLabelForValue(u[o.axis]);return{label:""+i.getLabelForValue(u[i.axis]),value:p}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,o){const u=o==="reset",{index:f,_cachedMeta:{vScale:p}}=this,w=p.getBasePixel(),y=p.isHorizontal(),N=this._getRuler(),{sharedOptions:A,includeOptions:T}=this._getSharedOptions(n,o);for(let j=n;j<n+i;j++){const M=this.getParsed(j),k=u||It(M[p.axis])?{base:w,head:w}:this._calculateBarValuePixels(j),B=this._calculateBarIndexPixels(j,N),F=(M._stacks||{})[p.axis],H={horizontal:y,base:k.base,enableBorderRadius:!F||j0(M._custom)||f===F._top||f===F._bottom,x:y?k.head:B.center,y:y?B.center:k.head,height:y?B.size:Math.abs(k.size),width:y?Math.abs(k.size):B.size};T&&(H.options=A||this.resolveDataElementOptions(j,e[j].active?"active":o));const G=H.options||e[j].options;Z4(H,G,F,f),J4(H,G,N.ratio),this.updateElement(e[j],j,H,o)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(N=>N.controller.options.grouped),u=i.options.stacked,f=[],p=this._cachedMeta.controller.getParsed(n),w=p&&p[i.axis],y=N=>{const A=N._parsed.find(j=>j[i.axis]===w),T=A&&A[N.vScale.axis];if(It(T)||isNaN(T))return!0};for(const N of o)if(!(n!==void 0&&y(N))&&((u===!1||f.indexOf(N.stack)===-1||u===void 0&&N.stack===void 0)&&f.push(N.stack),N.index===e))break;return f.length||f.push(void 0),f}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[rt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const o=this._getStacks(e,i),u=n!==void 0?o.indexOf(n):-1;return u===-1?o.length-1:u}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,o=[];let u,f;for(u=0,f=n.data.length;u<f;++u)o.push(i.getPixelForValue(this.getParsed(u)[i.axis],u));const p=e.barThickness;return{min:p||Y4(n),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:p?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:o},options:{base:u,minBarLength:f}}=this,p=u||0,w=this.getParsed(e),y=w._custom,N=j0(y);let A=w[n.axis],T=0,j=i?this.applyStack(n,w,i):A,M,k;j!==A&&(T=j-A,j=A),N&&(A=y.barStart,j=y.barEnd-y.barStart,A!==0&&Fs(A)!==Fs(y.barEnd)&&(T=0),T+=A);const B=!It(u)&&!N?u:T;let F=n.getPixelForValue(B);if(this.chart.getDataVisibility(e)?M=n.getPixelForValue(T+j):M=F,k=M-F,Math.abs(k)<f){k=q4(k,n,p)*f,A===p&&(F-=k/2);const H=n.getPixelForDecimal(0),G=n.getPixelForDecimal(1),K=Math.min(H,G),$=Math.max(H,G);F=Math.max(Math.min(F,$),K),M=F+k,i&&!N&&(w._stacks[n.axis]._visualValues[o]=n.getValueForPixel(M)-n.getValueForPixel(F))}if(F===n.getPixelForValue(p)){const H=Fs(k)*n.getLineWidthForValue(p)/2;F+=H,k-=H}return{size:k,base:F,head:M,center:M+k/2}}_calculateBarIndexPixels(e,n){const i=n.scale,o=this.options,u=o.skipNull,f=rt(o.maxBarThickness,1/0);let p,w;const y=this._getAxisCount();if(n.grouped){const N=u?this._getStackCount(e):n.stackCount,A=o.barThickness==="flex"?W4(e,n,o,N*y):G4(e,n,o,N*y),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,j=this._getAxis().indexOf(rt(T,this.getFirstScaleIdForIndexAxis())),M=this._getStackIndex(this.index,this._cachedMeta.stack,u?e:void 0)+j;p=A.start+A.chunk*M+A.chunk/2,w=Math.min(f,A.chunk*A.ratio)}else p=i.getPixelForValue(this.getParsed(e)[i.axis],e),w=Math.min(f,n.min*n.ratio);return{base:p-w/2,head:p+w/2,center:p,size:w}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,o=i.length;let u=0;for(;u<o;++u)this.getParsed(u)[n.axis]!==null&&!i[u].hidden&&i[u].draw(this._ctx)}}function eC(t,e,n){let i=1,o=1,u=0,f=0;if(e<hn){const p=t,w=p+e,y=Math.cos(p),N=Math.sin(p),A=Math.cos(w),T=Math.sin(w),j=(G,K,$)=>kc(G,p,w,!0)?1:Math.max(K,K*n,$,$*n),M=(G,K,$)=>kc(G,p,w,!0)?-1:Math.min(K,K*n,$,$*n),k=j(0,y,A),B=j(Fn,N,T),F=M(Ut,y,A),H=M(Ut+Fn,N,T);i=(k-F)/2,o=(B-H)/2,u=-(k+F)/2,f=-(B+H)/2}return{ratioX:i,ratioY:o,offsetX:u,offsetY:f}}class tC extends uh{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:o,color:u,useBorderRadius:f,borderRadius:p}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((w,y)=>{const A=e.getDatasetMeta(0).controller.getStyle(y);return{text:w,fillStyle:A.backgroundColor,fontColor:u,hidden:!e.getDataVisibility(y),lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:A.borderWidth,strokeStyle:A.borderColor,textAlign:o,pointStyle:i,borderRadius:f&&(p||A.borderRadius),index:y}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let u=w=>+i[w];if(xt(i[e])){const{key:w="value"}=this._parsing;u=y=>+el(i[y],w)}let f,p;for(f=e,p=e+n;f<p;++f)o._parsed[f]=u(f)}}_getRotation(){return pi(this.options.rotation-90)}_getCircumference(){return pi(this.options.circumference)}_getRotationExtents(){let e=hn,n=-hn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,u=o._getRotation(),f=o._getCircumference();e=Math.min(e,u),n=Math.max(n,u+f)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,o=this._cachedMeta,u=o.data,f=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,p=Math.max((Math.min(i.width,i.height)-f)/2,0),w=Math.min(l3(this.options.cutout,p),1),y=this._getRingWeight(this.index),{circumference:N,rotation:A}=this._getRotationExtents(),{ratioX:T,ratioY:j,offsetX:M,offsetY:k}=eC(A,N,w),B=(i.width-f)/T,F=(i.height-f)/j,H=Math.max(Math.min(B,F)/2,0),G=ib(this.options.radius,H),K=Math.max(G*w,0),$=(G-K)/this._getVisibleDatasetWeightTotal();this.offsetX=M*G,this.offsetY=k*G,o.total=this.calculateTotal(),this.outerRadius=G-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*y,0),this.updateElements(u,0,u.length,e)}_circumference(e,n){const i=this.options,o=this._cachedMeta,u=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*u/hn)}updateElements(e,n,i,o){const u=o==="reset",f=this.chart,p=f.chartArea,y=f.options.animation,N=(p.left+p.right)/2,A=(p.top+p.bottom)/2,T=u&&y.animateScale,j=T?0:this.innerRadius,M=T?0:this.outerRadius,{sharedOptions:k,includeOptions:B}=this._getSharedOptions(n,o);let F=this._getRotation(),H;for(H=0;H<n;++H)F+=this._circumference(H,u);for(H=n;H<n+i;++H){const G=this._circumference(H,u),K=e[H],$={x:N+this.offsetX,y:A+this.offsetY,startAngle:F,endAngle:F+G,circumference:G,outerRadius:M,innerRadius:j};B&&($.options=k||this.resolveDataElementOptions(H,K.active?"active":o)),F+=G,this.updateElement(K,H,$,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,o;for(o=0;o<n.length;o++){const u=e._parsed[o];u!==null&&!isNaN(u)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(i+=Math.abs(u))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?hn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,o=i.data.labels||[],u=Im(n._parsed[e],i.options.locale);return{label:o[e]||"",value:u}}getMaxBorderWidth(e){let n=0;const i=this.chart;let o,u,f,p,w;if(!e){for(o=0,u=i.data.datasets.length;o<u;++o)if(i.isDatasetVisible(o)){f=i.getDatasetMeta(o),e=f.data,p=f.controller;break}}if(!e)return 0;for(o=0,u=e.length;o<u;++o)w=p.resolveDataElementOptions(o),w.borderAlign!=="inner"&&(n=Math.max(n,w.borderWidth||0,w.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,o=e.length;i<o;++i){const u=this.resolveDataElementOptions(i);n=Math.max(n,u.offset||0,u.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(rt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class nC extends uh{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:o=[],_dataset:u}=n,f=this.chart._animationsDisabled;let{start:p,count:w}=E3(n,o,f);this._drawStart=p,this._drawCount=w,T3(n)&&(p=0,w=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!u._decimated,i.points=o;const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(i,void 0,{animated:!f,options:y},e),this.updateElements(o,p,w,e)}updateElements(e,n,i,o){const u=o==="reset",{iScale:f,vScale:p,_stacked:w,_dataset:y}=this._cachedMeta,{sharedOptions:N,includeOptions:A}=this._getSharedOptions(n,o),T=f.axis,j=p.axis,{spanGaps:M,segment:k}=this.options,B=Dc(M)?M:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||u||o==="none",H=n+i,G=e.length;let K=n>0&&this.getParsed(n-1);for(let $=0;$<G;++$){const te=e[$],Y=F?te:{};if($<n||$>=H){Y.skip=!0;continue}const ne=this.getParsed($),q=It(ne[j]),we=Y[T]=f.getPixelForValue(ne[T],$),Ae=Y[j]=u||q?p.getBasePixel():p.getPixelForValue(w?this.applyStack(p,ne,w):ne[j],$);Y.skip=isNaN(we)||isNaN(Ae)||q,Y.stop=$>0&&Math.abs(ne[T]-K[T])>B,k&&(Y.parsed=ne,Y.raw=y.data[$]),A&&(Y.options=N||this.resolveDataElementOptions($,te.active?"active":o)),F||this.updateElement(te,$,Y,o),K=ne}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const u=o[0].size(this.resolveDataElementOptions(0)),f=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,u,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class aC extends tC{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fm{static override(e){Object.assign(Fm.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Xr()}parse(){return Xr()}format(){return Xr()}add(){return Xr()}diff(){return Xr()}startOf(){return Xr()}endOf(){return Xr()}}var sC={_date:Fm};function iC(t,e,n,i){const{controller:o,data:u,_sorted:f}=t,p=o._cachedMeta.iScale,w=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(p&&e===p.axis&&e!=="r"&&f&&u.length){const y=p._reversePixels?v3:Jr;if(i){if(o._sharedOptions){const N=u[0],A=typeof N.getRange=="function"&&N.getRange(e);if(A){const T=y(u,e,n-A),j=y(u,e,n+A);return{lo:T.lo,hi:j.hi}}}}else{const N=y(u,e,n);if(w){const{vScale:A}=o._cachedMeta,{_parsed:T}=t,j=T.slice(0,N.lo+1).reverse().findIndex(k=>!It(k[A.axis]));N.lo-=Math.max(0,j);const M=T.slice(N.hi).findIndex(k=>!It(k[A.axis]));N.hi+=Math.max(0,M)}return N}}return{lo:0,hi:u.length-1}}function dh(t,e,n,i,o){const u=t.getSortedVisibleDatasetMetas(),f=n[e];for(let p=0,w=u.length;p<w;++p){const{index:y,data:N}=u[p],{lo:A,hi:T}=iC(u[p],e,f,o);for(let j=A;j<=T;++j){const M=N[j];M.skip||i(M,y,j)}}}function rC(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const u=e?Math.abs(i.x-o.x):0,f=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(f,2))}}function M0(t,e,n,i,o){const u=[];return!o&&!t.isPointInArea(e)||dh(t,n,e,function(p,w,y){!o&&!Ic(p,t.chartArea,0)||p.inRange(e.x,e.y,i)&&u.push({element:p,datasetIndex:w,index:y})},!0),u}function lC(t,e,n,i){let o=[];function u(f,p,w){const{startAngle:y,endAngle:N}=f.getProps(["startAngle","endAngle"],i),{angle:A}=ob(f,{x:e.x,y:e.y});kc(A,y,N)&&o.push({element:f,datasetIndex:p,index:w})}return dh(t,n,e,u),o}function oC(t,e,n,i,o,u){let f=[];const p=rC(n);let w=Number.POSITIVE_INFINITY;function y(N,A,T){const j=N.inRange(e.x,e.y,o);if(i&&!j)return;const M=N.getCenterPoint(o);if(!(!!u||t.isPointInArea(M))&&!j)return;const B=p(e,M);B<w?(f=[{element:N,datasetIndex:A,index:T}],w=B):B===w&&f.push({element:N,datasetIndex:A,index:T})}return dh(t,n,e,y),f}function D0(t,e,n,i,o,u){return!u&&!t.isPointInArea(e)?[]:n==="r"&&!i?lC(t,e,n,o):oC(t,e,n,i,o,u)}function qp(t,e,n,i,o){const u=[],f=n==="x"?"inXRange":"inYRange";let p=!1;return dh(t,n,e,(w,y,N)=>{w[f]&&w[f](e[n],o)&&(u.push({element:w,datasetIndex:y,index:N}),p=p||w.inRange(e.x,e.y,o))}),i&&!p?[]:u}var cC={modes:{index(t,e,n,i){const o=Kr(e,t),u=n.axis||"x",f=n.includeInvisible||!1,p=n.intersect?M0(t,o,u,i,f):D0(t,o,u,!1,i,f),w=[];return p.length?(t.getSortedVisibleDatasetMetas().forEach(y=>{const N=p[0].index,A=y.data[N];A&&!A.skip&&w.push({element:A,datasetIndex:y.index,index:N})}),w):[]},dataset(t,e,n,i){const o=Kr(e,t),u=n.axis||"xy",f=n.includeInvisible||!1;let p=n.intersect?M0(t,o,u,i,f):D0(t,o,u,!1,i,f);if(p.length>0){const w=p[0].datasetIndex,y=t.getDatasetMeta(w).data;p=[];for(let N=0;N<y.length;++N)p.push({element:y[N],datasetIndex:w,index:N})}return p},point(t,e,n,i){const o=Kr(e,t),u=n.axis||"xy",f=n.includeInvisible||!1;return M0(t,o,u,i,f)},nearest(t,e,n,i){const o=Kr(e,t),u=n.axis||"xy",f=n.includeInvisible||!1;return D0(t,o,u,n.intersect,i,f)},x(t,e,n,i){const o=Kr(e,t);return qp(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Kr(e,t);return qp(t,o,"y",n.intersect,i)}}};const Mb=["left","top","right","bottom"];function oc(t,e){return t.filter(n=>n.pos===e)}function Kp(t,e){return t.filter(n=>Mb.indexOf(n.pos)===-1&&n.box.axis===e)}function cc(t,e){return t.sort((n,i)=>{const o=e?i:n,u=e?n:i;return o.weight===u.weight?o.index-u.index:o.weight-u.weight})}function uC(t){const e=[];let n,i,o,u,f,p;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:u,options:{stack:f,stackWeight:p=1}}=o,e.push({index:n,box:o,pos:u,horizontal:o.isHorizontal(),weight:o.weight,stack:f&&u+f,stackWeight:p});return e}function dC(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:u}=n;if(!i||!Mb.includes(o))continue;const f=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});f.count++,f.weight+=u}return e}function hC(t,e){const n=dC(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let u,f,p;for(u=0,f=t.length;u<f;++u){p=t[u];const{fullSize:w}=p.box,y=n[p.stack],N=y&&p.stackWeight/y.weight;p.horizontal?(p.width=N?N*i:w&&e.availableWidth,p.height=o):(p.width=i,p.height=N?N*o:w&&e.availableHeight)}return n}function fC(t){const e=uC(t),n=cc(e.filter(y=>y.box.fullSize),!0),i=cc(oc(e,"left"),!0),o=cc(oc(e,"right")),u=cc(oc(e,"top"),!0),f=cc(oc(e,"bottom")),p=Kp(e,"x"),w=Kp(e,"y");return{fullSize:n,leftAndTop:i.concat(u),rightAndBottom:o.concat(w).concat(f).concat(p),chartArea:oc(e,"chartArea"),vertical:i.concat(o).concat(w),horizontal:u.concat(f).concat(p)}}function Zp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Db(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mC(t,e,n,i){const{pos:o,box:u}=n,f=t.maxPadding;if(!xt(o)){n.size&&(t[o]-=n.size);const A=i[n.stack]||{size:0,count:1};A.size=Math.max(A.size,n.horizontal?u.height:u.width),n.size=A.size/A.count,t[o]+=n.size}u.getPadding&&Db(f,u.getPadding());const p=Math.max(0,e.outerWidth-Zp(f,t,"left","right")),w=Math.max(0,e.outerHeight-Zp(f,t,"top","bottom")),y=p!==t.w,N=w!==t.h;return t.w=p,t.h=w,n.horizontal?{same:y,other:N}:{same:N,other:y}}function gC(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function xC(t,e){const n=e.maxPadding;function i(o){const u={left:0,top:0,right:0,bottom:0};return o.forEach(f=>{u[f]=Math.max(e[f],n[f])}),u}return i(t?["left","right"]:["top","bottom"])}function yc(t,e,n,i){const o=[];let u,f,p,w,y,N;for(u=0,f=t.length,y=0;u<f;++u){p=t[u],w=p.box,w.update(p.width||e.w,p.height||e.h,xC(p.horizontal,e));const{same:A,other:T}=mC(e,n,p,i);y|=A&&o.length,N=N||T,w.fullSize||o.push(p)}return y&&yc(o,e,n,i)||N}function _d(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function Qp(t,e,n,i){const o=n.padding;let{x:u,y:f}=e;for(const p of t){const w=p.box,y=i[p.stack]||{placed:0,weight:1},N=p.stackWeight/y.weight||1;if(p.horizontal){const A=e.w*N,T=y.size||w.height;Mc(y.start)&&(f=y.start),w.fullSize?_d(w,o.left,f,n.outerWidth-o.right-o.left,T):_d(w,e.left+y.placed,f,A,T),y.start=f,y.placed+=A,f=w.bottom}else{const A=e.h*N,T=y.size||w.width;Mc(y.start)&&(u=y.start),w.fullSize?_d(w,u,o.top,T,n.outerHeight-o.bottom-o.top):_d(w,u,e.top+y.placed,T,A),y.start=u,y.placed+=A,u=w.right}}e.x=u,e.y=f}var ns={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=ss(t.options.layout.padding),u=Math.max(e-o.width,0),f=Math.max(n-o.height,0),p=fC(t.boxes),w=p.vertical,y=p.horizontal;Ft(t.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const N=w.reduce((k,B)=>B.box.options&&B.box.options.display===!1?k:k+1,0)||1,A=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:u,availableHeight:f,vBoxMaxWidth:u/2/N,hBoxMaxHeight:f/2}),T=Object.assign({},o);Db(T,ss(i));const j=Object.assign({maxPadding:T,w:u,h:f,x:o.left,y:o.top},o),M=hC(w.concat(y),A);yc(p.fullSize,j,A,M),yc(w,j,A,M),yc(y,j,A,M)&&yc(w,j,A,M),gC(j),Qp(p.leftAndTop,j,A,M),j.x+=j.w,j.y+=j.h,Qp(p.rightAndBottom,j,A,M),t.chartArea={left:j.left,top:j.top,right:j.left+j.w,bottom:j.top+j.h,height:j.h,width:j.w},Ft(p.chartArea,k=>{const B=k.box;Object.assign(B,t.chartArea),B.update(j.w,j.h,{left:0,top:0,right:0,bottom:0})})}};class kb{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class pC extends kb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Rd="$chartjs",yC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jp=t=>t===null||t==="";function bC(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[Rd]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Jp(o)){const u=Rp(t,"width");u!==void 0&&(t.width=u)}if(Jp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const u=Rp(t,"height");u!==void 0&&(t.height=u)}return t}const Ib=p4?{passive:!0}:!1;function wC(t,e,n){t&&t.addEventListener(e,n,Ib)}function _C(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ib)}function vC(t,e){const n=yC[t.type]||t.type,{x:i,y:o}=Kr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Xd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function NC(t,e,n){const i=t.canvas,o=new MutationObserver(u=>{let f=!1;for(const p of u)f=f||Xd(p.addedNodes,i),f=f&&!Xd(p.removedNodes,i);f&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function AC(t,e,n){const i=t.canvas,o=new MutationObserver(u=>{let f=!1;for(const p of u)f=f||Xd(p.removedNodes,i),f=f&&!Xd(p.addedNodes,i);f&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Rc=new Map;let $p=0;function Ob(){const t=window.devicePixelRatio;t!==$p&&($p=t,Rc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function SC(t,e){Rc.size||window.addEventListener("resize",Ob),Rc.set(t,e)}function CC(t){Rc.delete(t),Rc.size||window.removeEventListener("resize",Ob)}function EC(t,e,n){const i=t.canvas,o=i&&zm(i);if(!o)return;const u=hb((p,w)=>{const y=o.clientWidth;n(p,w),y<o.clientWidth&&n()},window),f=new ResizeObserver(p=>{const w=p[0],y=w.contentRect.width,N=w.contentRect.height;y===0&&N===0||u(y,N)});return f.observe(o),SC(t,u),f}function k0(t,e,n){n&&n.disconnect(),e==="resize"&&CC(t)}function TC(t,e,n){const i=t.canvas,o=hb(u=>{t.ctx!==null&&n(vC(u,t))},t);return wC(i,e,o),o}class jC extends kb{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(bC(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Rd])return!1;const i=n[Rd].initial;["height","width"].forEach(u=>{const f=i[u];It(f)?n.removeAttribute(u):n.setAttribute(u,f)});const o=i.style||{};return Object.keys(o).forEach(u=>{n.style[u]=o[u]}),n.width=n.width,delete n[Rd],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),f={attach:NC,detach:AC,resize:EC}[n]||TC;o[n]=f(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:k0,detach:k0,resize:k0}[n]||_C)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return x4(e,n,i,o)}isAttached(e){const n=e&&zm(e);return!!(n&&n.isConnected)}}function MC(t){return!Pm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pC:jC}class Ni{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Dc(this.x)&&Dc(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(u=>{o[u]=i[u]&&i[u].active()?i[u]._to:this[u]}),o}}function DC(t,e){const n=t.options.ticks,i=kC(t),o=Math.min(n.maxTicksLimit||i,i),u=n.major.enabled?OC(e):[],f=u.length,p=u[0],w=u[f-1],y=[];if(f>o)return RC(e,y,u,f/o),y;const N=IC(u,e,o);if(f>0){let A,T;const j=f>1?Math.round((w-p)/(f-1)):null;for(vd(e,y,N,It(j)?0:p-j,p),A=0,T=f-1;A<T;A++)vd(e,y,N,u[A],u[A+1]);return vd(e,y,N,w,It(j)?e.length:w+j),y}return vd(e,y,N),y}function kC(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function IC(t,e,n){const i=LC(t),o=e.length/n;if(!i)return Math.max(o,1);const u=g3(i);for(let f=0,p=u.length-1;f<p;f++){const w=u[f];if(w>o)return w}return Math.max(o,1)}function OC(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function RC(t,e,n,i){let o=0,u=n[0],f;for(i=Math.ceil(i),f=0;f<t.length;f++)f===u&&(e.push(t[f]),o++,u=n[o*i])}function vd(t,e,n,i,o){const u=rt(i,0),f=Math.min(rt(o,t.length),t.length);let p=0,w,y,N;for(n=Math.ceil(n),o&&(w=o-i,n=w/Math.floor(w/n)),N=u;N<0;)p++,N=Math.round(u+p*n);for(y=Math.max(u,0);y<f;y++)y===N&&(e.push(t[y]),p++,N=Math.round(u+p*n))}function LC(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const BC=t=>t==="left"?"right":t==="right"?"left":t,e2=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,t2=(t,e)=>Math.min(e||t,t);function n2(t,e){const n=[],i=t.length/e,o=t.length;let u=0;for(;u<o;u+=i)n.push(t[Math.floor(u)]);return n}function PC(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),u=t._startPixel,f=t._endPixel,p=1e-6;let w=t.getPixelForTick(o),y;if(!(n&&(i===1?y=Math.max(w-u,f-w):e===0?y=(t.getPixelForTick(1)-w)/2:y=(w-t.getPixelForTick(o-1))/2,w+=o<e?y:-y,w<u-p||w>f+p)))return w}function zC(t,e){Ft(t,n=>{const i=n.gc,o=i.length/2;let u;if(o>e){for(u=0;u<o;++u)delete n.data[i[u]];i.splice(0,o)}})}function uc(t){return t.drawTicks?t.tickLength:0}function a2(t,e){if(!t.display)return 0;const n=ea(t.font,e),i=ss(t.padding);return(Dn(t.text)?t.text.length:1)*n.lineHeight+i.height}function FC(t,e){return nl(t,{scale:e,type:"scale"})}function UC(t,e,n){return nl(t,{tick:n,index:e,type:"tick"})}function HC(t,e,n){let i=Dm(t);return(n&&e!=="right"||!n&&e==="right")&&(i=BC(i)),i}function VC(t,e,n,i){const{top:o,left:u,bottom:f,right:p,chart:w}=t,{chartArea:y,scales:N}=w;let A=0,T,j,M;const k=f-o,B=p-u;if(t.isHorizontal()){if(j=Jn(i,u,p),xt(n)){const F=Object.keys(n)[0],H=n[F];M=N[F].getPixelForValue(H)+k-e}else n==="center"?M=(y.bottom+y.top)/2+k-e:M=e2(t,n,e);T=p-u}else{if(xt(n)){const F=Object.keys(n)[0],H=n[F];j=N[F].getPixelForValue(H)-B+e}else n==="center"?j=(y.left+y.right)/2-B+e:j=e2(t,n,e);M=Jn(i,f,o),A=n==="left"?-Fn:Fn}return{titleX:j,titleY:M,maxWidth:T,rotation:A}}class co extends Ni{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=ks(e,Number.POSITIVE_INFINITY),n=ks(n,Number.NEGATIVE_INFINITY),i=ks(i,Number.POSITIVE_INFINITY),o=ks(o,Number.NEGATIVE_INFINITY),{min:ks(e,i),max:ks(n,o),minDefined:ta(e),maxDefined:ta(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:u}=this.getUserBounds(),f;if(o&&u)return{min:n,max:i};const p=this.getMatchingVisibleMetas();for(let w=0,y=p.length;w<y;++w)f=p[w].controller.getMinMax(this,e),o||(n=Math.min(n,f.min)),u||(i=Math.max(i,f.max));return n=u&&n>i?i:n,i=o&&n>i?n:i,{min:ks(n,ks(i,n)),max:ks(i,ks(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){sn(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:u,ticks:f}=this.options,p=f.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=q3(this,u,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const w=p<this.ticks.length;this._convertTicksToLabels(w?n2(this.ticks,p):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),f.display&&(f.autoSkip||f.source==="auto")&&(this.ticks=DC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),w&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){sn(this.options.afterUpdate,[this])}beforeSetDimensions(){sn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){sn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),sn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){sn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,u;for(i=0,o=e.length;i<o;i++)u=e[i],u.label=sn(n.callback,[u.value,i,e],this)}afterTickToLabelConversion(){sn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){sn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=t2(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,u=n.maxRotation;let f=o,p,w,y;if(!this._isVisible()||!n.display||o>=u||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const N=this._getLabelSizes(),A=N.widest.width,T=N.highest.height,j=$n(this.chart.width-A,0,this.maxWidth);p=e.offset?this.maxWidth/i:j/(i-1),A+6>p&&(p=j/(i-(e.offset?.5:1)),w=this.maxHeight-uc(e.grid)-n.padding-a2(e.title,this.chart.options.font),y=Math.sqrt(A*A+T*T),f=b3(Math.min(Math.asin($n((N.highest.height+6)/p,-1,1)),Math.asin($n(w/y,-1,1))-Math.asin($n(T/y,-1,1)))),f=Math.max(o,Math.min(u,f))),this.labelRotation=f}afterCalculateLabelRotation(){sn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){sn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:u}}=this,f=this._isVisible(),p=this.isHorizontal();if(f){const w=a2(o,n.options.font);if(p?(e.width=this.maxWidth,e.height=uc(u)+w):(e.height=this.maxHeight,e.width=uc(u)+w),i.display&&this.ticks.length){const{first:y,last:N,widest:A,highest:T}=this._getLabelSizes(),j=i.padding*2,M=pi(this.labelRotation),k=Math.cos(M),B=Math.sin(M);if(p){const F=i.mirror?0:B*A.width+k*T.height;e.height=Math.min(this.maxHeight,e.height+F+j)}else{const F=i.mirror?0:k*A.width+B*T.height;e.width=Math.min(this.maxWidth,e.width+F+j)}this._calculatePadding(y,N,B,k)}}this._handleMargins(),p?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:u,padding:f},position:p}=this.options,w=this.labelRotation!==0,y=p!=="top"&&this.axis==="x";if(this.isHorizontal()){const N=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,j=0;w?y?(T=o*e.width,j=i*n.height):(T=i*e.height,j=o*n.width):u==="start"?j=n.width:u==="end"?T=e.width:u!=="inner"&&(T=e.width/2,j=n.width/2),this.paddingLeft=Math.max((T-N+f)*this.width/(this.width-N),0),this.paddingRight=Math.max((j-A+f)*this.width/(this.width-A),0)}else{let N=n.height/2,A=e.height/2;u==="start"?(N=0,A=e.height):u==="end"&&(N=n.height,A=0),this.paddingTop=N+f,this.paddingBottom=A+f}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){sn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)It(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=n2(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:u}=this,f=[],p=[],w=Math.floor(n/t2(n,i));let y=0,N=0,A,T,j,M,k,B,F,H,G,K,$;for(A=0;A<n;A+=w){if(M=e[A].label,k=this._resolveTickFontOptions(A),o.font=B=k.string,F=u[B]=u[B]||{data:{},gc:[]},H=k.lineHeight,G=K=0,!It(M)&&!Dn(M))G=Mp(o,F.data,F.gc,G,M),K=H;else if(Dn(M))for(T=0,j=M.length;T<j;++T)$=M[T],!It($)&&!Dn($)&&(G=Mp(o,F.data,F.gc,G,$),K+=H);f.push(G),p.push(K),y=Math.max(G,y),N=Math.max(K,N)}zC(u,n);const te=f.indexOf(y),Y=p.indexOf(N),ne=q=>({width:f[q]||0,height:p[q]||0});return{first:ne(0),last:ne(n-1),widest:ne(te),highest:ne(Y),widths:f,heights:p}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _3(this._alignToPixels?Wr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=UC(this.getContext(),e,i))}return this.$context||(this.$context=FC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=pi(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),u=this._getLabelSizes(),f=e.autoSkipPadding||0,p=u?u.widest.width+f:0,w=u?u.highest.height+f:0;return this.isHorizontal()?w*i>p*o?p/i:w/o:w*o<p*i?w/i:p/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:u,position:f,border:p}=o,w=u.offset,y=this.isHorizontal(),A=this.ticks.length+(w?1:0),T=uc(u),j=[],M=p.setContext(this.getContext()),k=M.display?M.width:0,B=k/2,F=function(se){return Wr(i,se,k)};let H,G,K,$,te,Y,ne,q,we,Ae,me,Re;if(f==="top")H=F(this.bottom),Y=this.bottom-T,q=H-B,Ae=F(e.top)+B,Re=e.bottom;else if(f==="bottom")H=F(this.top),Ae=e.top,Re=F(e.bottom)-B,Y=H+B,q=this.top+T;else if(f==="left")H=F(this.right),te=this.right-T,ne=H-B,we=F(e.left)+B,me=e.right;else if(f==="right")H=F(this.left),we=e.left,me=F(e.right)-B,te=H+B,ne=this.left+T;else if(n==="x"){if(f==="center")H=F((e.top+e.bottom)/2+.5);else if(xt(f)){const se=Object.keys(f)[0],fe=f[se];H=F(this.chart.scales[se].getPixelForValue(fe))}Ae=e.top,Re=e.bottom,Y=H+B,q=Y+T}else if(n==="y"){if(f==="center")H=F((e.left+e.right)/2);else if(xt(f)){const se=Object.keys(f)[0],fe=f[se];H=F(this.chart.scales[se].getPixelForValue(fe))}te=H-B,ne=te-T,we=e.left,me=e.right}const et=rt(o.ticks.maxTicksLimit,A),ie=Math.max(1,Math.ceil(A/et));for(G=0;G<A;G+=ie){const se=this.getContext(G),fe=u.setContext(se),Le=p.setContext(se),Ge=fe.lineWidth,$e=fe.color,Q=Le.dash||[],ge=Le.dashOffset,je=fe.tickWidth,Me=fe.tickColor,qe=fe.tickBorderDash||[],Ne=fe.tickBorderDashOffset;K=PC(this,G,w),K!==void 0&&($=Wr(i,K,Ge),y?te=ne=we=me=$:Y=q=Ae=Re=$,j.push({tx1:te,ty1:Y,tx2:ne,ty2:q,x1:we,y1:Ae,x2:me,y2:Re,width:Ge,color:$e,borderDash:Q,borderDashOffset:ge,tickWidth:je,tickColor:Me,tickBorderDash:qe,tickBorderDashOffset:Ne}))}return this._ticksLength=A,this._borderValue=H,j}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:u}=i,f=this.isHorizontal(),p=this.ticks,{align:w,crossAlign:y,padding:N,mirror:A}=u,T=uc(i.grid),j=T+N,M=A?-N:j,k=-pi(this.labelRotation),B=[];let F,H,G,K,$,te,Y,ne,q,we,Ae,me,Re="middle";if(o==="top")te=this.bottom-M,Y=this._getXAxisLabelAlignment();else if(o==="bottom")te=this.top+M,Y=this._getXAxisLabelAlignment();else if(o==="left"){const ie=this._getYAxisLabelAlignment(T);Y=ie.textAlign,$=ie.x}else if(o==="right"){const ie=this._getYAxisLabelAlignment(T);Y=ie.textAlign,$=ie.x}else if(n==="x"){if(o==="center")te=(e.top+e.bottom)/2+j;else if(xt(o)){const ie=Object.keys(o)[0],se=o[ie];te=this.chart.scales[ie].getPixelForValue(se)+j}Y=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")$=(e.left+e.right)/2-j;else if(xt(o)){const ie=Object.keys(o)[0],se=o[ie];$=this.chart.scales[ie].getPixelForValue(se)}Y=this._getYAxisLabelAlignment(T).textAlign}n==="y"&&(w==="start"?Re="top":w==="end"&&(Re="bottom"));const et=this._getLabelSizes();for(F=0,H=p.length;F<H;++F){G=p[F],K=G.label;const ie=u.setContext(this.getContext(F));ne=this.getPixelForTick(F)+u.labelOffset,q=this._resolveTickFontOptions(F),we=q.lineHeight,Ae=Dn(K)?K.length:1;const se=Ae/2,fe=ie.color,Le=ie.textStrokeColor,Ge=ie.textStrokeWidth;let $e=Y;f?($=ne,Y==="inner"&&(F===H-1?$e=this.options.reverse?"left":"right":F===0?$e=this.options.reverse?"right":"left":$e="center"),o==="top"?y==="near"||k!==0?me=-Ae*we+we/2:y==="center"?me=-et.highest.height/2-se*we+we:me=-et.highest.height+we/2:y==="near"||k!==0?me=we/2:y==="center"?me=et.highest.height/2-se*we:me=et.highest.height-Ae*we,A&&(me*=-1),k!==0&&!ie.showLabelBackdrop&&($+=we/2*Math.sin(k))):(te=ne,me=(1-Ae)*we/2);let Q;if(ie.showLabelBackdrop){const ge=ss(ie.backdropPadding),je=et.heights[F],Me=et.widths[F];let qe=me-ge.top,Ne=0-ge.left;switch(Re){case"middle":qe-=je/2;break;case"bottom":qe-=je;break}switch(Y){case"center":Ne-=Me/2;break;case"right":Ne-=Me;break;case"inner":F===H-1?Ne-=Me:F>0&&(Ne-=Me/2);break}Q={left:Ne,top:qe,width:Me+ge.width,height:je+ge.height,color:ie.backdropColor}}B.push({label:K,font:q,textOffset:me,options:{rotation:k,color:fe,strokeColor:Le,strokeWidth:Ge,textAlign:$e,textBaseline:Re,translation:[$,te],backdrop:Q}})}return B}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-pi(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:u}}=this.options,f=this._getLabelSizes(),p=e+u,w=f.widest.width;let y,N;return n==="left"?o?(N=this.right+u,i==="near"?y="left":i==="center"?(y="center",N+=w/2):(y="right",N+=w)):(N=this.right-p,i==="near"?y="right":i==="center"?(y="center",N-=w/2):(y="left",N=this.left)):n==="right"?o?(N=this.left+u,i==="near"?y="right":i==="center"?(y="center",N-=w/2):(y="left",N-=w)):(N=this.left+p,i==="near"?y="left":i==="center"?(y="center",N+=w/2):(y="right",N=this.right)):y="right",{textAlign:y,x:N}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:u,height:f}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,u,f),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(u=>u.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let u,f;const p=(w,y,N)=>{!N.width||!N.color||(i.save(),i.lineWidth=N.width,i.strokeStyle=N.color,i.setLineDash(N.borderDash||[]),i.lineDashOffset=N.borderDashOffset,i.beginPath(),i.moveTo(w.x,w.y),i.lineTo(y.x,y.y),i.stroke(),i.restore())};if(n.display)for(u=0,f=o.length;u<f;++u){const w=o[u];n.drawOnChartArea&&p({x:w.x1,y:w.y1},{x:w.x2,y:w.y2},w),n.drawTicks&&p({x:w.tx1,y:w.ty1},{x:w.tx2,y:w.ty2},{color:w.tickColor,width:w.tickWidth,borderDash:w.tickBorderDash,borderDashOffset:w.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,u=i.setContext(this.getContext()),f=i.display?u.width:0;if(!f)return;const p=o.setContext(this.getContext(0)).lineWidth,w=this._borderValue;let y,N,A,T;this.isHorizontal()?(y=Wr(e,this.left,f)-f/2,N=Wr(e,this.right,p)+p/2,A=T=w):(A=Wr(e,this.top,f)-f/2,T=Wr(e,this.bottom,p)+p/2,y=N=w),n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.beginPath(),n.moveTo(y,A),n.lineTo(N,T),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&lh(i,o);const u=this.getLabelItems(e);for(const f of u){const p=f.options,w=f.font,y=f.label,N=f.textOffset;Oc(i,y,0,N,w,p)}o&&oh(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const u=ea(i.font),f=ss(i.padding),p=i.align;let w=u.lineHeight/2;n==="bottom"||n==="center"||xt(n)?(w+=f.bottom,Dn(i.text)&&(w+=u.lineHeight*(i.text.length-1))):w+=f.top;const{titleX:y,titleY:N,maxWidth:A,rotation:T}=VC(this,w,n,p);Oc(e,i.text,0,0,u,{color:i.color,maxWidth:A,rotation:T,textAlign:HC(p,n,o),textBaseline:"middle",translation:[y,N]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=rt(e.grid&&e.grid.z,-1),o=rt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==co.prototype.draw?[{z:n,draw:u=>{this.draw(u)}}]:[{z:i,draw:u=>{this.drawBackground(),this.drawGrid(u),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:u=>{this.drawLabels(u)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let u,f;for(u=0,f=n.length;u<f;++u){const p=n[u];p[i]===this.id&&(!e||p.type===e)&&o.push(p)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ea(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Nd{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;WC(n)&&(i=this.register(n));const o=this.items,u=e.id,f=this.scope+"."+u;if(!u)throw new Error("class does not have id: "+e);return u in o||(o[u]=e,YC(e,f,i),this.override&&An.override(e.id,e.overrides)),f}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in An[o]&&(delete An[o][i],this.override&&delete tl[i])}}function YC(t,e,n){const i=jc(Object.create(null),[n?An.get(n):{},An.get(e),t.defaults]);An.set(e,i),t.defaultRoutes&&GC(e,t.defaultRoutes),t.descriptors&&An.describe(e,t.descriptors)}function GC(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),u=[t].concat(i).join("."),f=e[n].split("."),p=f.pop(),w=f.join(".");An.route(u,o,w,p)})}function WC(t){return"id"in t&&"defaults"in t}class XC{constructor(){this.controllers=new Nd(uh,"datasets",!0),this.elements=new Nd(Ni,"elements"),this.plugins=new Nd(Object,"plugins"),this.scales=new Nd(co,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const u=i||this._getRegistryForType(o);i||u.isForType(o)||u===this.plugins&&o.id?this._exec(e,u,o):Ft(o,f=>{const p=i||this._getRegistryForType(f);this._exec(e,p,f)})})}_exec(e,n,i){const o=jm(e);sn(i["before"+o],[],i),n[e](i),sn(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var Ls=new XC;class qC{constructor(){this._init=void 0}notify(e,n,i,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const u=o?this._descriptors(e).filter(o):this._descriptors(e),f=this._notify(u,e,n,i);return n==="afterDestroy"&&(this._notify(u,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),f}_notify(e,n,i,o){o=o||{};for(const u of e){const f=u.plugin,p=f[i],w=[n,o,u.options];if(sn(p,w,f)===!1&&o.cancelable)return!1}return!0}invalidate(){It(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=rt(i.options&&i.options.plugins,{}),u=KC(i);return o===!1&&!n?[]:QC(e,u,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(u,f)=>u.filter(p=>!f.some(w=>p.plugin.id===w.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function KC(t){const e={},n=[],i=Object.keys(Ls.plugins.items);for(let u=0;u<i.length;u++)n.push(Ls.getPlugin(i[u]));const o=t.plugins||[];for(let u=0;u<o.length;u++){const f=o[u];n.indexOf(f)===-1&&(n.push(f),e[f.id]=!0)}return{plugins:n,localIds:e}}function ZC(t,e){return!e&&t===!1?null:t===!0?{}:t}function QC(t,{plugins:e,localIds:n},i,o){const u=[],f=t.getContext();for(const p of e){const w=p.id,y=ZC(i[w],o);y!==null&&u.push({plugin:p,options:JC(t.config,{plugin:p,local:n[w]},y,f)})}return u}function JC(t,{plugin:e,local:n},i,o){const u=t.pluginScopeKeys(e),f=t.getOptionScopes(i,u);return n&&e.defaults&&f.push(e.defaults),t.createResolver(f,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function im(t,e){const n=An.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function $C(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function eE(t,e){return t===e?"_index_":"_value_"}function s2(t){if(t==="x"||t==="y"||t==="r")return t}function tE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function rm(t,...e){if(s2(t))return t;for(const n of e){const i=n.axis||tE(n.position)||t.length>1&&s2(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function i2(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function nE(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return i2(t,"x",n[0])||i2(t,"y",n[0])}return{}}function aE(t,e){const n=tl[t.type]||{scales:{}},i=e.scales||{},o=im(t.type,e),u=Object.create(null);return Object.keys(i).forEach(f=>{const p=i[f];if(!xt(p))return console.error(`Invalid scale configuration for scale: ${f}`);if(p._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${f}`);const w=rm(f,p,nE(f,t),An.scales[p.type]),y=eE(w,o),N=n.scales||{};u[f]=vc(Object.create(null),[{axis:w},p,N[w],N[y]])}),t.data.datasets.forEach(f=>{const p=f.type||t.type,w=f.indexAxis||im(p,e),N=(tl[p]||{}).scales||{};Object.keys(N).forEach(A=>{const T=$C(A,w),j=f[T+"AxisID"]||T;u[j]=u[j]||Object.create(null),vc(u[j],[{axis:T},i[j],N[A]])})}),Object.keys(u).forEach(f=>{const p=u[f];vc(p,[An.scales[p.type],An.scale])}),u}function Rb(t){const e=t.options||(t.options={});e.plugins=rt(e.plugins,{}),e.scales=aE(t,e)}function Lb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function sE(t){return t=t||{},t.data=Lb(t.data),Rb(t),t}const r2=new Map,Bb=new Set;function Ad(t,e){let n=r2.get(t);return n||(n=e(),r2.set(t,n),Bb.add(n)),n}const dc=(t,e,n)=>{const i=el(e,n);i!==void 0&&t.add(i)};class iE{constructor(e){this._config=sE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Lb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Rb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ad(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ad(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ad(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Ad(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:u}=this,f=this._cachedScopes(e,i),p=f.get(n);if(p)return p;const w=new Set;n.forEach(N=>{e&&(w.add(e),N.forEach(A=>dc(w,e,A))),N.forEach(A=>dc(w,o,A)),N.forEach(A=>dc(w,tl[u]||{},A)),N.forEach(A=>dc(w,An,A)),N.forEach(A=>dc(w,am,A))});const y=Array.from(w);return y.length===0&&y.push(Object.create(null)),Bb.has(n)&&f.set(n,y),y}chartOptionScopes(){const{options:e,type:n}=this;return[e,tl[n]||{},An.datasets[n]||{},{type:n},An,am]}resolveNamedOptions(e,n,i,o=[""]){const u={$shared:!0},{resolver:f,subPrefixes:p}=l2(this._resolverCache,e,o);let w=f;if(lE(f,n)){u.$shared=!1,i=pr(i)?i():i;const y=this.createResolver(e,i,p);w=ao(f,i,y)}for(const y of n)u[y]=w[y];return u}createResolver(e,n,i=[""],o){const{resolver:u}=l2(this._resolverCache,e,i);return xt(n)?ao(u,n,void 0,o):u}}function l2(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let u=i.get(o);return u||(u={resolver:Rm(e,n),subPrefixes:n.filter(p=>!p.toLowerCase().includes("hover"))},i.set(o,u)),u}const rE=t=>xt(t)&&Object.getOwnPropertyNames(t).some(e=>pr(t[e]));function lE(t,e){const{isScriptable:n,isIndexable:i}=xb(t);for(const o of e){const u=n(o),f=i(o),p=(f||u)&&t[o];if(u&&(pr(p)||rE(p))||f&&Dn(p))return!0}return!1}var oE="4.5.1";const cE=["top","bottom","left","right","chartArea"];function o2(t,e){return t==="top"||t==="bottom"||cE.indexOf(t)===-1&&e==="x"}function c2(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function u2(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),sn(n&&n.onComplete,[t],e)}function uE(t){const e=t.chart,n=e.options.animation;sn(n&&n.onProgress,[t],e)}function Pb(t){return Pm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ld={},d2=t=>{const e=Pb(t);return Object.values(Ld).filter(n=>n.canvas===e).pop()};function dE(t,e,n){const i=Object.keys(t);for(const o of i){const u=+o;if(u>=e){const f=t[o];delete t[o],(n>0||u>e)&&(t[u+n]=f)}}}function hE(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let al=class{static defaults=An;static instances=Ld;static overrides=tl;static registry=Ls;static version=oE;static getChart=d2;static register(...e){Ls.add(...e),h2()}static unregister(...e){Ls.remove(...e),h2()}constructor(e,n){const i=this.config=new iE(n),o=Pb(e),u=d2(o);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const f=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||MC(o)),this.platform.updateConfig(i);const p=this.platform.acquireContext(o,f.aspectRatio),w=p&&p.canvas,y=w&&w.height,N=w&&w.width;if(this.id=r3(),this.ctx=p,this.canvas=w,this.width=N,this.height=y,this._options=f,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=S3(A=>this.update(A),f.resizeDelay||0),this._dataChanges=[],Ld[this.id]=this,!p||!w){console.error("Failed to create chart: can't acquire context from the given item");return}mi.listen(this,"complete",u2),mi.listen(this,"progress",uE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:u}=this;return It(e)?n&&u?u:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ls}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Op(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dp(this.canvas,this.ctx),this}stop(){return mi.stop(this),this}resize(e,n){mi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,u=i.maintainAspectRatio&&this.aspectRatio,f=this.platform.getMaximumSize(o,e,n,u),p=i.devicePixelRatio||this.platform.getDevicePixelRatio(),w=this.width?"resize":"attach";this.width=f.width,this.height=f.height,this._aspectRatio=this.aspectRatio,Op(this,p,!0)&&(this.notifyPlugins("resize",{size:f}),sn(i.onResize,[this,f],this),this.attached&&this._doResize(w)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ft(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((f,p)=>(f[p]=!1,f),{});let u=[];n&&(u=u.concat(Object.keys(n).map(f=>{const p=n[f],w=rm(f,p),y=w==="r",N=w==="x";return{options:p,dposition:y?"chartArea":N?"bottom":"left",dtype:y?"radialLinear":N?"category":"linear"}}))),Ft(u,f=>{const p=f.options,w=p.id,y=rm(w,p),N=rt(p.type,f.dtype);(p.position===void 0||o2(p.position,y)!==o2(f.dposition))&&(p.position=f.dposition),o[w]=!0;let A=null;if(w in i&&i[w].type===N)A=i[w];else{const T=Ls.getScale(N);A=new T({id:w,type:N,ctx:this.ctx,chart:this}),i[A.id]=A}A.init(p,e)}),Ft(o,(f,p)=>{f||delete i[p]}),Ft(i,f=>{ns.configure(this,f,f.options),ns.addBox(this,f)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,u)=>o.index-u.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(c2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(u=>u===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const u=n[i];let f=this.getDatasetMeta(i);const p=u.type||this.config.type;if(f.type&&f.type!==p&&(this._destroyDatasetMeta(i),f=this.getDatasetMeta(i)),f.type=p,f.indexAxis=u.indexAxis||im(p,this.options),f.order=u.order||0,f.index=i,f.label=""+u.label,f.visible=this.isDatasetVisible(i),f.controller)f.controller.updateIndex(i),f.controller.linkScales();else{const w=Ls.getController(p),{datasetElementType:y,dataElementType:N}=An.datasets[p];Object.assign(w,{dataElementType:Ls.getElement(N),datasetElementType:y&&Ls.getElement(y)}),f.controller=new w(this,i),e.push(f.controller)}}return this._updateMetasets(),e}_resetElements(){Ft(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let f=0;for(let y=0,N=this.data.datasets.length;y<N;y++){const{controller:A}=this.getDatasetMeta(y),T=!o&&u.indexOf(A)===-1;A.buildOrUpdateElements(T),f=Math.max(+A.getMaxOverflow(),f)}f=this._minPadding=i.layout.autoPadding?f:0,this._updateLayout(f),o||Ft(u,y=>{y.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(c2("z","_idx"));const{_active:p,_lastEvent:w}=this;w?this._eventHandler(w,!0):p.length&&this._updateHoverStyles(p,p,!0),this.render()}_updateScales(){Ft(this.scales,e=>{ns.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!_p(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:u}of n){const f=i==="_removeElements"?-u:u;dE(e,o,f)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=u=>new Set(e.filter(f=>f[0]===u).map((f,p)=>p+","+f.splice(1).join(","))),o=i(0);for(let u=1;u<n;u++)if(!_p(o,i(u)))return;return Array.from(o).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ns.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ft(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,u)=>{o._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,pr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(mi.has(this)?this.attached&&!mi.running(this)&&mi.start(this):(this.draw(),u2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,u;for(o=0,u=n.length;o<u;++o){const f=n[o];(!e||f.visible)&&i.push(f)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=Cb(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&lh(n,o),e.controller.draw(),o&&oh(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ic(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const u=cC.modes[n];return typeof u=="function"?u(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(u=>u&&u._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=nl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",u=this.getDatasetMeta(e),f=u.controller._resolveAnimations(void 0,o);Mc(n)?(u.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),f.update(u,{visible:i}),this.update(p=>p.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),mi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Dp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ld[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(u,f)=>{n.addEventListener(this,u,f),e[u]=f},o=(u,f,p)=>{u.offsetX=f,u.offsetY=p,this._eventHandler(u)};Ft(this.options.events,u=>i(u,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(w,y)=>{n.addEventListener(this,w,y),e[w]=y},o=(w,y)=>{e[w]&&(n.removeEventListener(this,w,y),delete e[w])},u=(w,y)=>{this.canvas&&this.resize(w,y)};let f;const p=()=>{o("attach",p),this.attached=!0,this.resize(),i("resize",u),i("detach",f)};f=()=>{this.attached=!1,o("resize",u),this._stop(),this._resize(0,0),i("attach",p)},n.isAttached(this.canvas)?p():f()}unbindEvents(){Ft(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ft(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let u,f,p,w;for(n==="dataset"&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+o+"DatasetHoverStyle"]()),p=0,w=e.length;p<w;++p){f=e[p];const y=f&&this.getDatasetMeta(f.datasetIndex).controller;y&&y[o+"HoverStyle"](f.element,f.datasetIndex,f.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:u,index:f})=>{const p=this.getDatasetMeta(u);if(!p)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:p.data[f],index:f}});!Hd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,u=(w,y)=>w.filter(N=>!y.some(A=>N.datasetIndex===A.datasetIndex&&N.index===A.index)),f=u(n,e),p=i?e:u(e,n);f.length&&this.updateHoverStyle(f,o.mode,!1),p.length&&o.mode&&this.updateHoverStyle(p,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=f=>(f.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const u=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(u||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:u}=this,f=n,p=this._getActiveElements(e,o,i,f),w=h3(e),y=hE(e,this._lastEvent,i,w);i&&(this._lastEvent=null,sn(u.onHover,[e,p,this],this),w&&sn(u.onClick,[e,p,this],this));const N=!Hd(p,o);return(N||n)&&(this._active=p,this._updateHoverStyles(p,o,n)),this._lastEvent=y,N}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,o)}};function h2(){return Ft(al.instances,t=>t._plugins.invalidate())}function fE(t,e,n){const{startAngle:i,x:o,y:u,outerRadius:f,innerRadius:p,options:w}=e,{borderWidth:y,borderJoinStyle:N}=w,A=Math.min(y/f,za(i-n));if(t.beginPath(),t.arc(o,u,f-y/2,i+A/2,n-A/2),p>0){const T=Math.min(y/p,za(i-n));t.arc(o,u,p+y/2,n-T/2,i+T/2,!0)}else{const T=Math.min(y/2,f*za(i-n));if(N==="round")t.arc(o,u,T,n-Ut/2,i+Ut/2,!0);else if(N==="bevel"){const j=2*T*T,M=-j*Math.cos(n+Ut/2)+o,k=-j*Math.sin(n+Ut/2)+u,B=j*Math.cos(i+Ut/2)+o,F=j*Math.sin(i+Ut/2)+u;t.lineTo(M,k),t.lineTo(B,F)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function mE(t,e,n){const{startAngle:i,pixelMargin:o,x:u,y:f,outerRadius:p,innerRadius:w}=e;let y=o/p;t.beginPath(),t.arc(u,f,p,i-y,n+y),w>o?(y=o/w,t.arc(u,f,w,n+y,i-y,!0)):t.arc(u,f,o,n+Fn,i-Fn),t.closePath(),t.clip()}function gE(t){return Om(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xE(t,e,n,i){const o=gE(t.options.borderRadius),u=(n-e)/2,f=Math.min(u,i*e/2),p=w=>{const y=(n-Math.min(u,w))*i/2;return $n(w,0,Math.min(u,y))};return{outerStart:p(o.outerStart),outerEnd:p(o.outerEnd),innerStart:$n(o.innerStart,0,f),innerEnd:$n(o.innerEnd,0,f)}}function Yl(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function qd(t,e,n,i,o,u){const{x:f,y:p,startAngle:w,pixelMargin:y,innerRadius:N}=e,A=Math.max(e.outerRadius+i+n-y,0),T=N>0?N+i+n+y:0;let j=0;const M=o-w;if(i){const ie=N>0?N-i:0,se=A>0?A-i:0,fe=(ie+se)/2,Le=fe!==0?M*fe/(fe+i):M;j=(M-Le)/2}const k=Math.max(.001,M*A-n/Ut)/A,B=(M-k)/2,F=w+B+j,H=o-B-j,{outerStart:G,outerEnd:K,innerStart:$,innerEnd:te}=xE(e,T,A,H-F),Y=A-G,ne=A-K,q=F+G/Y,we=H-K/ne,Ae=T+$,me=T+te,Re=F+$/Ae,et=H-te/me;if(t.beginPath(),u){const ie=(q+we)/2;if(t.arc(f,p,A,q,ie),t.arc(f,p,A,ie,we),K>0){const Ge=Yl(ne,we,f,p);t.arc(Ge.x,Ge.y,K,we,H+Fn)}const se=Yl(me,H,f,p);if(t.lineTo(se.x,se.y),te>0){const Ge=Yl(me,et,f,p);t.arc(Ge.x,Ge.y,te,H+Fn,et+Math.PI)}const fe=(H-te/T+(F+$/T))/2;if(t.arc(f,p,T,H-te/T,fe,!0),t.arc(f,p,T,fe,F+$/T,!0),$>0){const Ge=Yl(Ae,Re,f,p);t.arc(Ge.x,Ge.y,$,Re+Math.PI,F-Fn)}const Le=Yl(Y,F,f,p);if(t.lineTo(Le.x,Le.y),G>0){const Ge=Yl(Y,q,f,p);t.arc(Ge.x,Ge.y,G,F-Fn,q)}}else{t.moveTo(f,p);const ie=Math.cos(q)*A+f,se=Math.sin(q)*A+p;t.lineTo(ie,se);const fe=Math.cos(we)*A+f,Le=Math.sin(we)*A+p;t.lineTo(fe,Le)}t.closePath()}function pE(t,e,n,i,o){const{fullCircles:u,startAngle:f,circumference:p}=e;let w=e.endAngle;if(u){qd(t,e,n,i,w,o);for(let y=0;y<u;++y)t.fill();isNaN(p)||(w=f+(p%hn||hn))}return qd(t,e,n,i,w,o),t.fill(),w}function yE(t,e,n,i,o){const{fullCircles:u,startAngle:f,circumference:p,options:w}=e,{borderWidth:y,borderJoinStyle:N,borderDash:A,borderDashOffset:T,borderRadius:j}=w,M=w.borderAlign==="inner";if(!y)return;t.setLineDash(A||[]),t.lineDashOffset=T,M?(t.lineWidth=y*2,t.lineJoin=N||"round"):(t.lineWidth=y,t.lineJoin=N||"bevel");let k=e.endAngle;if(u){qd(t,e,n,i,k,o);for(let B=0;B<u;++B)t.stroke();isNaN(p)||(k=f+(p%hn||hn))}M&&mE(t,e,k),w.selfJoin&&k-f>=Ut&&j===0&&N!=="miter"&&fE(t,e,k),u||(qd(t,e,n,i,k,o),t.stroke())}class bE extends Ni{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const o=this.getProps(["x","y"],i),{angle:u,distance:f}=ob(o,{x:e,y:n}),{startAngle:p,endAngle:w,innerRadius:y,outerRadius:N,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),T=(this.options.spacing+this.options.borderWidth)/2,j=rt(A,w-p),M=kc(u,p,w)&&p!==w,k=j>=hn||M,B=yi(f,y+T,N+T);return k&&B}getCenterPoint(e){const{x:n,y:i,startAngle:o,endAngle:u,innerRadius:f,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:w,spacing:y}=this.options,N=(o+u)/2,A=(f+p+y+w)/2;return{x:n+Math.cos(N)*A,y:i+Math.sin(N)*A}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,o=(n.offset||0)/4,u=(n.spacing||0)/2,f=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>hn?Math.floor(i/hn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const p=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(p)*o,Math.sin(p)*o);const w=1-Math.sin(Math.min(Ut,i||0)),y=o*w;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,pE(e,this,y,u,f),yE(e,this,y,u,f),e.restore()}}function zb(t,e,n=e){t.lineCap=rt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(rt(n.borderDash,e.borderDash)),t.lineDashOffset=rt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=rt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=rt(n.borderWidth,e.borderWidth),t.strokeStyle=rt(n.borderColor,e.borderColor)}function wE(t,e,n){t.lineTo(n.x,n.y)}function _E(t){return t.stepped?z3:t.tension||t.cubicInterpolationMode==="monotone"?F3:wE}function Fb(t,e,n={}){const i=t.length,{start:o=0,end:u=i-1}=n,{start:f,end:p}=e,w=Math.max(o,f),y=Math.min(u,p),N=o<f&&u<f||o>p&&u>p;return{count:i,start:w,loop:e.loop,ilen:y<w&&!N?i+y-w:y-w}}function vE(t,e,n,i){const{points:o,options:u}=e,{count:f,start:p,loop:w,ilen:y}=Fb(o,n,i),N=_E(u);let{move:A=!0,reverse:T}=i||{},j,M,k;for(j=0;j<=y;++j)M=o[(p+(T?y-j:j))%f],!M.skip&&(A?(t.moveTo(M.x,M.y),A=!1):N(t,k,M,T,u.stepped),k=M);return w&&(M=o[(p+(T?y:0))%f],N(t,k,M,T,u.stepped)),!!w}function NE(t,e,n,i){const o=e.points,{count:u,start:f,ilen:p}=Fb(o,n,i),{move:w=!0,reverse:y}=i||{};let N=0,A=0,T,j,M,k,B,F;const H=K=>(f+(y?p-K:K))%u,G=()=>{k!==B&&(t.lineTo(N,B),t.lineTo(N,k),t.lineTo(N,F))};for(w&&(j=o[H(0)],t.moveTo(j.x,j.y)),T=0;T<=p;++T){if(j=o[H(T)],j.skip)continue;const K=j.x,$=j.y,te=K|0;te===M?($<k?k=$:$>B&&(B=$),N=(A*N+K)/++A):(G(),t.lineTo(K,$),M=te,A=0,k=B=$),F=$}G()}function lm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?NE:vE}function AE(t){return t.stepped?y4:t.tension||t.cubicInterpolationMode==="monotone"?b4:Zr}function SE(t,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),zb(t,e.options),t.stroke(o)}function CE(t,e,n,i){const{segments:o,options:u}=e,f=lm(e);for(const p of o)zb(t,u,p.style),t.beginPath(),f(t,e,p,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const EE=typeof Path2D=="function";function TE(t,e,n,i){EE&&!e.options.segment?SE(t,e,n,i):CE(t,e,n,i)}class Wc extends Ni{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;u4(this._points,i,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=S4(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,o=e[n],u=this.points,f=Sb(this,{property:n,start:o,end:o});if(!f.length)return;const p=[],w=AE(i);let y,N;for(y=0,N=f.length;y<N;++y){const{start:A,end:T}=f[y],j=u[A],M=u[T];if(j===M){p.push(j);continue}const k=Math.abs((o-j[n])/(M[n]-j[n])),B=w(j,M,k,i.stepped);B[n]=e[n],p.push(B)}return p.length===1?p[0]:p}pathSegment(e,n,i){return lm(this)(e,this,n,i)}path(e,n,i){const o=this.segments,u=lm(this);let f=this._loop;n=n||0,i=i||this.points.length-n;for(const p of o)f&=u(e,this,p,{start:n,end:n+i-1});return!!f}draw(e,n,i,o){const u=this.options||{};(this.points||[]).length&&u.borderWidth&&(e.save(),TE(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function f2(t,e,n,i){const o=t.options,{[n]:u}=t.getProps([n],i);return Math.abs(e-u)<o.radius+o.hitRadius}class Ub extends Ni{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const o=this.options,{x:u,y:f}=this.getProps(["x","y"],i);return Math.pow(e-u,2)+Math.pow(n-f,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return f2(this,e,"x",n)}inYRange(e,n){return f2(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Ic(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,sm(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Hb(t,e){const{x:n,y:i,base:o,width:u,height:f}=t.getProps(["x","y","base","width","height"],e);let p,w,y,N,A;return t.horizontal?(A=f/2,p=Math.min(n,o),w=Math.max(n,o),y=i-A,N=i+A):(A=u/2,p=n-A,w=n+A,y=Math.min(i,o),N=Math.max(i,o)),{left:p,top:y,right:w,bottom:N}}function fr(t,e,n,i){return t?0:$n(e,n,i)}function jE(t,e,n){const i=t.options.borderWidth,o=t.borderSkipped,u=gb(i);return{t:fr(o.top,u.top,0,n),r:fr(o.right,u.right,0,e),b:fr(o.bottom,u.bottom,0,n),l:fr(o.left,u.left,0,e)}}function ME(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,u=Jl(o),f=Math.min(e,n),p=t.borderSkipped,w=i||xt(o);return{topLeft:fr(!w||p.top||p.left,u.topLeft,0,f),topRight:fr(!w||p.top||p.right,u.topRight,0,f),bottomLeft:fr(!w||p.bottom||p.left,u.bottomLeft,0,f),bottomRight:fr(!w||p.bottom||p.right,u.bottomRight,0,f)}}function DE(t){const e=Hb(t),n=e.right-e.left,i=e.bottom-e.top,o=jE(t,n/2,i/2),u=ME(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:u},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,u.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,u.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,u.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,u.bottomRight-Math.max(o.b,o.r))}}}}function I0(t,e,n,i){const o=e===null,u=n===null,p=t&&!(o&&u)&&Hb(t,i);return p&&(o||yi(e,p.left,p.right))&&(u||yi(n,p.top,p.bottom))}function kE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function IE(t,e){t.rect(e.x,e.y,e.w,e.h)}function O0(t,e,n={}){const i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,u=(t.x+t.w!==n.x+n.w?e:0)-i,f=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+u,h:t.h+f,radius:t.radius}}class OE extends Ni{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:u,outer:f}=DE(this),p=kE(f.radius)?Gd:IE;e.save(),(f.w!==u.w||f.h!==u.h)&&(e.beginPath(),p(e,O0(f,n,u)),e.clip(),p(e,O0(u,-n,f)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),p(e,O0(u,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return I0(this,e,n,i)}inXRange(e,n){return I0(this,e,null,n)}inYRange(e,n){return I0(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:o,horizontal:u}=this.getProps(["x","y","base","horizontal"],e);return{x:u?(n+o)/2:n,y:u?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function RE(t,e,n){const i=t.segments,o=t.points,u=e.points,f=[];for(const p of i){let{start:w,end:y}=p;y=hh(w,y,o);const N=om(n,o[w],o[y],p.loop);if(!e.segments){f.push({source:p,target:N,start:o[w],end:o[y]});continue}const A=Sb(e,N);for(const T of A){const j=om(n,u[T.start],u[T.end],T.loop),M=Ab(p,o,j);for(const k of M)f.push({source:k,target:T,start:{[n]:m2(N,j,"start",Math.max)},end:{[n]:m2(N,j,"end",Math.min)}})}}return f}function om(t,e,n,i){if(i)return;let o=e[t],u=n[t];return t==="angle"&&(o=za(o),u=za(u)),{property:t,start:o,end:u}}function LE(t,e){const{x:n=null,y:i=null}=t||{},o=e.points,u=[];return e.segments.forEach(({start:f,end:p})=>{p=hh(f,p,o);const w=o[f],y=o[p];i!==null?(u.push({x:w.x,y:i}),u.push({x:y.x,y:i})):n!==null&&(u.push({x:n,y:w.y}),u.push({x:n,y:y.y}))}),u}function hh(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function m2(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Vb(t,e){let n=[],i=!1;return Dn(t)?(i=!0,n=t):n=LE(t,e),n.length?new Wc({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function g2(t){return t&&t.fill!==!1}function BE(t,e,n){let o=t[e].fill;const u=[e];let f;if(!n)return o;for(;o!==!1&&u.indexOf(o)===-1;){if(!ta(o))return o;if(f=t[o],!f)return!1;if(f.visible)return o;u.push(o),o=f.fill}return!1}function PE(t,e,n){const i=HE(t);if(xt(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return ta(o)&&Math.floor(o)===o?zE(i[0],e,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function zE(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function FE(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:xt(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function UE(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:xt(t)?i=t.value:i=e.getBaseValue(),i}function HE(t){const e=t.options,n=e.fill;let i=rt(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function VE(t){const{scale:e,index:n,line:i}=t,o=[],u=i.segments,f=i.points,p=YE(e,n);p.push(Vb({x:null,y:e.bottom},i));for(let w=0;w<u.length;w++){const y=u[w];for(let N=y.start;N<=y.end;N++)GE(o,f[N],p)}return new Wc({points:o,options:{}})}function YE(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const u=i[o];if(u.index===e)break;u.hidden||n.unshift(u.dataset)}return n}function GE(t,e,n){const i=[];for(let o=0;o<n.length;o++){const u=n[o],{first:f,last:p,point:w}=WE(u,e,"x");if(!(!w||f&&p)){if(f)i.unshift(w);else if(t.push(w),!p)break}}t.push(...i)}function WE(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const o=i[n],u=t.segments,f=t.points;let p=!1,w=!1;for(let y=0;y<u.length;y++){const N=u[y],A=f[N.start][n],T=f[N.end][n];if(yi(o,A,T)){p=o===A,w=o===T;break}}return{first:p,last:w,point:i}}class Yb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:o,y:u,radius:f}=this;return n=n||{start:0,end:hn},e.arc(o,u,f,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:o}=this,u=e.angle;return{x:n+Math.cos(u)*o,y:i+Math.sin(u)*o,angle:u}}}function XE(t){const{chart:e,fill:n,line:i}=t;if(ta(n))return qE(e,n);if(n==="stack")return VE(t);if(n==="shape")return!0;const o=KE(t);return o instanceof Yb?o:Vb(o,i)}function qE(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function KE(t){return(t.scale||{}).getPointPositionForValue?QE(t):ZE(t)}function ZE(t){const{scale:e={},fill:n}=t,i=FE(n,e);if(ta(i)){const o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function QE(t){const{scale:e,fill:n}=t,i=e.options,o=e.getLabels().length,u=i.reverse?e.max:e.min,f=UE(n,e,u),p=[];if(i.grid.circular){const w=e.getPointPositionForValue(0,u);return new Yb({x:w.x,y:w.y,radius:e.getDistanceFromCenterForValue(f)})}for(let w=0;w<o;++w)p.push(e.getPointPositionForValue(w,f));return p}function R0(t,e,n){const i=XE(e),{chart:o,index:u,line:f,scale:p,axis:w}=e,y=f.options,N=y.fill,A=y.backgroundColor,{above:T=A,below:j=A}=N||{},M=o.getDatasetMeta(u),k=Cb(o,M);i&&f.points.length&&(lh(t,n),JE(t,{line:f,target:i,above:T,below:j,area:n,scale:p,axis:w,clip:k}),oh(t))}function JE(t,e){const{line:n,target:i,above:o,below:u,area:f,scale:p,clip:w}=e,y=n._loop?"angle":e.axis;t.save();let N=u;u!==o&&(y==="x"?(x2(t,i,f.top),L0(t,{line:n,target:i,color:o,scale:p,property:y,clip:w}),t.restore(),t.save(),x2(t,i,f.bottom)):y==="y"&&(p2(t,i,f.left),L0(t,{line:n,target:i,color:u,scale:p,property:y,clip:w}),t.restore(),t.save(),p2(t,i,f.right),N=o)),L0(t,{line:n,target:i,color:N,scale:p,property:y,clip:w}),t.restore()}function x2(t,e,n){const{segments:i,points:o}=e;let u=!0,f=!1;t.beginPath();for(const p of i){const{start:w,end:y}=p,N=o[w],A=o[hh(w,y,o)];u?(t.moveTo(N.x,N.y),u=!1):(t.lineTo(N.x,n),t.lineTo(N.x,N.y)),f=!!e.pathSegment(t,p,{move:f}),f?t.closePath():t.lineTo(A.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function p2(t,e,n){const{segments:i,points:o}=e;let u=!0,f=!1;t.beginPath();for(const p of i){const{start:w,end:y}=p,N=o[w],A=o[hh(w,y,o)];u?(t.moveTo(N.x,N.y),u=!1):(t.lineTo(n,N.y),t.lineTo(N.x,N.y)),f=!!e.pathSegment(t,p,{move:f}),f?t.closePath():t.lineTo(n,A.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function L0(t,e){const{line:n,target:i,property:o,color:u,scale:f,clip:p}=e,w=RE(n,i,o);for(const{source:y,target:N,start:A,end:T}of w){const{style:{backgroundColor:j=u}={}}=y,M=i!==!0;t.save(),t.fillStyle=j,$E(t,f,p,M&&om(o,A,T)),t.beginPath();const k=!!n.pathSegment(t,y);let B;if(M){k?t.closePath():y2(t,i,T,o);const F=!!i.pathSegment(t,N,{move:k,reverse:!0});B=k&&F,B||y2(t,i,A,o)}t.closePath(),t.fill(B?"evenodd":"nonzero"),t.restore()}}function $E(t,e,n,i){const o=e.chart.chartArea,{property:u,start:f,end:p}=i||{};if(u==="x"||u==="y"){let w,y,N,A;u==="x"?(w=f,y=o.top,N=p,A=o.bottom):(w=o.left,y=f,N=o.right,A=p),t.beginPath(),n&&(w=Math.max(w,n.left),N=Math.min(N,n.right),y=Math.max(y,n.top),A=Math.min(A,n.bottom)),t.rect(w,y,N-w,A-y),t.clip()}}function y2(t,e,n,i){const o=e.interpolate(n,i);o&&t.lineTo(o.x,o.y)}var Gb={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,o=[];let u,f,p,w;for(f=0;f<i;++f)u=t.getDatasetMeta(f),p=u.dataset,w=null,p&&p.options&&p instanceof Wc&&(w={visible:t.isDatasetVisible(f),index:f,fill:PE(p,f,i),chart:t,axis:u.controller.options.indexAxis,scale:u.vScale,line:p}),u.$filler=w,o.push(w);for(f=0;f<i;++f)w=o[f],!(!w||w.fill===!1)&&(w.fill=BE(o,f,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),u=t.chartArea;for(let f=o.length-1;f>=0;--f){const p=o[f].$filler;p&&(p.line.updateControlPoints(u,p.axis),i&&p.fill&&R0(t.ctx,p,u))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const u=i[o].$filler;g2(u)&&R0(t.ctx,u,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!g2(i)||n.drawTime!=="beforeDatasetDraw"||R0(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const b2=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},eT=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class w2 extends Ni{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=sn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=ea(i.font),u=o.size,f=this._computeTitleHeight(),{boxWidth:p,itemHeight:w}=b2(i,u);let y,N;n.font=o.string,this.isHorizontal()?(y=this.maxWidth,N=this._fitRows(f,u,p,w)+10):(N=this.maxHeight,y=this._fitCols(f,o,p,w)+10),this.width=Math.min(y,e.maxWidth||this.maxWidth),this.height=Math.min(N,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:u,maxWidth:f,options:{labels:{padding:p}}}=this,w=this.legendHitBoxes=[],y=this.lineWidths=[0],N=o+p;let A=e;u.textAlign="left",u.textBaseline="middle";let T=-1,j=-N;return this.legendItems.forEach((M,k)=>{const B=i+n/2+u.measureText(M.text).width;(k===0||y[y.length-1]+B+2*p>f)&&(A+=N,y[y.length-(k>0?0:1)]=0,j+=N,T++),w[k]={left:0,top:j,row:T,width:B,height:o},y[y.length-1]+=B+p}),A}_fitCols(e,n,i,o){const{ctx:u,maxHeight:f,options:{labels:{padding:p}}}=this,w=this.legendHitBoxes=[],y=this.columnSizes=[],N=f-e;let A=p,T=0,j=0,M=0,k=0;return this.legendItems.forEach((B,F)=>{const{itemWidth:H,itemHeight:G}=tT(i,n,u,B,o);F>0&&j+G+2*p>N&&(A+=T+p,y.push({width:T,height:j}),M+=T+p,k++,T=j=0),w[F]={left:M,top:j,col:k,width:H,height:G},T=Math.max(T,H),j+=G+p}),A+=T,y.push({width:T,height:j}),A}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:u}}=this,f=$l(u,this.left,this.width);if(this.isHorizontal()){let p=0,w=Jn(i,this.left+o,this.right-this.lineWidths[p]);for(const y of n)p!==y.row&&(p=y.row,w=Jn(i,this.left+o,this.right-this.lineWidths[p])),y.top+=this.top+e+o,y.left=f.leftForLtr(f.x(w),y.width),w+=y.width+o}else{let p=0,w=Jn(i,this.top+e+o,this.bottom-this.columnSizes[p].height);for(const y of n)y.col!==p&&(p=y.col,w=Jn(i,this.top+e+o,this.bottom-this.columnSizes[p].height)),y.top=w,y.left+=this.left+o,y.left=f.leftForLtr(f.x(y.left),y.width),w+=y.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lh(e,this),this._draw(),oh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:u,labels:f}=e,p=An.color,w=$l(e.rtl,this.left,this.width),y=ea(f.font),{padding:N}=f,A=y.size,T=A/2;let j;this.drawTitle(),o.textAlign=w.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=y.string;const{boxWidth:M,boxHeight:k,itemHeight:B}=b2(f,A),F=function(te,Y,ne){if(isNaN(M)||M<=0||isNaN(k)||k<0)return;o.save();const q=rt(ne.lineWidth,1);if(o.fillStyle=rt(ne.fillStyle,p),o.lineCap=rt(ne.lineCap,"butt"),o.lineDashOffset=rt(ne.lineDashOffset,0),o.lineJoin=rt(ne.lineJoin,"miter"),o.lineWidth=q,o.strokeStyle=rt(ne.strokeStyle,p),o.setLineDash(rt(ne.lineDash,[])),f.usePointStyle){const we={radius:k*Math.SQRT2/2,pointStyle:ne.pointStyle,rotation:ne.rotation,borderWidth:q},Ae=w.xPlus(te,M/2),me=Y+T;mb(o,we,Ae,me,f.pointStyleWidth&&M)}else{const we=Y+Math.max((A-k)/2,0),Ae=w.leftForLtr(te,M),me=Jl(ne.borderRadius);o.beginPath(),Object.values(me).some(Re=>Re!==0)?Gd(o,{x:Ae,y:we,w:M,h:k,radius:me}):o.rect(Ae,we,M,k),o.fill(),q!==0&&o.stroke()}o.restore()},H=function(te,Y,ne){Oc(o,ne.text,te,Y+B/2,y,{strikethrough:ne.hidden,textAlign:w.textAlign(ne.textAlign)})},G=this.isHorizontal(),K=this._computeTitleHeight();G?j={x:Jn(u,this.left+N,this.right-i[0]),y:this.top+N+K,line:0}:j={x:this.left+N,y:Jn(u,this.top+K+N,this.bottom-n[0].height),line:0},_b(this.ctx,e.textDirection);const $=B+N;this.legendItems.forEach((te,Y)=>{o.strokeStyle=te.fontColor,o.fillStyle=te.fontColor;const ne=o.measureText(te.text).width,q=w.textAlign(te.textAlign||(te.textAlign=f.textAlign)),we=M+T+ne;let Ae=j.x,me=j.y;w.setWidth(this.width),G?Y>0&&Ae+we+N>this.right&&(me=j.y+=$,j.line++,Ae=j.x=Jn(u,this.left+N,this.right-i[j.line])):Y>0&&me+$>this.bottom&&(Ae=j.x=Ae+n[j.line].width+N,j.line++,me=j.y=Jn(u,this.top+K+N,this.bottom-n[j.line].height));const Re=w.x(Ae);if(F(Re,me,te),Ae=C3(q,Ae+M+T,G?Ae+we:this.right,e.rtl),H(w.x(Ae),me,te),G)j.x+=we+N;else if(typeof te.text!="string"){const et=y.lineHeight;j.y+=Wb(te,et)+N}else j.y+=$}),vb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ea(n.font),o=ss(n.padding);if(!n.display)return;const u=$l(e.rtl,this.left,this.width),f=this.ctx,p=n.position,w=i.size/2,y=o.top+w;let N,A=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),N=this.top+y,A=Jn(e.align,A,this.right-T);else{const M=this.columnSizes.reduce((k,B)=>Math.max(k,B.height),0);N=y+Jn(e.align,this.top,this.bottom-M-e.labels.padding-this._computeTitleHeight())}const j=Jn(p,A,A+T);f.textAlign=u.textAlign(Dm(p)),f.textBaseline="middle",f.strokeStyle=n.color,f.fillStyle=n.color,f.font=i.string,Oc(f,n.text,j,N,i)}_computeTitleHeight(){const e=this.options.title,n=ea(e.font),i=ss(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,u;if(yi(e,this.left,this.right)&&yi(n,this.top,this.bottom)){for(u=this.legendHitBoxes,i=0;i<u.length;++i)if(o=u[i],yi(e,o.left,o.left+o.width)&&yi(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!sT(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,u=eT(o,i);o&&!u&&sn(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!u&&sn(n.onHover,[e,i,this],this)}else i&&sn(n.onClick,[e,i,this],this)}}function tT(t,e,n,i,o){const u=nT(i,t,e,n),f=aT(o,i,e.lineHeight);return{itemWidth:u,itemHeight:f}}function nT(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((u,f)=>u.length>f.length?u:f)),e+n.size/2+i.measureText(o).width}function aT(t,e,n){let i=t;return typeof e.text!="string"&&(i=Wb(e,n)),i}function Wb(t,e){const n=t.text?t.text.length:0;return e*n}function sT(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fh={id:"legend",_element:w2,start(t,e,n){const i=t.legend=new w2({ctx:t.ctx,options:n,chart:t});ns.configure(t,i,n),ns.addBox(t,i)},stop(t){ns.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ns.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:u,useBorderRadius:f,borderRadius:p}}=t.legend.options;return t._getSortedDatasetMetas().map(w=>{const y=w.controller.getStyle(n?0:void 0),N=ss(y.borderWidth);return{text:e[w.index].label,fillStyle:y.backgroundColor,fontColor:u,hidden:!w.visible,lineCap:y.borderCapStyle,lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:(N.width+N.height)/4,strokeStyle:y.borderColor,pointStyle:i||y.pointStyle,rotation:y.rotation,textAlign:o||y.textAlign,borderRadius:f&&(p||y.borderRadius),datasetIndex:w.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Xb extends Ni{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=Dn(i.text)?i.text.length:1;this._padding=ss(i.padding);const u=o*ea(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=u:this.width=u}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:u,options:f}=this,p=f.align;let w=0,y,N,A;return this.isHorizontal()?(N=Jn(p,i,u),A=n+e,y=u-i):(f.position==="left"?(N=i+e,A=Jn(p,o,n),w=Ut*-.5):(N=u-e,A=Jn(p,n,o),w=Ut*.5),y=o-n),{titleX:N,titleY:A,maxWidth:y,rotation:w}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ea(n.font),u=i.lineHeight/2+this._padding.top,{titleX:f,titleY:p,maxWidth:w,rotation:y}=this._drawArgs(u);Oc(e,n.text,0,0,i,{color:n.color,maxWidth:w,rotation:y,textAlign:Dm(n.align),textBaseline:"middle",translation:[f,p]})}}function iT(t,e){const n=new Xb({ctx:t.ctx,options:e,chart:t});ns.configure(t,n,e),ns.addBox(t,n),t.titleBlock=n}var Um={id:"title",_element:Xb,start(t,e,n){iT(t,n)},stop(t){const e=t.titleBlock;ns.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ns.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bc={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,u=0;for(e=0,n=t.length;e<n;++e){const p=t[e].element;if(p&&p.hasValue()){const w=p.tooltipPosition();i.add(w.x),o+=w.y,++u}}return u===0||i.size===0?!1:{x:[...i].reduce((p,w)=>p+w)/i.size,y:o/u}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,u,f,p;for(u=0,f=t.length;u<f;++u){const w=t[u].element;if(w&&w.hasValue()){const y=w.getCenterPoint(),N=nm(e,y);N<o&&(o=N,p=w)}}if(p){const w=p.tooltipPosition();n=w.x,i=w.y}return{x:n,y:i}}};function Rs(t,e){return e&&(Dn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function gi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function rT(t,e){const{element:n,datasetIndex:i,index:o}=e,u=t.getDatasetMeta(i).controller,{label:f,value:p}=u.getLabelAndValue(o);return{chart:t,label:f,parsed:u.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:p,dataset:u.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function _2(t,e){const n=t.chart.ctx,{body:i,footer:o,title:u}=t,{boxWidth:f,boxHeight:p}=e,w=ea(e.bodyFont),y=ea(e.titleFont),N=ea(e.footerFont),A=u.length,T=o.length,j=i.length,M=ss(e.padding);let k=M.height,B=0,F=i.reduce((K,$)=>K+$.before.length+$.lines.length+$.after.length,0);if(F+=t.beforeBody.length+t.afterBody.length,A&&(k+=A*y.lineHeight+(A-1)*e.titleSpacing+e.titleMarginBottom),F){const K=e.displayColors?Math.max(p,w.lineHeight):w.lineHeight;k+=j*K+(F-j)*w.lineHeight+(F-1)*e.bodySpacing}T&&(k+=e.footerMarginTop+T*N.lineHeight+(T-1)*e.footerSpacing);let H=0;const G=function(K){B=Math.max(B,n.measureText(K).width+H)};return n.save(),n.font=y.string,Ft(t.title,G),n.font=w.string,Ft(t.beforeBody.concat(t.afterBody),G),H=e.displayColors?f+2+e.boxPadding:0,Ft(i,K=>{Ft(K.before,G),Ft(K.lines,G),Ft(K.after,G)}),H=0,n.font=N.string,Ft(t.footer,G),n.restore(),B+=M.width,{width:B,height:k}}function lT(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function oT(t,e,n,i){const{x:o,width:u}=i,f=n.caretSize+n.caretPadding;if(t==="left"&&o+u+f>e.width||t==="right"&&o-u-f<0)return!0}function cT(t,e,n,i){const{x:o,width:u}=n,{width:f,chartArea:{left:p,right:w}}=t;let y="center";return i==="center"?y=o<=(p+w)/2?"left":"right":o<=u/2?y="left":o>=f-u/2&&(y="right"),oT(y,t,e,n)&&(y="center"),y}function v2(t,e,n){const i=n.yAlign||e.yAlign||lT(t,n);return{xAlign:n.xAlign||e.xAlign||cT(t,e,n,i),yAlign:i}}function uT(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function dT(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function N2(t,e,n,i){const{caretSize:o,caretPadding:u,cornerRadius:f}=t,{xAlign:p,yAlign:w}=n,y=o+u,{topLeft:N,topRight:A,bottomLeft:T,bottomRight:j}=Jl(f);let M=uT(e,p);const k=dT(e,w,y);return w==="center"?p==="left"?M+=y:p==="right"&&(M-=y):p==="left"?M-=Math.max(N,T)+o:p==="right"&&(M+=Math.max(A,j)+o),{x:$n(M,0,i.width-e.width),y:$n(k,0,i.height-e.height)}}function Sd(t,e,n){const i=ss(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function A2(t){return Rs([],gi(t))}function hT(t,e,n){return nl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function S2(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const qb={beforeTitle:hi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:hi,beforeBody:hi,beforeLabel:hi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return It(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:hi,afterBody:hi,beforeFooter:hi,footer:hi,afterFooter:hi};function _a(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?qb[e].call(n,i):o}class C2 extends Ni{static positioners=bc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,u=new Eb(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=hT(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=_a(i,"beforeTitle",this,e),u=_a(i,"title",this,e),f=_a(i,"afterTitle",this,e);let p=[];return p=Rs(p,gi(o)),p=Rs(p,gi(u)),p=Rs(p,gi(f)),p}getBeforeBody(e,n){return A2(_a(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return Ft(e,u=>{const f={before:[],lines:[],after:[]},p=S2(i,u);Rs(f.before,gi(_a(p,"beforeLabel",this,u))),Rs(f.lines,_a(p,"label",this,u)),Rs(f.after,gi(_a(p,"afterLabel",this,u))),o.push(f)}),o}getAfterBody(e,n){return A2(_a(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=_a(i,"beforeFooter",this,e),u=_a(i,"footer",this,e),f=_a(i,"afterFooter",this,e);let p=[];return p=Rs(p,gi(o)),p=Rs(p,gi(u)),p=Rs(p,gi(f)),p}_createItems(e){const n=this._active,i=this.chart.data,o=[],u=[],f=[];let p=[],w,y;for(w=0,y=n.length;w<y;++w)p.push(rT(this.chart,n[w]));return e.filter&&(p=p.filter((N,A,T)=>e.filter(N,A,T,i))),e.itemSort&&(p=p.sort((N,A)=>e.itemSort(N,A,i))),Ft(p,N=>{const A=S2(e.callbacks,N);o.push(_a(A,"labelColor",this,N)),u.push(_a(A,"labelPointStyle",this,N)),f.push(_a(A,"labelTextColor",this,N))}),this.labelColors=o,this.labelPointStyles=u,this.labelTextColors=f,this.dataPoints=p,p}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let u,f=[];if(!o.length)this.opacity!==0&&(u={opacity:0});else{const p=bc[i.position].call(this,o,this._eventPosition);f=this._createItems(i),this.title=this.getTitle(f,i),this.beforeBody=this.getBeforeBody(f,i),this.body=this.getBody(f,i),this.afterBody=this.getAfterBody(f,i),this.footer=this.getFooter(f,i);const w=this._size=_2(this,i),y=Object.assign({},p,w),N=v2(this.chart,i,y),A=N2(i,y,N,this.chart);this.xAlign=N.xAlign,this.yAlign=N.yAlign,u={opacity:1,x:A.x,y:A.y,width:w.width,height:w.height,caretX:p.x,caretY:p.y}}this._tooltipItems=f,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const u=this.getCaretPosition(e,i,o);n.lineTo(u.x1,u.y1),n.lineTo(u.x2,u.y2),n.lineTo(u.x3,u.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:u}=this,{caretSize:f,cornerRadius:p}=i,{topLeft:w,topRight:y,bottomLeft:N,bottomRight:A}=Jl(p),{x:T,y:j}=e,{width:M,height:k}=n;let B,F,H,G,K,$;return u==="center"?(K=j+k/2,o==="left"?(B=T,F=B-f,G=K+f,$=K-f):(B=T+M,F=B+f,G=K-f,$=K+f),H=B):(o==="left"?F=T+Math.max(w,N)+f:o==="right"?F=T+M-Math.max(y,A)-f:F=this.caretX,u==="top"?(G=j,K=G-f,B=F-f,H=F+f):(G=j+k,K=G+f,B=F+f,H=F-f),$=G),{x1:B,x2:F,x3:H,y1:G,y2:K,y3:$}}drawTitle(e,n,i){const o=this.title,u=o.length;let f,p,w;if(u){const y=$l(i.rtl,this.x,this.width);for(e.x=Sd(this,i.titleAlign,i),n.textAlign=y.textAlign(i.titleAlign),n.textBaseline="middle",f=ea(i.titleFont),p=i.titleSpacing,n.fillStyle=i.titleColor,n.font=f.string,w=0;w<u;++w)n.fillText(o[w],y.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+p,w+1===u&&(e.y+=i.titleMarginBottom-p)}}_drawColorBox(e,n,i,o,u){const f=this.labelColors[i],p=this.labelPointStyles[i],{boxHeight:w,boxWidth:y}=u,N=ea(u.bodyFont),A=Sd(this,"left",u),T=o.x(A),j=w<N.lineHeight?(N.lineHeight-w)/2:0,M=n.y+j;if(u.usePointStyle){const k={radius:Math.min(y,w)/2,pointStyle:p.pointStyle,rotation:p.rotation,borderWidth:1},B=o.leftForLtr(T,y)+y/2,F=M+w/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,sm(e,k,B,F),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,sm(e,k,B,F)}else{e.lineWidth=xt(f.borderWidth)?Math.max(...Object.values(f.borderWidth)):f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const k=o.leftForLtr(T,y),B=o.leftForLtr(o.xPlus(T,1),y-2),F=Jl(f.borderRadius);Object.values(F).some(H=>H!==0)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,Gd(e,{x:k,y:M,w:y,h:w,radius:F}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),Gd(e,{x:B,y:M+1,w:y-2,h:w-2,radius:F}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(k,M,y,w),e.strokeRect(k,M,y,w),e.fillStyle=f.backgroundColor,e.fillRect(B,M+1,y-2,w-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:u,bodyAlign:f,displayColors:p,boxHeight:w,boxWidth:y,boxPadding:N}=i,A=ea(i.bodyFont);let T=A.lineHeight,j=0;const M=$l(i.rtl,this.x,this.width),k=function(ne){n.fillText(ne,M.x(e.x+j),e.y+T/2),e.y+=T+u},B=M.textAlign(f);let F,H,G,K,$,te,Y;for(n.textAlign=f,n.textBaseline="middle",n.font=A.string,e.x=Sd(this,B,i),n.fillStyle=i.bodyColor,Ft(this.beforeBody,k),j=p&&B!=="right"?f==="center"?y/2+N:y+2+N:0,K=0,te=o.length;K<te;++K){for(F=o[K],H=this.labelTextColors[K],n.fillStyle=H,Ft(F.before,k),G=F.lines,p&&G.length&&(this._drawColorBox(n,e,K,M,i),T=Math.max(A.lineHeight,w)),$=0,Y=G.length;$<Y;++$)k(G[$]),T=A.lineHeight;Ft(F.after,k)}j=0,T=A.lineHeight,Ft(this.afterBody,k),e.y-=u}drawFooter(e,n,i){const o=this.footer,u=o.length;let f,p;if(u){const w=$l(i.rtl,this.x,this.width);for(e.x=Sd(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=w.textAlign(i.footerAlign),n.textBaseline="middle",f=ea(i.footerFont),n.fillStyle=i.footerColor,n.font=f.string,p=0;p<u;++p)n.fillText(o[p],w.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:u,yAlign:f}=this,{x:p,y:w}=e,{width:y,height:N}=i,{topLeft:A,topRight:T,bottomLeft:j,bottomRight:M}=Jl(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(p+A,w),f==="top"&&this.drawCaret(e,n,i,o),n.lineTo(p+y-T,w),n.quadraticCurveTo(p+y,w,p+y,w+T),f==="center"&&u==="right"&&this.drawCaret(e,n,i,o),n.lineTo(p+y,w+N-M),n.quadraticCurveTo(p+y,w+N,p+y-M,w+N),f==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(p+j,w+N),n.quadraticCurveTo(p,w+N,p,w+N-j),f==="center"&&u==="left"&&this.drawCaret(e,n,i,o),n.lineTo(p,w+A),n.quadraticCurveTo(p,w,p+A,w),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,u=i&&i.y;if(o||u){const f=bc[e.position].call(this,this._active,this._eventPosition);if(!f)return;const p=this._size=_2(this,e),w=Object.assign({},f,this._size),y=v2(n,e,w),N=N2(e,w,y,n);(o._to!==N.x||u._to!==N.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=p.width,this.height=p.height,this.caretX=f.x,this.caretY=f.y,this._resolveAnimations().update(this,N))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},u={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const f=ss(n.padding),p=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&p&&(e.save(),e.globalAlpha=i,this.drawBackground(u,e,o,n),_b(e,n.textDirection),u.y+=f.top,this.drawTitle(u,e,n),this.drawBody(u,e,n),this.drawFooter(u,e,n),vb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:p,index:w})=>{const y=this.chart.getDatasetMeta(p);if(!y)throw new Error("Cannot find a dataset at index "+p);return{datasetIndex:p,element:y.data[w],index:w}}),u=!Hd(i,o),f=this._positionChanged(o,n);(u||f)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,u=this._active||[],f=this._getActiveElements(e,u,n,i),p=this._positionChanged(f,e),w=n||!Hd(f,u)||p;return w&&(this._active=f,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),w}_getActiveElements(e,n,i,o){const u=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(p=>this.chart.data.datasets[p.datasetIndex]&&this.chart.getDatasetMeta(p.datasetIndex).controller.getParsed(p.index)!==void 0);const f=this.chart.getElementsAtEventForMode(e,u.mode,u,i);return u.reverse&&f.reverse(),f}_positionChanged(e,n){const{caretX:i,caretY:o,options:u}=this,f=bc[u.position].call(this,e,n);return f!==!1&&(i!==f.x||o!==f.y)}}var mh={id:"tooltip",_element:C2,positioners:bc,afterInit(t,e,n){n&&(t.tooltip=new C2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fT=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function mT(t,e,n,i){const o=t.indexOf(e);if(o===-1)return fT(t,e,n,i);const u=t.lastIndexOf(e);return o!==u?n:o}const gT=(t,e)=>t===null?null:$n(Math.round(t),0,e);function E2(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Hm extends co{static id="category";static defaults={ticks:{callback:E2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:u}of n)i[o]===u&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(It(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:mT(i,e,rt(n,e),this._addedLabels),gT(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let u=this.getLabels();u=e===0&&n===u.length-1?u:u.slice(e,n+1),this._valueRange=Math.max(u.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let f=e;f<=n;f++)o.push({value:f});return o}getLabelForValue(e){return E2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function xT(t,e){const n=[],{bounds:o,step:u,min:f,max:p,precision:w,count:y,maxTicks:N,maxDigits:A,includeBounds:T}=t,j=u||1,M=N-1,{min:k,max:B}=e,F=!It(f),H=!It(p),G=!It(y),K=(B-k)/(A+1);let $=Np((B-k)/M/j)*j,te,Y,ne,q;if($<1e-14&&!F&&!H)return[{value:k},{value:B}];q=Math.ceil(B/$)-Math.floor(k/$),q>M&&($=Np(q*$/M/j)*j),It(w)||(te=Math.pow(10,w),$=Math.ceil($*te)/te),o==="ticks"?(Y=Math.floor(k/$)*$,ne=Math.ceil(B/$)*$):(Y=k,ne=B),F&&H&&u&&p3((p-f)/u,$/1e3)?(q=Math.round(Math.min((p-f)/$,N)),$=(p-f)/q,Y=f,ne=p):G?(Y=F?f:Y,ne=H?p:ne,q=y-1,$=(ne-Y)/q):(q=(ne-Y)/$,Nc(q,Math.round(q),$/1e3)?q=Math.round(q):q=Math.ceil(q));const we=Math.max(Ap($),Ap(Y));te=Math.pow(10,It(w)?we:w),Y=Math.round(Y*te)/te,ne=Math.round(ne*te)/te;let Ae=0;for(F&&(T&&Y!==f?(n.push({value:f}),Y<f&&Ae++,Nc(Math.round((Y+Ae*$)*te)/te,f,T2(f,K,t))&&Ae++):Y<f&&Ae++);Ae<q;++Ae){const me=Math.round((Y+Ae*$)*te)/te;if(H&&me>p)break;n.push({value:me})}return H&&T&&ne!==p?n.length&&Nc(n[n.length-1].value,p,T2(p,K,t))?n[n.length-1].value=p:n.push({value:p}):(!H||ne===p)&&n.push({value:ne}),n}function T2(t,e,{horizontal:n,minRotation:i}){const o=pi(i),u=(n?Math.sin(o):Math.cos(o))||.001,f=.75*e*(""+t).length;return Math.min(e/u,f)}class pT extends co{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return It(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:u}=this;const f=w=>o=n?o:w,p=w=>u=i?u:w;if(e){const w=Fs(o),y=Fs(u);w<0&&y<0?p(0):w>0&&y>0&&f(0)}if(o===u){let w=u===0?1:Math.abs(u*.05);p(u+w),e||f(o-w)}this.min=o,this.max=u}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},u=this._range||this,f=xT(o,u);return e.bounds==="ticks"&&y3(f,this,"value"),e.reverse?(f.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),f}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Im(e,this.chart.options.locale,this.options.ticks.format)}}class Vm extends pT{static id="linear";static defaults={ticks:{callback:fb.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ta(e)?e:0,this.max=ta(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=pi(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,u=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,u.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const gh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},va=Object.keys(gh);function j2(t,e){return t-e}function M2(t,e){if(It(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:u}=t._parseOpts;let f=e;return typeof i=="function"&&(f=i(f)),ta(f)||(f=typeof i=="string"?n.parse(f,i):n.parse(f)),f===null?null:(o&&(f=o==="week"&&(Dc(u)||u===!0)?n.startOf(f,"isoWeek",u):n.startOf(f,o)),+f)}function D2(t,e,n,i){const o=va.length;for(let u=va.indexOf(t);u<o-1;++u){const f=gh[va[u]],p=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((n-e)/(p*f.size))<=i)return va[u]}return va[o-1]}function yT(t,e,n,i,o){for(let u=va.length-1;u>=va.indexOf(n);u--){const f=va[u];if(gh[f].common&&t._adapter.diff(o,i,f)>=e-1)return f}return va[n?va.indexOf(n):0]}function bT(t){for(let e=va.indexOf(t)+1,n=va.length;e<n;++e)if(gh[va[e]].common)return va[e]}function k2(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=Mm(n,e),u=n[i]>=e?n[i]:n[o];t[u]=!0}}function wT(t,e,n,i){const o=t._adapter,u=+o.startOf(e[0].value,i),f=e[e.length-1].value;let p,w;for(p=u;p<=f;p=+o.add(p,1,i))w=n[p],w>=0&&(e[w].major=!0);return e}function I2(t,e,n){const i=[],o={},u=e.length;let f,p;for(f=0;f<u;++f)p=e[f],o[p]=f,i.push({value:p,major:!1});return u===0||!n?i:wT(t,i,o,n)}class O2 extends co{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new sC._date(e.adapters.date);o.init(n),vc(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:M2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:u,minDefined:f,maxDefined:p}=this.getUserBounds();function w(y){!f&&!isNaN(y.min)&&(o=Math.min(o,y.min)),!p&&!isNaN(y.max)&&(u=Math.max(u,y.max))}(!f||!p)&&(w(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&w(this.getMinMax(!1))),o=ta(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),u=ta(u)&&!isNaN(u)?u:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,u-1),this.max=Math.max(o+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const u=this.min,f=this.max,p=N3(o,u,f);return this._unit=n.unit||(i.autoSkip?D2(n.minUnit,this.min,this.max,this._getLabelCapacity(u)):yT(this,p.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:bT(this._unit),this.initOffsets(o),e.reverse&&p.reverse(),I2(this,p,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,u;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,u=this.getDecimalForValue(e[e.length-1]),e.length===1?i=u:i=(u-this.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;n=$n(n,0,f),i=$n(i,0,f),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,u=o.time,f=u.unit||D2(u.minUnit,n,i,this._getLabelCapacity(n)),p=rt(o.ticks.stepSize,1),w=f==="week"?u.isoWeekday:!1,y=Dc(w)||w===!0,N={};let A=n,T,j;if(y&&(A=+e.startOf(A,"isoWeek",w)),A=+e.startOf(A,y?"day":f),e.diff(i,n,f)>1e5*p)throw new Error(n+" and "+i+" are too far apart with stepSize of "+p+" "+f);const M=o.ticks.source==="data"&&this.getDataTimestamps();for(T=A,j=0;T<i;T=+e.add(T,p,f),j++)k2(N,T,M);return(T===i||o.bounds==="ticks"||j===1)&&k2(N,T,M),Object.keys(N).sort(j2).map(k=>+k)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,u=this._unit,f=n||o[u];return this._adapter.format(e,f)}_tickFormatFunction(e,n,i,o){const u=this.options,f=u.ticks.callback;if(f)return sn(f,[e,n,i],this);const p=u.time.displayFormats,w=this._unit,y=this._majorUnit,N=w&&p[w],A=y&&p[y],T=i[n],j=y&&A&&T&&T.major;return this._adapter.format(e,o||(j?A:N))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=pi(this.isHorizontal()?n.maxRotation:n.minRotation),u=Math.cos(o),f=Math.sin(o),p=this._resolveTickFontOptions(0).size;return{w:i*u+p*f,h:i*f+p*u}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,u=this._tickFormatFunction(e,0,I2(this,[e],this._majorUnit),o),f=this._getLabelSize(u),p=Math.floor(this.isHorizontal()?this.width/f.w:this.height/f.h)-1;return p>0?p:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(M2(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ub(e.sort(j2))}}function Cd(t,e,n){let i=0,o=t.length-1,u,f,p,w;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=Jr(t,"pos",e)),{pos:u,time:p}=t[i],{pos:f,time:w}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=Jr(t,"time",e)),{time:u,pos:p}=t[i],{time:f,pos:w}=t[o]);const y=f-u;return y?p+(w-p)*(e-u)/y:p}class jD extends O2{static id="timeseries";static defaults=O2.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Cd(n,this.min),this._tableRange=Cd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],u=[];let f,p,w,y,N;for(f=0,p=e.length;f<p;++f)y=e[f],y>=n&&y<=i&&o.push(y);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(f=0,p=o.length;f<p;++f)N=o[f+1],w=o[f-1],y=o[f],Math.round((N+w)/2)!==y&&u.push({time:y,pos:f/(p-1)});return u}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,u)=>o-u)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Cd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Cd(this._table,i*this._tableRange+this._minPos,!0)}}const Kb="label";function R2(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _T(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Zb(t,e){t.labels=e}function Qb(t,e,n=Kb){const i=[];t.datasets=e.map(o=>{const u=t.datasets.find(f=>f[n]===o[n]);return!u||!o.data||i.includes(u)?{...o}:(i.push(u),Object.assign(u,o),u)})}function vT(t,e=Kb){const n={labels:[],datasets:[]};return Zb(n,t.labels),Qb(n,t.datasets,e),n}function NT(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:u,type:f,data:p,options:w,plugins:y=[],fallbackContent:N,updateMode:A,...T}=t,j=O.useRef(null),M=O.useRef(null),k=()=>{j.current&&(M.current=new al(j.current,{type:f,data:vT(p,u),options:w&&{...w},plugins:y}),R2(e,M.current))},B=()=>{R2(e,null),M.current&&(M.current.destroy(),M.current=null)};return O.useEffect(()=>{!o&&M.current&&w&&_T(M.current,w)},[o,w]),O.useEffect(()=>{!o&&M.current&&Zb(M.current.config.data,p.labels)},[o,p.labels]),O.useEffect(()=>{!o&&M.current&&p.datasets&&Qb(M.current.config.data,p.datasets,u)},[o,p.datasets]),O.useEffect(()=>{M.current&&(o?(B(),setTimeout(k)):M.current.update(A))},[o,w,p.labels,p.datasets,A]),O.useEffect(()=>{M.current&&(B(),setTimeout(k))},[f]),O.useEffect(()=>(k(),()=>B()),[]),l.jsx("canvas",{ref:j,role:"img",height:n,width:i,...T,children:N})}const AT=O.forwardRef(NT);function Ym(t,e){return al.register(e),O.forwardRef((n,i)=>l.jsx(AT,{...n,ref:i,type:t}))}const Jb=Ym("line",nC),ST=Ym("bar",$4),CT=Ym("pie",aC);al.register(Hm,Vm,Ub,Wc,Um,mh,fh,Gb);const L2=t=>t==null?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),ET=({type:t,flow:e})=>{const n={size:20,className:"text-gray-600"};if(t.includes("TRANSFER")||t.includes("QR"))return e==="KREDIT"?l.jsx(zd,{...n,className:"text-green-600"}):l.jsx(Fd,{...n,className:"text-red-600"});switch(t){case"PEMBELIAN_PRODUK":case"BAYAR_CICILAN":case"TARIK_TUNAI":return l.jsx(Fd,{...n,className:"text-red-600"});case"SETOR_TUNAI":case"PENCAIRAN_PINJAMAN":return l.jsx(zd,{...n,className:"text-green-600"});default:return l.jsx(Yy,{...n})}},TT=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState(null),u=O.useCallback(async()=>{const y=await n("dashboard_summary.php");y&&y.status==="success"&&o(y.data)},[n]);O.useEffect(()=>{u()},[u]);const f=[{icon:l.jsx(Ud,{}),label:"Isi Saldo",path:"/topup"},{icon:l.jsx(Am,{}),label:"Tarik Saldo",path:"/withdrawal"},{icon:l.jsx(WA,{}),label:"Transfer",path:"/transfer"},{icon:l.jsx($y,{}),label:"Bayar QR",path:"/payment"},{icon:l.jsx(UA,{}),label:"Bayar Tagihan",path:"/bills"},{icon:l.jsx(sh,{}),label:"Deposito",path:"/deposits"},{icon:l.jsx(Hc,{}),label:"Pinjaman",path:"/my-loans"},{icon:l.jsx(ih,{}),label:"Investasi",path:"/investments"}],p={labels:i?.weekly_summary?.labels||[],datasets:[{label:"Pemasukan",data:i?.weekly_summary?.pemasukan||[],borderColor:"#1E3A8A",backgroundColor:"rgba(30, 58, 138, 0.1)",tension:.4,fill:!0},{label:"Pengeluaran",data:i?.weekly_summary?.pengeluaran||[],borderColor:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.1)",tension:.4,fill:!0}]},w={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(y){return y>=1e6?(y/1e6).toFixed(1)+" Jt":y>=1e3?y/1e3+" Rb":y}}},x:{grid:{display:!1}}},plugins:{legend:{display:!0,position:"top",align:"end",labels:{boxWidth:12,font:{size:10}}}}};return t&&!i?l.jsx("div",{className:"text-center p-8",children:"Memuat dasbor..."}):e?l.jsxs("div",{className:"text-center p-8 text-red-500",children:["Error: ",e]}):i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-bpn-blue text-white rounded-xl shadow-lg p-6 mb-6 relative overflow-hidden",children:[l.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full"}),l.jsx("div",{className:"absolute -bottom-12 -left-12 w-24 h-24 bg-white/10 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white/80 text-sm",children:"Saldo Anda"}),l.jsx("p",{className:"text-3xl font-bold text-white my-2",children:L2(i.balance)})]}),l.jsxs("div",{className:"flex justify-between items-center mt-4 border-t border-white/20 pt-4",children:[l.jsxs("div",{className:"flex items-center text-white/90",children:[l.jsx(Fc,{size:16,className:"mr-2"}),l.jsx("span",{className:"font-mono text-sm",children:i.account_number})]}),l.jsx(Fe,{to:"/topup",children:l.jsxs(Te,{className:"py-1 px-3 text-xs bg-white/20 hover:bg-white/30 flex items-center gap-1",children:[l.jsx(Ud,{size:14}),"Isi Saldo"]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-4 px-2",children:"Layanan & Fitur"}),l.jsx("div",{className:"grid grid-cols-4 gap-2 text-center",children:f.map(y=>l.jsxs(Fe,{to:y.path,className:"flex flex-col items-center p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-100 text-bpn-blue flex items-center justify-center mb-2 shadow-sm",children:y.icon}),l.jsx("span",{className:"text-xs text-gray-700 font-medium",children:y.label})]},y.label))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Ringkasan Keuangan"}),l.jsx("div",{className:"h-48",children:l.jsx(Jb,{data:p,options:w})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:"Aktivitas Terkini"}),l.jsx(Fe,{to:"/history",className:"text-sm font-semibold text-bpn-blue",children:"Lihat Semua"})]}),l.jsx("div",{className:"space-y-4",children:i.recent_transactions.length>0?i.recent_transactions.map(y=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mr-4",children:l.jsx(ET,{type:y.transaction_type,flow:y.flow})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-gray-800",children:y.description}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(y.created_at).toLocaleDateString("id-ID",{day:"2-digit",month:"long"})})]}),l.jsxs("p",{className:`font-semibold ${y.flow==="KREDIT"?"text-green-600":"text-gray-800"}`,children:[y.flow==="KREDIT"?"+":"-",L2(y.amount)]})]},y.transaction_code)):l.jsx("p",{className:"text-center text-sm text-gray-500 py-4",children:"Belum ada transaksi."})})]})]}):l.jsx("div",{className:"text-center p-8",children:"Gagal memuat data dasbor."})},B0=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),jT=t=>new Date(t).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"}),or=({label:t,value:e,isHighlight:n=!1})=>l.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[l.jsx("span",{className:"text-sm text-gray-500",children:t}),l.jsx("span",{className:`text-sm text-right font-semibold ${n?"text-taskora-green-700":"text-gray-800"}`,children:e||"-"})]}),MT=({transaction:t,onClose:e})=>{if(!t)return null;const n=parseFloat(t.amount||0)+parseFloat(t.fee||0);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm transform transition-all",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Detail Transaksi"}),l.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-100",children:l.jsx(Hs,{size:20})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"text-center my-4",children:[l.jsx("p",{className:"text-3xl font-bold",children:B0(t.amount)}),l.jsx("p",{className:`text-sm font-semibold px-2 py-1 inline-block rounded mt-2 ${t.status==="SUCCESS"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(or,{label:"Jenis Transaksi",value:t.transaction_type.replace(/_/g," ")}),l.jsx(or,{label:"Tanggal & Waktu",value:jT(t.created_at)}),l.jsx(or,{label:"Kode Transaksi",value:t.transaction_code}),l.jsx(or,{label:"Deskripsi",value:t.description}),t.from_user_name&&l.jsx(or,{label:"Dari",value:`${t.from_user_name} (${t.from_account_number})`}),t.to_user_name&&l.jsx(or,{label:"Ke",value:`${t.to_user_name} (${t.to_account_number})`}),l.jsx(or,{label:"Biaya Admin",value:B0(t.fee)}),l.jsx(or,{label:"Total",value:B0(n),isHighlight:!0})]})]}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-b-lg",children:l.jsx("button",{onClick:e,className:"w-full px-4 py-2 text-sm font-semibold bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Tutup"})})]})})},DT=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),kT=t=>new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}),IT=({flow:t})=>{const e={size:20,className:"text-white"},n=t==="KREDIT",i=n?l.jsx(zd,{...e}):l.jsx(Fd,{...e}),o=n?"bg-green-600":"bg-bpn-red";return l.jsx("div",{className:`w-10 h-10 rounded-full ${o} flex items-center justify-center mr-4`,children:i})},OT=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState(1),[p,w]=O.useState(!0),[y,N]=O.useState({startDate:"",endDate:"",type:""}),[A,T]=O.useState(!1),[j,M]=O.useState(null),[k,B]=O.useState(!1),{callApi:F}=ke(),H=O.useCallback(async(Y,ne,q=!1)=>{let we=`user_get_transaction_history.php?page=${Y}&limit=15`;ne.startDate&&ne.endDate&&(we+=`&start_date=${ne.startDate}&end_date=${ne.endDate}`),ne.type&&(we+=`&type=${ne.type}`);const Ae=await n(we);Ae&&Ae.status==="success"&&(o(me=>q?[...me,...Ae.data]:Ae.data),w(Ae.pagination.has_more))},[n]);O.useEffect(()=>{H(1,y)},[y,H]);const G=()=>{const Y=u+1;f(Y),H(Y,y,!0)},K=Y=>{const{name:ne,value:q}=Y.target;N(we=>({...we,[ne]:q}))},$=()=>{f(1),o([]),H(1,y)},te=async Y=>{B(!0);const ne=await F(`user_get_transaction_detail.php?id=${Y}`);ne&&ne.status==="success"?M(ne.data):B(!1)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fe,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:l.jsx(Xt,{size:20})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Riwayat Transaksi"})]}),l.jsx("button",{onClick:()=>T(!A),className:"p-2 rounded-full hover:bg-gray-100",children:l.jsx(qy,{size:20})})]}),A&&l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"date",name:"startDate",value:y.startDate,onChange:K,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-bpn-blue/50"}),l.jsx("input",{type:"date",name:"endDate",value:y.endDate,onChange:K,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-bpn-blue/50"})]}),l.jsxs("select",{name:"type",value:y.type,onChange:K,className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-bpn-blue/50",children:[l.jsx("option",{value:"",children:"Semua Jenis"}),l.jsx("option",{value:"TRANSFER_INTERNAL",children:"Transfer"}),l.jsx("option",{value:"BAYAR_CICILAN",children:"Bayar Pinjaman"}),l.jsx("option",{value:"PEMBELIAN_PRODUK",children:"Pembelian"}),l.jsx("option",{value:"SETOR_TUNAI",children:"Setor Tunai"}),l.jsx("option",{value:"TARIK_TUNAI",children:"Tarik Tunai"})]}),l.jsx(Te,{onClick:$,fullWidth:!0,children:"Terapkan Filter"})]}),l.jsx("div",{className:"space-y-3",children:i.map(Y=>l.jsxs("div",{onClick:()=>te(Y.id),className:"bg-white rounded-lg shadow-md p-4 flex items-center cursor-pointer hover:bg-gray-50 transition-colors",children:[l.jsx(IT,{flow:Y.flow}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-gray-800",children:Y.description}),l.jsx("p",{className:"text-xs text-gray-500",children:kT(Y.created_at)})]}),l.jsxs("p",{className:`font-bold ${Y.flow==="KREDIT"?"text-green-600":"text-bpn-red"}`,children:[Y.flow==="KREDIT"?"+":"-",DT(Y.amount)]})]},Y.id))}),t&&u===1&&l.jsx("p",{className:"text-center mt-4",children:"Memuat..."}),e&&l.jsx("p",{className:"text-center mt-4 text-bpn-red",children:e}),p&&!t&&l.jsx("div",{className:"mt-6",children:l.jsx(Te,{onClick:G,fullWidth:!0,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Muat Lebih Banyak"})})]}),k&&l.jsx(MT,{transaction:j,onClose:()=>B(!1)})]})};var Oe;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Oe||(Oe={}));var B2=new Map([[Oe.QR_CODE,"QR_CODE"],[Oe.AZTEC,"AZTEC"],[Oe.CODABAR,"CODABAR"],[Oe.CODE_39,"CODE_39"],[Oe.CODE_93,"CODE_93"],[Oe.CODE_128,"CODE_128"],[Oe.DATA_MATRIX,"DATA_MATRIX"],[Oe.MAXICODE,"MAXICODE"],[Oe.ITF,"ITF"],[Oe.EAN_13,"EAN_13"],[Oe.EAN_8,"EAN_8"],[Oe.PDF_417,"PDF_417"],[Oe.RSS_14,"RSS_14"],[Oe.RSS_EXPANDED,"RSS_EXPANDED"],[Oe.UPC_A,"UPC_A"],[Oe.UPC_E,"UPC_E"],[Oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),P2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(P2||(P2={}));function RT(t){return Object.values(Oe).includes(t)}var yr;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(yr||(yr={}));var ps=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[yr.SCAN_TYPE_CAMERA,yr.SCAN_TYPE_FILE],t})(),$b=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!B2.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,B2.get(e))},t})(),z2=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),cm;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(cm||(cm={}));var ew=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:cm.UNKWOWN_ERROR}},t})(),tw=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Bs(t){return typeof t>"u"||t===null}function LT(t,e,n){return t>n?n:t<e?e:t}var Zl=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),zt=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),F2=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),nw=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var i=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(o),f=Object.keys(e),p=0,w=f;p<w.length;p++){var y=w[p];if(u.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},t})(),wc={exports:{}},BT=wc.exports,U2;function PT(){return U2||(U2=1,(function(t,e){(function(n,i){i(e)})(BT,(function(n){function i(R){return R==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var c in s)s.hasOwnProperty(c)&&(R[c]=s[c])};function u(R,s){o(R,s);function c(){this.constructor=R}R.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}function f(R,s){var c=Object.setPrototypeOf;c?c(R,s):R.__proto__=s}function p(R,s){s===void 0&&(s=R.constructor);var c=Error.captureStackTrace;c&&c(R,s)}var w=(function(R){u(s,R);function s(c){var d=this.constructor,m=R.call(this,c)||this;return Object.defineProperty(m,"name",{value:d.name,enumerable:!1}),f(m,d.prototype),p(m),m}return s})(Error);class y extends w{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}y.kind="Exception";class N extends y{}N.kind="ArgumentException";class A extends y{}A.kind="IllegalArgumentException";class T{constructor(s){if(this.binarizer=s,s===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,c){return this.binarizer.getBlackRow(s,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,c,d,m){const g=this.binarizer.getLuminanceSource().crop(s,c,d,m);return new T(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class j extends y{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class M{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(s,c,d,m,g){for(;g--;)d[m++]=s[c++]}static currentTimeMillis(){return Date.now()}}class B extends y{}B.kind="IndexOutOfBoundsException";class F extends B{constructor(s=void 0,c=void 0){super(c),this.index=s,this.message=c}}F.kind="ArrayIndexOutOfBoundsException";class H{static fill(s,c){for(let d=0,m=s.length;d<m;d++)s[d]=c}static fillWithin(s,c,d,m){H.rangeCheck(s.length,c,d);for(let g=c;g<d;g++)s[g]=m}static rangeCheck(s,c,d){if(c>d)throw new A("fromIndex("+c+") > toIndex("+d+")");if(c<0)throw new F(c);if(d>s)throw new F(d)}static asList(...s){return s}static create(s,c,d){return Array.from({length:s}).map(g=>Array.from({length:c}).fill(d))}static createInt32Array(s,c,d){return Array.from({length:s}).map(g=>Int32Array.from({length:c}).fill(d))}static equals(s,c){if(!s||!c||!s.length||!c.length||s.length!==c.length)return!1;for(let d=0,m=s.length;d<m;d++)if(s[d]!==c[d])return!1;return!0}static hashCode(s){if(s===null)return 0;let c=1;for(const d of s)c=31*c+d;return c}static fillUint8Array(s,c){for(let d=0;d!==s.length;d++)s[d]=c}static copyOf(s,c){return s.slice(0,c)}static copyOfUint8Array(s,c){if(s.length<=c){const d=new Uint8Array(c);return d.set(s),d}return s.slice(0,c)}static copyOfRange(s,c,d){const m=d-c,g=new Int32Array(m);return k.arraycopy(s,c,g,0,m),g}static binarySearch(s,c,d){d===void 0&&(d=H.numberComparator);let m=0,g=s.length-1;for(;m<=g;){const b=g+m>>1,_=d(c,s[b]);if(_>0)m=b+1;else if(_<0)g=b-1;else return b}return-m-1}static numberComparator(s,c){return s-c}}class G{static numberOfTrailingZeros(s){let c;if(s===0)return 32;let d=31;return c=s<<16,c!==0&&(d-=16,s=c),c=s<<8,c!==0&&(d-=8,s=c),c=s<<4,c!==0&&(d-=4,s=c),c=s<<2,c!==0&&(d-=2,s=c),d-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let c=1;return s>>>16||(c+=16,s<<=16),s>>>24||(c+=8,s<<=8),s>>>28||(c+=4,s<<=4),s>>>30||(c+=2,s<<=2),c-=s>>>31,c}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,c){return Math.trunc(s/c)}static parseInt(s,c=void 0){return parseInt(s,c)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(s,c){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,c==null?this.bits=K.makeArray(s):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const c=K.makeArray(s);k.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const c=this.size;if(s>=c)return c;const d=this.bits;let m=Math.floor(s/32),g=d[m];g&=~((1<<(s&31))-1);const b=d.length;for(;g===0;){if(++m===b)return c;g=d[m]}const _=m*32+G.numberOfTrailingZeros(g);return _>c?c:_}getNextUnset(s){const c=this.size;if(s>=c)return c;const d=this.bits;let m=Math.floor(s/32),g=~d[m];g&=~((1<<(s&31))-1);const b=d.length;for(;g===0;){if(++m===b)return c;g=~d[m]}const _=m*32+G.numberOfTrailingZeros(g);return _>c?c:_}setBulk(s,c){this.bits[Math.floor(s/32)]=c}setRange(s,c){if(c<s||s<0||c>this.size)throw new A;if(c===s)return;c--;const d=Math.floor(s/32),m=Math.floor(c/32),g=this.bits;for(let b=d;b<=m;b++){const _=b>d?0:s&31,E=(2<<(b<m?31:c&31))-(1<<_);g[b]|=E}}clear(){const s=this.bits.length,c=this.bits;for(let d=0;d<s;d++)c[d]=0}isRange(s,c,d){if(c<s||s<0||c>this.size)throw new A;if(c===s)return!0;c--;const m=Math.floor(s/32),g=Math.floor(c/32),b=this.bits;for(let _=m;_<=g;_++){const S=_>m?0:s&31,D=(2<<(_<g?31:c&31))-(1<<S)&4294967295;if((b[_]&D)!==(d?D:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,c){if(c<0||c>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let d=c;d>0;d--)this.appendBit((s>>d-1&1)===1)}appendBitArray(s){const c=s.size;this.ensureCapacity(this.size+c);for(let d=0;d<c;d++)this.appendBit(s.get(d))}xor(s){if(this.size!==s.size)throw new A("Sizes don't match");const c=this.bits;for(let d=0,m=c.length;d<m;d++)c[d]^=s.bits[d]}toBytes(s,c,d,m){for(let g=0;g<m;g++){let b=0;for(let _=0;_<8;_++)this.get(s)&&(b|=1<<7-_),s++;c[d+g]=b}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),d=c+1,m=this.bits;for(let g=0;g<d;g++){let b=m[g];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,s[c-g]=b}if(this.size!==d*32){const g=d*32-this.size;let b=s[0]>>>g;for(let _=1;_<d;_++){const S=s[_];b|=S<<32-g,s[_-1]=b,b=S>>>g}s[d-1]=b}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof K))return!1;const c=s;return this.size===c.size&&H.equals(this.bits,c.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let s="";for(let c=0,d=this.size;c<d;c++)(c&7)===0&&(s+=" "),s+=this.get(c)?"X":".";return s}clone(){return new K(this.size,this.bits.slice())}}var $;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var te=$;class Y extends y{static getFormatInstance(){return new Y}}Y.kind="FormatException";var ne;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(ne||(ne={}));class q{constructor(s,c,d,...m){this.valueIdentifier=s,this.name=d,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=m,q.VALUE_IDENTIFIER_TO_ECI.set(s,this),q.NAME_TO_ECI.set(d,this);const g=this.values;for(let b=0,_=g.length;b!==_;b++){const S=g[b];q.VALUES_TO_ECI.set(S,this)}for(const b of m)q.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new Y("incorect value");const c=q.VALUES_TO_ECI.get(s);if(c===void 0)throw new Y("incorect value");return c}static getCharacterSetECIByName(s){const c=q.NAME_TO_ECI.get(s);if(c===void 0)throw new Y("incorect value");return c}equals(s){if(!(s instanceof q))return!1;const c=s;return this.getName()===c.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(ne.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(ne.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(ne.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(ne.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(ne.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(ne.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(ne.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(ne.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(ne.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(ne.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(ne.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(ne.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(ne.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(ne.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(ne.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(ne.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(ne.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(ne.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(ne.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(ne.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(ne.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(ne.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(ne.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(ne.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(ne.Big5,28,"Big5"),q.GB18030=new q(ne.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(ne.EUC_KR,30,"EUC_KR","EUC-KR");class we extends y{}we.kind="UnsupportedOperationException";class Ae{static decode(s,c){const d=this.encodingName(c);return this.customDecoder?this.customDecoder(s,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(s,d):new TextDecoder(d).decode(s)}static shouldDecodeOnFallback(s){return!Ae.isBrowser()&&s==="ISO-8859-1"}static encode(s,c){const d=this.encodingName(c);return this.customEncoder?this.customEncoder(s,d):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof q?s:q.getCharacterSetECIByName(s)}static decodeFallback(s,c){const d=this.encodingCharacterSet(c);if(Ae.isDecodeFallbackSupported(d)){let m="";for(let g=0,b=s.length;g<b;g++){let _=s[g].toString(16);_.length<2&&(_="0"+_),m+="%"+_}return decodeURIComponent(m)}if(d.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new we(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(q.UTF8)||s.equals(q.ISO8859_1)||s.equals(q.ASCII)}static encodeFallback(s){const d=btoa(unescape(encodeURIComponent(s))).split(""),m=[];for(let g=0;g<d.length;g++)m.push(d[g].charCodeAt(0));return new Uint8Array(m)}}class me{static castAsNonUtf8Char(s,c=null){const d=c?c.getName():this.ISO88591;return Ae.decode(new Uint8Array([s]),d)}static guessEncoding(s,c){if(c!=null&&c.get(te.CHARACTER_SET)!==void 0)return c.get(te.CHARACTER_SET).toString();const d=s.length;let m=!0,g=!0,b=!0,_=0,S=0,E=0,D=0,L=0,P=0,V=0,X=0,Z=0,ae=0,ue=0;const Ce=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ve=0;ve<d&&(m||g||b);ve++){const _e=s[ve]&255;b&&(_>0?(_e&128)===0?b=!1:_--:(_e&128)!==0&&((_e&64)===0?b=!1:(_++,(_e&32)===0?S++:(_++,(_e&16)===0?E++:(_++,(_e&8)===0?D++:b=!1))))),m&&(_e>127&&_e<160?m=!1:_e>159&&(_e<192||_e===215||_e===247)&&ue++),g&&(L>0?_e<64||_e===127||_e>252?g=!1:L--:_e===128||_e===160||_e>239?g=!1:_e>160&&_e<224?(P++,X=0,V++,V>Z&&(Z=V)):_e>127?(L++,V=0,X++,X>ae&&(ae=X)):(V=0,X=0))}return b&&_>0&&(b=!1),g&&L>0&&(g=!1),b&&(Ce||S+E+D>0)?me.UTF8:g&&(me.ASSUME_SHIFT_JIS||Z>=3||ae>=3)?me.SHIFT_JIS:m&&g?Z===2&&P===2||ue*10>=d?me.SHIFT_JIS:me.ISO88591:m?me.ISO88591:g?me.SHIFT_JIS:b?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(s,...c){let d=-1;function m(b,_,S,E,D,L){if(b==="%%")return"%";if(c[++d]===void 0)return;b=E?parseInt(E.substr(1)):void 0;let P=D?parseInt(D.substr(1)):void 0,V;switch(L){case"s":V=c[d];break;case"c":V=c[d][0];break;case"f":V=parseFloat(c[d]).toFixed(b);break;case"p":V=parseFloat(c[d]).toPrecision(b);break;case"e":V=parseFloat(c[d]).toExponential(b);break;case"x":V=parseInt(c[d]).toString(P||16);break;case"d":V=parseFloat(parseInt(c[d],P||10).toPrecision(b)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(P);let X=parseInt(S),Z=S&&S[0]+""=="0"?"0":" ";for(;V.length<X;)V=_!==void 0?V+Z:Z+V;return V}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,m)}static getBytes(s,c){return Ae.encode(s,c)}static getCharCode(s,c=0){return s.charCodeAt(c)}static getCharAt(s){return String.fromCharCode(s)}}me.SHIFT_JIS=q.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=q.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=q.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class Re{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=me.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,c,d){for(let m=c;c<c+d;m++)this.append(s[m]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+1)}substring(s,c){return this.value.substring(s,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+c.length)}}class et{constructor(s,c,d,m){if(this.width=s,this.height=c,this.rowSize=d,this.bits=m,c==null&&(c=s),this.height=c,s<1||c<1)throw new A("Both dimensions must be greater than 0");d==null&&(d=Math.floor((s+31)/32)),this.rowSize=d,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const c=s.length,d=s[0].length,m=new et(d,c);for(let g=0;g<c;g++){const b=s[g];for(let _=0;_<d;_++)b[_]&&m.set(_,g)}return m}static parseFromString(s,c,d){if(s===null)throw new A("stringRepresentation cannot be null");const m=new Array(s.length);let g=0,b=0,_=-1,S=0,E=0;for(;E<s.length;)if(s.charAt(E)===`
`||s.charAt(E)==="\r"){if(g>b){if(_===-1)_=g-b;else if(g-b!==_)throw new A("row lengths do not match");b=g,S++}E++}else if(s.substring(E,E+c.length)===c)E+=c.length,m[g]=!0,g++;else if(s.substring(E,E+d.length)===d)E+=d.length,m[g]=!1,g++;else throw new A("illegal character encountered: "+s.substring(E));if(g>b){if(_===-1)_=g-b;else if(g-b!==_)throw new A("row lengths do not match");S++}const D=new et(_,S);for(let L=0;L<g;L++)m[L]&&D.set(Math.floor(L%_),Math.floor(L/_));return D}get(s,c){const d=c*this.rowSize+Math.floor(s/32);return(this.bits[d]>>>(s&31)&1)!==0}set(s,c){const d=c*this.rowSize+Math.floor(s/32);this.bits[d]|=1<<(s&31)&4294967295}unset(s,c){const d=c*this.rowSize+Math.floor(s/32);this.bits[d]&=~(1<<(s&31)&4294967295)}flip(s,c){const d=c*this.rowSize+Math.floor(s/32);this.bits[d]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new A("input matrix dimensions do not match");const c=new K(Math.floor(this.width/32)+1),d=this.rowSize,m=this.bits;for(let g=0,b=this.height;g<b;g++){const _=g*d,S=s.getRow(g,c).getBitArray();for(let E=0;E<d;E++)m[_+E]^=S[E]}}clear(){const s=this.bits,c=s.length;for(let d=0;d<c;d++)s[d]=0}setRegion(s,c,d,m){if(c<0||s<0)throw new A("Left and top must be nonnegative");if(m<1||d<1)throw new A("Height and width must be at least 1");const g=s+d,b=c+m;if(b>this.height||g>this.width)throw new A("The region must fit inside the matrix");const _=this.rowSize,S=this.bits;for(let E=c;E<b;E++){const D=E*_;for(let L=s;L<g;L++)S[D+Math.floor(L/32)]|=1<<(L&31)&4294967295}}getRow(s,c){c==null||c.getSize()<this.width?c=new K(this.width):c.clear();const d=this.rowSize,m=this.bits,g=s*d;for(let b=0;b<d;b++)c.setBulk(b*32,m[g+b]);return c}setRow(s,c){k.arraycopy(c.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),c=this.getHeight();let d=new K(s),m=new K(s);for(let g=0,b=Math.floor((c+1)/2);g<b;g++)d=this.getRow(g,d),m=this.getRow(c-1-g,m),d.reverse(),m.reverse(),this.setRow(g,m),this.setRow(c-1-g,d)}getEnclosingRectangle(){const s=this.width,c=this.height,d=this.rowSize,m=this.bits;let g=s,b=c,_=-1,S=-1;for(let E=0;E<c;E++)for(let D=0;D<d;D++){const L=m[E*d+D];if(L!==0){if(E<b&&(b=E),E>S&&(S=E),D*32<g){let P=0;for(;(L<<31-P&4294967295)===0;)P++;D*32+P<g&&(g=D*32+P)}if(D*32+31>_){let P=31;for(;!(L>>>P);)P--;D*32+P>_&&(_=D*32+P)}}}return _<g||S<b?null:Int32Array.from([g,b,_-g+1,S-b+1])}getTopLeftOnBit(){const s=this.rowSize,c=this.bits;let d=0;for(;d<c.length&&c[d]===0;)d++;if(d===c.length)return null;const m=d/s;let g=d%s*32;const b=c[d];let _=0;for(;(b<<31-_&4294967295)===0;)_++;return g+=_,Int32Array.from([g,m])}getBottomRightOnBit(){const s=this.rowSize,c=this.bits;let d=c.length-1;for(;d>=0&&c[d]===0;)d--;if(d<0)return null;const m=Math.floor(d/s);let g=Math.floor(d%s)*32;const b=c[d];let _=31;for(;!(b>>>_);)_--;return g+=_,Int32Array.from([g,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof et))return!1;const c=s;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&H.equals(this.bits,c.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+H.hashCode(this.bits),s}toString(s="X ",c="  ",d=`
`){return this.buildToString(s,c,d)}buildToString(s,c,d){let m=new Re;for(let g=0,b=this.height;g<b;g++){for(let _=0,S=this.width;_<S;_++)m.append(this.get(_,g)?s:c);m.append(d)}return m.toString()}clone(){return new et(this.width,this.height,this.rowSize,this.bits.slice())}}class ie extends y{static getNotFoundInstance(){return new ie}}ie.kind="NotFoundException";class se extends M{constructor(s){super(s),this.luminances=se.EMPTY,this.buckets=new Int32Array(se.LUMINANCE_BUCKETS)}getBlackRow(s,c){const d=this.getLuminanceSource(),m=d.getWidth();c==null||c.getSize()<m?c=new K(m):c.clear(),this.initArrays(m);const g=d.getRow(s,this.luminances),b=this.buckets;for(let S=0;S<m;S++)b[(g[S]&255)>>se.LUMINANCE_SHIFT]++;const _=se.estimateBlackPoint(b);if(m<3)for(let S=0;S<m;S++)(g[S]&255)<_&&c.set(S);else{let S=g[0]&255,E=g[1]&255;for(let D=1;D<m-1;D++){const L=g[D+1]&255;(E*4-S-L)/2<_&&c.set(D),S=E,E=L}}return c}getBlackMatrix(){const s=this.getLuminanceSource(),c=s.getWidth(),d=s.getHeight(),m=new et(c,d);this.initArrays(c);const g=this.buckets;for(let S=1;S<5;S++){const E=Math.floor(d*S/5),D=s.getRow(E,this.luminances),L=Math.floor(c*4/5);for(let P=Math.floor(c/5);P<L;P++){const V=D[P]&255;g[V>>se.LUMINANCE_SHIFT]++}}const b=se.estimateBlackPoint(g),_=s.getMatrix();for(let S=0;S<d;S++){const E=S*c;for(let D=0;D<c;D++)(_[E+D]&255)<b&&m.set(D,S)}return m}createBinarizer(s){return new se(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const c=this.buckets;for(let d=0;d<se.LUMINANCE_BUCKETS;d++)c[d]=0}static estimateBlackPoint(s){const c=s.length;let d=0,m=0,g=0;for(let D=0;D<c;D++)s[D]>g&&(m=D,g=s[D]),s[D]>d&&(d=s[D]);let b=0,_=0;for(let D=0;D<c;D++){const L=D-m,P=s[D]*L*L;P>_&&(b=D,_=P)}if(m>b){const D=m;m=b,b=D}if(b-m<=c/16)throw new ie;let S=b-1,E=-1;for(let D=b-1;D>m;D--){const L=D-m,P=L*L*(b-D)*(d-s[D]);P>E&&(S=D,E=P)}return S<<se.LUMINANCE_SHIFT}}se.LUMINANCE_BITS=5,se.LUMINANCE_SHIFT=8-se.LUMINANCE_BITS,se.LUMINANCE_BUCKETS=1<<se.LUMINANCE_BITS,se.EMPTY=Uint8ClampedArray.from([0]);class fe extends se{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),c=s.getWidth(),d=s.getHeight();if(c>=fe.MINIMUM_DIMENSION&&d>=fe.MINIMUM_DIMENSION){const m=s.getMatrix();let g=c>>fe.BLOCK_SIZE_POWER;(c&fe.BLOCK_SIZE_MASK)!==0&&g++;let b=d>>fe.BLOCK_SIZE_POWER;(d&fe.BLOCK_SIZE_MASK)!==0&&b++;const _=fe.calculateBlackPoints(m,g,b,c,d),S=new et(c,d);fe.calculateThresholdForBlock(m,g,b,c,d,_,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new fe(s)}static calculateThresholdForBlock(s,c,d,m,g,b,_){const S=g-fe.BLOCK_SIZE,E=m-fe.BLOCK_SIZE;for(let D=0;D<d;D++){let L=D<<fe.BLOCK_SIZE_POWER;L>S&&(L=S);const P=fe.cap(D,2,d-3);for(let V=0;V<c;V++){let X=V<<fe.BLOCK_SIZE_POWER;X>E&&(X=E);const Z=fe.cap(V,2,c-3);let ae=0;for(let Ce=-2;Ce<=2;Ce++){const ve=b[P+Ce];ae+=ve[Z-2]+ve[Z-1]+ve[Z]+ve[Z+1]+ve[Z+2]}const ue=ae/25;fe.thresholdBlock(s,X,L,ue,m,_)}}}static cap(s,c,d){return s<c?c:s>d?d:s}static thresholdBlock(s,c,d,m,g,b){for(let _=0,S=d*g+c;_<fe.BLOCK_SIZE;_++,S+=g)for(let E=0;E<fe.BLOCK_SIZE;E++)(s[S+E]&255)<=m&&b.set(c+E,d+_)}static calculateBlackPoints(s,c,d,m,g){const b=g-fe.BLOCK_SIZE,_=m-fe.BLOCK_SIZE,S=new Array(d);for(let E=0;E<d;E++){S[E]=new Int32Array(c);let D=E<<fe.BLOCK_SIZE_POWER;D>b&&(D=b);for(let L=0;L<c;L++){let P=L<<fe.BLOCK_SIZE_POWER;P>_&&(P=_);let V=0,X=255,Z=0;for(let ue=0,Ce=D*m+P;ue<fe.BLOCK_SIZE;ue++,Ce+=m){for(let ve=0;ve<fe.BLOCK_SIZE;ve++){const _e=s[Ce+ve]&255;V+=_e,_e<X&&(X=_e),_e>Z&&(Z=_e)}if(Z-X>fe.MIN_DYNAMIC_RANGE)for(ue++,Ce+=m;ue<fe.BLOCK_SIZE;ue++,Ce+=m)for(let ve=0;ve<fe.BLOCK_SIZE;ve++)V+=s[Ce+ve]&255}let ae=V>>fe.BLOCK_SIZE_POWER*2;if(Z-X<=fe.MIN_DYNAMIC_RANGE&&(ae=X/2,E>0&&L>0)){const ue=(S[E-1][L]+2*S[E][L-1]+S[E-1][L-1])/4;X<ue&&(ae=ue)}S[E][L]=ae}}return S}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class Le{constructor(s,c){this.width=s,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,c,d,m){throw new we("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new we("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new we("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let c=new Re;for(let d=0;d<this.height;d++){const m=this.getRow(d,s);for(let g=0;g<this.width;g++){const b=m[g]&255;let _;b<64?_="#":b<128?_="+":b<192?_=".":_=" ",c.append(_)}c.append(`
`)}return c.toString()}}class Ge extends Le{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,c){const d=this.delegate.getRow(s,c),m=this.getWidth();for(let g=0;g<m;g++)d[g]=255-(d[g]&255);return d}getMatrix(){const s=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(c);for(let m=0;m<c;m++)d[m]=255-(s[m]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(s,c,d,m){return new Ge(this.delegate.crop(s,c,d,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ge(this.delegate.rotateCounterClockwise45())}}class $e extends Le{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=$e.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const c=s.getContext("2d").getImageData(0,0,s.width,s.height);return $e.toGrayscaleBuffer(c.data,s.width,s.height)}static toGrayscaleBuffer(s,c,d){const m=new Uint8ClampedArray(c*d);for(let g=0,b=0,_=s.length;g<_;g+=4,b++){let S;if(s[g+3]===0)S=255;else{const D=s[g],L=s[g+1],P=s[g+2];S=306*D+601*L+117*P+512>>10}m[b]=S}return m}getRow(s,c){if(s<0||s>=this.getHeight())throw new A("Requested row is outside the image: "+s);const d=this.getWidth(),m=s*d;return c===null?c=this.buffer.slice(m,m+d):(c.length<d&&(c=new Uint8ClampedArray(d)),c.set(this.buffer.slice(m,m+d))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,c,d,m){return super.crop(s,c,d,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const c=this.getTempCanvasElement(),d=c.getContext("2d"),m=s*$e.DEGREE_TO_RADIANS,g=this.canvas.width,b=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(m))*g+Math.abs(Math.sin(m))*b),S=Math.ceil(Math.abs(Math.sin(m))*g+Math.abs(Math.cos(m))*b);return c.width=_,c.height=S,d.translate(_/2,S/2),d.rotate(m),d.drawImage(this.canvas,g/-2,b/-2),this.buffer=$e.makeBufferFromCanvasImageData(c),this}invert(){return new Ge(this)}}$e.DEGREE_TO_RADIANS=Math.PI/180;class Q{constructor(s,c,d){this.deviceId=s,this.label=c,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||hd||self||window||void 0)&&(globalThis||hd||self||window||void 0).__awaiter||function(R,s,c,d){function m(g){return g instanceof c?g:new c(function(b){b(g)})}return new(c||(c=Promise))(function(g,b){function _(D){try{E(d.next(D))}catch(L){b(L)}}function S(D){try{E(d.throw(D))}catch(L){b(L)}}function E(D){D.done?g(D.value):m(D.value).then(_,S)}E((d=d.apply(R,s||[])).next())})};class je{constructor(s,c=500,d){this.reader=s,this.timeBetweenScansMillis=c,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const d of s){const m=d.kind==="video"?"videoinput":d.kind;if(m!=="videoinput")continue;const g=d.deviceId||d.id,b=d.label||`Video device ${c.length+1}`,_=d.groupId,S={deviceId:g,label:b,kind:m,groupId:_};c.push(S)}return c})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new Q(c.deviceId,c.label))})}findDeviceById(s){return ge(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(d=>d.deviceId===s):null})}decodeFromInputVideoDevice(s,c){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,c)})}decodeOnceFromVideoDevice(s,c){return ge(this,void 0,void 0,function*(){this.reset();let d;s?d={deviceId:{exact:s}}:d={facingMode:"environment"};const m={video:d};return yield this.decodeOnceFromConstraints(m,c)})}decodeOnceFromConstraints(s,c){return ge(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(d,c)})}decodeOnceFromStream(s,c){return ge(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(s,c);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(s,c,d){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,c,d)})}decodeFromVideoDevice(s,c,d){return ge(this,void 0,void 0,function*(){let m;s?m={deviceId:{exact:s}}:m={facingMode:"environment"};const g={video:m};return yield this.decodeFromConstraints(g,c,d)})}decodeFromConstraints(s,c,d){return ge(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(m,c,d)})}decodeFromStream(s,c,d){return ge(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(s,c);return yield this.decodeContinuously(m,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,c){return ge(this,void 0,void 0,function*(){const d=this.prepareVideoElement(c);return this.addVideoSource(d,s),this.videoElement=d,this.stream=s,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(s){return new Promise((c,d)=>this.playVideoOnLoad(s,()=>c()))}playVideoOnLoad(s,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",c),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,c){const d=document.getElementById(s);if(!d)throw new N(`element with id '${s}' not found`);if(d.nodeName.toLowerCase()!==c.toLowerCase())throw new N(`element with id '${s}' must be an ${c} element`);return d}decodeFromImage(s,c){if(!s&&!c)throw new N("either imageElement with a src set or an url must be provided");return c&&!s?this.decodeFromImageUrl(c):this.decodeFromImageElement(s)}decodeFromVideo(s,c){if(!s&&!c)throw new N("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,c,d){if(s===void 0&&c===void 0)throw new N("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrlContinuously(c,d):this.decodeFromVideoElementContinuously(s,d)}decodeFromImageElement(s){if(!s)throw new N("An image element must be provided.");this.reset();const c=this.prepareImageElement(s);this.imageElement=c;let d;return this.isImageLoaded(c)?d=this.decodeOnce(c,!1,!0):d=this._decodeOnLoadImage(c),d}decodeFromVideoElement(s){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(s,c){const d=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(d,c)}_decodeFromVideoElementSetup(s){if(!s)throw new N("A video element must be provided.");this.reset();const c=this.prepareVideoElement(s);return this.videoElement=c,c}decodeFromImageUrl(s){if(!s)throw new N("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const d=this._decodeOnLoadImage(c);return c.src=s,d}decodeFromVideoUrl(s){if(!s)throw new N("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElement(c);return c.src=s,d}decodeFromVideoUrlContinuously(s,c){if(!s)throw new N("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(d,c);return d.src=s,m}_decodeOnLoadImage(s){return new Promise((c,d)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(c,d),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,c){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,c)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let c;return typeof s>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(c=s),c}prepareVideoElement(s){let c;return!s&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(c=s),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(s,c=!0,d=!0){this._stopAsyncDecode=!1;const m=(g,b)=>{if(this._stopAsyncDecode){b(new ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(s);g(_)}catch(_){const S=c&&_ instanceof ie,D=(_ instanceof j||_ instanceof Y)&&d;if(S||D)return setTimeout(m,this._timeBetweenDecodingAttempts,g,b);b(_)}};return new Promise((g,b)=>m(g,b))}decodeContinuously(s,c){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(s);c(m,null),setTimeout(d,this.timeBetweenScansMillis)}catch(m){c(null,m);const g=m instanceof j||m instanceof Y,b=m instanceof ie;(g||b)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(s){const c=this.createBinaryBitmap(s);return this.decodeBitmap(c)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,c,d){c||(c={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(s,c,d=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const c=this.getCaptureCanvas(s),d=new $e(c),m=new fe(d);return new T(m)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const c=this.createCaptureCanvas(s);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let d,m;return typeof s<"u"&&(s instanceof HTMLVideoElement?(d=s.videoWidth,m=s.videoHeight):s instanceof HTMLImageElement&&(d=s.naturalWidth||s.width,m=s.naturalHeight||s.height)),c.style.width=d+"px",c.style.height=m+"px",c.width=d,c.height=m,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,c){try{s.srcObject=c}catch{s.src=URL.createObjectURL(c)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(s,c,d=c==null?0:8*c.length,m,g,b=k.currentTimeMillis()){this.text=s,this.rawBytes=c,this.numBits=d,this.resultPoints=m,this.format=g,this.timestamp=b,this.text=s,this.rawBytes=c,d==null?this.numBits=c==null?0:8*c.length:this.numBits=d,this.resultPoints=m,this.format=g,this.resultMetadata=null,b==null?this.timestamp=k.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,c)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const c=this.resultPoints;if(c===null)this.resultPoints=s;else if(s!==null&&s.length>0){const d=new Array(c.length+s.length);k.arraycopy(c,0,d,0,c.length),k.arraycopy(s,0,d,c.length,s.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var Ne=qe,bt;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bt||(bt={}));var wt=bt;class qt{constructor(s,c,d,m,g=-1,b=-1){this.rawBytes=s,this.text=c,this.byteSegments=d,this.ecLevel=m,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=b,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class rs{exp(s){return this.expTable[s]}log(s){if(s===0)throw new A;return this.logTable[s]}static addOrSubtract(s,c){return s^c}}class In{constructor(s,c){if(c.length===0)throw new A;this.field=s;const d=c.length;if(d>1&&c[0]===0){let m=1;for(;m<d&&c[m]===0;)m++;m===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-m),k.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const c=this.coefficients;let d;if(s===1){d=0;for(let b=0,_=c.length;b!==_;b++){const S=c[b];d=rs.addOrSubtract(d,S)}return d}d=c[0];const m=c.length,g=this.field;for(let b=1;b<m;b++)d=rs.addOrSubtract(g.multiply(s,d),c[b]);return d}addOrSubtract(s){if(!this.field.equals(s.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,d=s.coefficients;if(c.length>d.length){const b=c;c=d,d=b}let m=new Int32Array(d.length);const g=d.length-c.length;k.arraycopy(d,0,m,0,g);for(let b=g;b<d.length;b++)m[b]=rs.addOrSubtract(c[b-g],d[b]);return new In(this.field,m)}multiply(s){if(!this.field.equals(s.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const c=this.coefficients,d=c.length,m=s.coefficients,g=m.length,b=new Int32Array(d+g-1),_=this.field;for(let S=0;S<d;S++){const E=c[S];for(let D=0;D<g;D++)b[S+D]=rs.addOrSubtract(b[S+D],_.multiply(E,m[D]))}return new In(_,b)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const c=this.coefficients.length,d=this.field,m=new Int32Array(c),g=this.coefficients;for(let b=0;b<c;b++)m[b]=d.multiply(g[b],s);return new In(d,m)}multiplyByMonomial(s,c){if(s<0)throw new A;if(c===0)return this.field.getZero();const d=this.coefficients,m=d.length,g=new Int32Array(m+s),b=this.field;for(let _=0;_<m;_++)g[_]=b.multiply(d[_],c);return new In(b,g)}divide(s){if(!this.field.equals(s.field))throw new A("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new A("Divide by 0");const c=this.field;let d=c.getZero(),m=this;const g=s.getCoefficient(s.getDegree()),b=c.inverse(g);for(;m.getDegree()>=s.getDegree()&&!m.isZero();){const _=m.getDegree()-s.getDegree(),S=c.multiply(m.getCoefficient(m.getDegree()),b),E=s.multiplyByMonomial(_,S),D=c.buildMonomial(_,S);d=d.addOrSubtract(D),m=m.addOrSubtract(E)}return[d,m]}toString(){let s="";for(let c=this.getDegree();c>=0;c--){let d=this.getCoefficient(c);if(d!==0){if(d<0?(s+=" - ",d=-d):s.length>0&&(s+=" + "),c===0||d!==1){const m=this.field.log(d);m===0?s+="1":m===1?s+="a":(s+="a^",s+=m)}c!==0&&(c===1?s+="x":(s+="x^",s+=c))}}return s}}class Ai extends y{}Ai.kind="ArithmeticException";class _t extends rs{constructor(s,c,d){super(),this.primitive=s,this.size=c,this.generatorBase=d;const m=new Int32Array(c);let g=1;for(let _=0;_<c;_++)m[_]=g,g*=2,g>=c&&(g^=s,g&=c-1);this.expTable=m;const b=new Int32Array(c);for(let _=0;_<c-1;_++)b[m[_]]=_;this.logTable=b,this.zero=new In(this,Int32Array.from([0])),this.one=new In(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new A;if(c===0)return this.zero;const d=new Int32Array(s+1);return d[0]=c,new In(this,d)}inverse(s){if(s===0)throw new Ai;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}_t.AZTEC_DATA_12=new _t(4201,4096,1),_t.AZTEC_DATA_10=new _t(1033,1024,1),_t.AZTEC_DATA_6=new _t(67,64,1),_t.AZTEC_PARAM=new _t(19,16,1),_t.QR_CODE_FIELD_256=new _t(285,256,0),_t.DATA_MATRIX_FIELD_256=new _t(301,256,1),_t.AZTEC_DATA_8=_t.DATA_MATRIX_FIELD_256,_t.MAXICODE_FIELD_64=_t.AZTEC_DATA_6;class ca extends y{}ca.kind="ReedSolomonException";class ua extends y{}ua.kind="IllegalStateException";class Vs{constructor(s){this.field=s}decode(s,c){const d=this.field,m=new In(d,s),g=new Int32Array(c);let b=!0;for(let V=0;V<c;V++){const X=m.evaluateAt(d.exp(V+d.getGeneratorBase()));g[g.length-1-V]=X,X!==0&&(b=!1)}if(b)return;const _=new In(d,g),S=this.runEuclideanAlgorithm(d.buildMonomial(c,1),_,c),E=S[0],D=S[1],L=this.findErrorLocations(E),P=this.findErrorMagnitudes(D,L);for(let V=0;V<L.length;V++){const X=s.length-1-d.log(L[V]);if(X<0)throw new ca("Bad error location");s[X]=_t.addOrSubtract(s[X],P[V])}}runEuclideanAlgorithm(s,c,d){if(s.getDegree()<c.getDegree()){const V=s;s=c,c=V}const m=this.field;let g=s,b=c,_=m.getZero(),S=m.getOne();for(;b.getDegree()>=(d/2|0);){let V=g,X=_;if(g=b,_=S,g.isZero())throw new ca("r_{i-1} was zero");b=V;let Z=m.getZero();const ae=g.getCoefficient(g.getDegree()),ue=m.inverse(ae);for(;b.getDegree()>=g.getDegree()&&!b.isZero();){const Ce=b.getDegree()-g.getDegree(),ve=m.multiply(b.getCoefficient(b.getDegree()),ue);Z=Z.addOrSubtract(m.buildMonomial(Ce,ve)),b=b.addOrSubtract(g.multiplyByMonomial(Ce,ve))}if(S=Z.multiply(_).addOrSubtract(X),b.getDegree()>=g.getDegree())throw new ua("Division algorithm failed to reduce polynomial?")}const E=S.getCoefficient(0);if(E===0)throw new ca("sigmaTilde(0) was zero");const D=m.inverse(E),L=S.multiplyScalar(D),P=b.multiplyScalar(D);return[L,P]}findErrorLocations(s){const c=s.getDegree();if(c===1)return Int32Array.from([s.getCoefficient(1)]);const d=new Int32Array(c);let m=0;const g=this.field;for(let b=1;b<g.getSize()&&m<c;b++)s.evaluateAt(b)===0&&(d[m]=g.inverse(b),m++);if(m!==c)throw new ca("Error locator degree does not match number of roots");return d}findErrorMagnitudes(s,c){const d=c.length,m=new Int32Array(d),g=this.field;for(let b=0;b<d;b++){const _=g.inverse(c[b]);let S=1;for(let E=0;E<d;E++)if(b!==E){const D=g.multiply(c[E],_),L=(D&1)===0?D|1:D&-2;S=g.multiply(S,L)}m[b]=g.multiply(s.evaluateAt(_),g.inverse(S)),g.getGeneratorBase()!==0&&(m[b]=g.multiply(m[b],_))}return m}}var On;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(On||(On={}));class Ot{decode(s){this.ddata=s;let c=s.getBits(),d=this.extractBits(c),m=this.correctBits(d),g=Ot.convertBoolArrayToByteArray(m),b=Ot.getEncodedData(m),_=new qt(g,b,null,null);return _.setNumBits(m.length),_}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let c=s.length,d=On.UPPER,m=On.UPPER,g="",b=0;for(;b<c;)if(m===On.BINARY){if(c-b<5)break;let _=Ot.readCode(s,b,5);if(b+=5,_===0){if(c-b<11)break;_=Ot.readCode(s,b,11)+31,b+=11}for(let S=0;S<_;S++){if(c-b<8){b=c;break}const E=Ot.readCode(s,b,8);g+=me.castAsNonUtf8Char(E),b+=8}m=d}else{let _=m===On.DIGIT?4:5;if(c-b<_)break;let S=Ot.readCode(s,b,_);b+=_;let E=Ot.getCharacter(m,S);E.startsWith("CTRL_")?(d=m,m=Ot.getTable(E.charAt(5)),E.charAt(6)==="L"&&(d=m)):(g+=E,m=d)}return g}static getTable(s){switch(s){case"L":return On.LOWER;case"P":return On.PUNCT;case"M":return On.MIXED;case"D":return On.DIGIT;case"B":return On.BINARY;default:return On.UPPER}}static getCharacter(s,c){switch(s){case On.UPPER:return Ot.UPPER_TABLE[c];case On.LOWER:return Ot.LOWER_TABLE[c];case On.MIXED:return Ot.MIXED_TABLE[c];case On.PUNCT:return Ot.PUNCT_TABLE[c];case On.DIGIT:return Ot.DIGIT_TABLE[c];default:throw new ua("Bad table")}}correctBits(s){let c,d;this.ddata.getNbLayers()<=2?(d=6,c=_t.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,c=_t.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,c=_t.AZTEC_DATA_10):(d=12,c=_t.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),g=s.length/d;if(g<m)throw new Y;let b=s.length%d,_=new Int32Array(g);for(let P=0;P<g;P++,b+=d)_[P]=Ot.readCode(s,b,d);try{new Vs(c).decode(_,g-m)}catch(P){throw new Y(P)}let S=(1<<d)-1,E=0;for(let P=0;P<m;P++){let V=_[P];if(V===0||V===S)throw new Y;(V===1||V===S-1)&&E++}let D=new Array(m*d-E),L=0;for(let P=0;P<m;P++){let V=_[P];if(V===1||V===S-1)D.fill(V>1,L,L+d-1),L+=d-1;else for(let X=d-1;X>=0;--X)D[L++]=(V&1<<X)!==0}return D}extractBits(s){let c=this.ddata.isCompact(),d=this.ddata.getNbLayers(),m=(c?11:14)+d*4,g=new Int32Array(m),b=new Array(this.totalBitsInLayer(d,c));if(c)for(let _=0;_<g.length;_++)g[_]=_;else{let _=m+1+2*G.truncDivision(G.truncDivision(m,2)-1,15),S=m/2,E=G.truncDivision(_,2);for(let D=0;D<S;D++){let L=D+G.truncDivision(D,15);g[S-D-1]=E-L-1,g[S+D]=E+L+1}}for(let _=0,S=0;_<d;_++){let E=(d-_)*4+(c?9:12),D=_*2,L=m-1-D;for(let P=0;P<E;P++){let V=P*2;for(let X=0;X<2;X++)b[S+V+X]=s.get(g[D+X],g[D+P]),b[S+2*E+V+X]=s.get(g[D+P],g[L-X]),b[S+4*E+V+X]=s.get(g[L-X],g[L-P]),b[S+6*E+V+X]=s.get(g[L-P],g[D+X])}S+=E*8}return b}static readCode(s,c,d){let m=0;for(let g=c;g<c+d;g++)m<<=1,s[g]&&(m|=1);return m}static readByte(s,c){let d=s.length-c;return d>=8?Ot.readCode(s,c,8):Ot.readCode(s,c,d)<<8-d}static convertBoolArrayToByteArray(s){let c=new Uint8Array((s.length+7)/8);for(let d=0;d<c.length;d++)c[d]=Ot.readByte(s,8*d);return c}totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,c,d,m){const g=s-d,b=c-m;return Math.sqrt(g*g+b*b)}static sum(s){let c=0;for(let d=0,m=s.length;d!==m;d++){const g=s[d];c+=g}return c}}class Si{static floatToIntBits(s){return s}}Si.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(s,c){this.x=s,this.y=c}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Be){const c=s;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Si.floatToIntBits(this.x)+Si.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const c=this.distance(s[0],s[1]),d=this.distance(s[1],s[2]),m=this.distance(s[0],s[2]);let g,b,_;if(d>=c&&d>=m?(b=s[0],g=s[1],_=s[2]):m>=d&&m>=c?(b=s[1],g=s[0],_=s[2]):(b=s[2],g=s[0],_=s[1]),this.crossProductZ(g,b,_)<0){const S=g;g=_,_=S}s[0]=g,s[1]=b,s[2]=_}static distance(s,c){return ot.distance(s.x,s.y,c.x,c.y)}static crossProductZ(s,c,d){const m=c.x,g=c.y;return(d.x-m)*(s.y-g)-(d.y-g)*(s.x-m)}}class sl{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class qc extends sl{constructor(s,c,d,m,g){super(s,c),this.compact=d,this.nbDatablocks=m,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class un{constructor(s,c,d,m){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),c==null&&(c=un.INIT_SIZE),d==null&&(d=s.getWidth()/2|0),m==null&&(m=s.getHeight()/2|0);const g=c/2|0;if(this.leftInit=d-g,this.rightInit=d+g,this.upInit=m-g,this.downInit=m+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}detect(){let s=this.leftInit,c=this.rightInit,d=this.upInit,m=this.downInit,g=!1,b=!0,_=!1,S=!1,E=!1,D=!1,L=!1;const P=this.width,V=this.height;for(;b;){b=!1;let X=!0;for(;(X||!S)&&c<P;)X=this.containsBlackPoint(d,m,c,!1),X?(c++,b=!0,S=!0):S||c++;if(c>=P){g=!0;break}let Z=!0;for(;(Z||!E)&&m<V;)Z=this.containsBlackPoint(s,c,m,!0),Z?(m++,b=!0,E=!0):E||m++;if(m>=V){g=!0;break}let ae=!0;for(;(ae||!D)&&s>=0;)ae=this.containsBlackPoint(d,m,s,!1),ae?(s--,b=!0,D=!0):D||s--;if(s<0){g=!0;break}let ue=!0;for(;(ue||!L)&&d>=0;)ue=this.containsBlackPoint(s,c,d,!0),ue?(d--,b=!0,L=!0):L||d--;if(d<0){g=!0;break}b&&(_=!0)}if(!g&&_){const X=c-s;let Z=null;for(let ve=1;Z===null&&ve<X;ve++)Z=this.getBlackPointOnSegment(s,m-ve,s+ve,m);if(Z==null)throw new ie;let ae=null;for(let ve=1;ae===null&&ve<X;ve++)ae=this.getBlackPointOnSegment(s,d+ve,s+ve,d);if(ae==null)throw new ie;let ue=null;for(let ve=1;ue===null&&ve<X;ve++)ue=this.getBlackPointOnSegment(c,d+ve,c-ve,d);if(ue==null)throw new ie;let Ce=null;for(let ve=1;Ce===null&&ve<X;ve++)Ce=this.getBlackPointOnSegment(c,m-ve,c-ve,m);if(Ce==null)throw new ie;return this.centerEdges(Ce,Z,ue,ae)}else throw new ie}getBlackPointOnSegment(s,c,d,m){const g=ot.round(ot.distance(s,c,d,m)),b=(d-s)/g,_=(m-c)/g,S=this.image;for(let E=0;E<g;E++){const D=ot.round(s+E*b),L=ot.round(c+E*_);if(S.get(D,L))return new Be(D,L)}return null}centerEdges(s,c,d,m){const g=s.getX(),b=s.getY(),_=c.getX(),S=c.getY(),E=d.getX(),D=d.getY(),L=m.getX(),P=m.getY(),V=un.CORR;return g<this.width/2?[new Be(L-V,P+V),new Be(_+V,S+V),new Be(E-V,D-V),new Be(g+V,b-V)]:[new Be(L+V,P+V),new Be(_+V,S-V),new Be(E-V,D+V),new Be(g-V,b-V)]}containsBlackPoint(s,c,d,m){const g=this.image;if(m){for(let b=s;b<=c;b++)if(g.get(b,d))return!0}else for(let b=s;b<=c;b++)if(g.get(d,b))return!0;return!1}}un.INIT_SIZE=10,un.CORR=1;class uo{static checkAndNudgePoints(s,c){const d=s.getWidth(),m=s.getHeight();let g=!0;for(let b=0;b<c.length&&g;b+=2){const _=Math.floor(c[b]),S=Math.floor(c[b+1]);if(_<-1||_>d||S<-1||S>m)throw new ie;g=!1,_===-1?(c[b]=0,g=!0):_===d&&(c[b]=d-1,g=!0),S===-1?(c[b+1]=0,g=!0):S===m&&(c[b+1]=m-1,g=!0)}g=!0;for(let b=c.length-2;b>=0&&g;b-=2){const _=Math.floor(c[b]),S=Math.floor(c[b+1]);if(_<-1||_>d||S<-1||S>m)throw new ie;g=!1,_===-1?(c[b]=0,g=!0):_===d&&(c[b]=d-1,g=!0),S===-1?(c[b+1]=0,g=!0):S===m&&(c[b+1]=m-1,g=!0)}}}class da{constructor(s,c,d,m,g,b,_,S,E){this.a11=s,this.a21=c,this.a31=d,this.a12=m,this.a22=g,this.a32=b,this.a13=_,this.a23=S,this.a33=E}static quadrilateralToQuadrilateral(s,c,d,m,g,b,_,S,E,D,L,P,V,X,Z,ae){const ue=da.quadrilateralToSquare(s,c,d,m,g,b,_,S);return da.squareToQuadrilateral(E,D,L,P,V,X,Z,ae).times(ue)}transformPoints(s){const c=s.length,d=this.a11,m=this.a12,g=this.a13,b=this.a21,_=this.a22,S=this.a23,E=this.a31,D=this.a32,L=this.a33;for(let P=0;P<c;P+=2){const V=s[P],X=s[P+1],Z=g*V+S*X+L;s[P]=(d*V+b*X+E)/Z,s[P+1]=(m*V+_*X+D)/Z}}transformPointsWithValues(s,c){const d=this.a11,m=this.a12,g=this.a13,b=this.a21,_=this.a22,S=this.a23,E=this.a31,D=this.a32,L=this.a33,P=s.length;for(let V=0;V<P;V++){const X=s[V],Z=c[V],ae=g*X+S*Z+L;s[V]=(d*X+b*Z+E)/ae,c[V]=(m*X+_*Z+D)/ae}}static squareToQuadrilateral(s,c,d,m,g,b,_,S){const E=s-d+g-_,D=c-m+b-S;if(E===0&&D===0)return new da(d-s,g-d,s,m-c,b-m,c,0,0,1);{const L=d-g,P=_-g,V=m-b,X=S-b,Z=L*X-P*V,ae=(E*X-P*D)/Z,ue=(L*D-E*V)/Z;return new da(d-s+ae*d,_-s+ue*_,s,m-c+ae*m,S-c+ue*S,c,ae,ue,1)}}static quadrilateralToSquare(s,c,d,m,g,b,_,S){return da.squareToQuadrilateral(s,c,d,m,g,b,_,S).buildAdjoint()}buildAdjoint(){return new da(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new da(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class ho extends uo{sampleGrid(s,c,d,m,g,b,_,S,E,D,L,P,V,X,Z,ae,ue,Ce,ve){const _e=da.quadrilateralToQuadrilateral(m,g,b,_,S,E,D,L,P,V,X,Z,ae,ue,Ce,ve);return this.sampleGridWithTransform(s,c,d,_e)}sampleGridWithTransform(s,c,d,m){if(c<=0||d<=0)throw new ie;const g=new et(c,d),b=new Float32Array(2*c);for(let _=0;_<d;_++){const S=b.length,E=_+.5;for(let D=0;D<S;D+=2)b[D]=D/2+.5,b[D+1]=E;m.transformPoints(b),uo.checkAndNudgePoints(s,b);try{for(let D=0;D<S;D+=2)s.get(Math.floor(b[D]),Math.floor(b[D+1]))&&g.set(D/2,_)}catch{throw new ie}}return g}}class Aa{static setGridSampler(s){Aa.gridSampler=s}static getInstance(){return Aa.gridSampler}}Aa.gridSampler=new ho;class Yn{constructor(s,c){this.x=s,this.y=c}toResultPoint(){return new Be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class fo{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let c=this.getMatrixCenter(),d=this.getBullsEyeCorners(c);if(s){let b=d[0];d[0]=d[2],d[2]=b}this.extractParameters(d);let m=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),g=this.getMatrixCornerPoints(d);return new qc(m,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ie;let c=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(s[0],s[1],c),this.sampleLine(s[1],s[2],c),this.sampleLine(s[2],s[3],c),this.sampleLine(s[3],s[0],c)]);this.shift=this.getRotation(d,c);let m=0;for(let b=0;b<4;b++){let _=d[(this.shift+b)%4];this.compact?(m<<=7,m+=_>>1&127):(m<<=10,m+=(_>>2&992)+(_>>1&31))}let g=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(s,c){let d=0;s.forEach((m,g,b)=>{let _=(m>>c-2<<1)+(m&1);d=(d<<3)+_}),d=((d&1)<<11)+(d>>1);for(let m=0;m<4;m++)if(G.bitCount(d^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new ie}getCorrectedParameterData(s,c){let d,m;c?(d=7,m=2):(d=10,m=4);let g=d-m,b=new Int32Array(d);for(let S=d-1;S>=0;--S)b[S]=s&15,s>>=4;try{new Vs(_t.AZTEC_PARAM).decode(b,g)}catch{throw new ie}let _=0;for(let S=0;S<m;S++)_=(_<<4)+b[S];return _}getBullsEyeCorners(s){let c=s,d=s,m=s,g=s,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let L=this.getFirstDifferent(c,b,1,-1),P=this.getFirstDifferent(d,b,1,1),V=this.getFirstDifferent(m,b,-1,1),X=this.getFirstDifferent(g,b,-1,-1);if(this.nbCenterLayers>2){let Z=this.distancePoint(X,L)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(Z<.75||Z>1.25||!this.isWhiteOrBlackRectangle(L,P,V,X))break}c=L,d=P,m=V,g=X,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;let _=new Be(c.getX()+.5,c.getY()-.5),S=new Be(d.getX()+.5,d.getY()+.5),E=new Be(m.getX()-.5,m.getY()+.5),D=new Be(g.getX()-.5,g.getY()-.5);return this.expandSquare([_,S,E,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,c,d,m;try{let _=new un(this.image).detect();s=_[0],c=_[1],d=_[2],m=_[3]}catch{let S=this.image.getWidth()/2,E=this.image.getHeight()/2;s=this.getFirstDifferent(new Yn(S+7,E-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Yn(S+7,E+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Yn(S-7,E+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Yn(S-7,E-7),!1,-1,-1).toResultPoint()}let g=ot.round((s.getX()+m.getX()+c.getX()+d.getX())/4),b=ot.round((s.getY()+m.getY()+c.getY()+d.getY())/4);try{let _=new un(this.image,15,g,b).detect();s=_[0],c=_[1],d=_[2],m=_[3]}catch{s=this.getFirstDifferent(new Yn(g+7,b-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Yn(g+7,b+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Yn(g-7,b+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Yn(g-7,b-7),!1,-1,-1).toResultPoint()}return g=ot.round((s.getX()+m.getX()+c.getX()+d.getX())/4),b=ot.round((s.getY()+m.getY()+c.getY()+d.getY())/4),new Yn(g,b)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,c,d,m,g){let b=Aa.getInstance(),_=this.getDimension(),S=_/2-this.nbCenterLayers,E=_/2+this.nbCenterLayers;return b.sampleGrid(s,_,_,S,S,E,S,E,E,S,E,c.getX(),c.getY(),d.getX(),d.getY(),m.getX(),m.getY(),g.getX(),g.getY())}sampleLine(s,c,d){let m=0,g=this.distanceResultPoint(s,c),b=g/d,_=s.getX(),S=s.getY(),E=b*(c.getX()-s.getX())/g,D=b*(c.getY()-s.getY())/g;for(let L=0;L<d;L++)this.image.get(ot.round(_+L*E),ot.round(S+L*D))&&(m|=1<<d-L-1);return m}isWhiteOrBlackRectangle(s,c,d,m){let g=3;s=new Yn(s.getX()-g,s.getY()+g),c=new Yn(c.getX()-g,c.getY()-g),d=new Yn(d.getX()+g,d.getY()-g),m=new Yn(m.getX()+g,m.getY()+g);let b=this.getColor(m,s);if(b===0)return!1;let _=this.getColor(s,c);return _!==b||(_=this.getColor(c,d),_!==b)?!1:(_=this.getColor(d,m),_===b)}getColor(s,c){let d=this.distancePoint(s,c),m=(c.getX()-s.getX())/d,g=(c.getY()-s.getY())/d,b=0,_=s.getX(),S=s.getY(),E=this.image.get(s.getX(),s.getY()),D=Math.ceil(d);for(let P=0;P<D;P++)_+=m,S+=g,this.image.get(ot.round(_),ot.round(S))!==E&&b++;let L=b/d;return L>.1&&L<.9?0:L<=.1===E?1:-1}getFirstDifferent(s,c,d,m){let g=s.getX()+d,b=s.getY()+m;for(;this.isValid(g,b)&&this.image.get(g,b)===c;)g+=d,b+=m;for(g-=d,b-=m;this.isValid(g,b)&&this.image.get(g,b)===c;)g+=d;for(g-=d;this.isValid(g,b)&&this.image.get(g,b)===c;)b+=m;return b-=m,new Yn(g,b)}expandSquare(s,c,d){let m=d/(2*c),g=s[0].getX()-s[2].getX(),b=s[0].getY()-s[2].getY(),_=(s[0].getX()+s[2].getX())/2,S=(s[0].getY()+s[2].getY())/2,E=new Be(_+m*g,S+m*b),D=new Be(_-m*g,S-m*b);g=s[1].getX()-s[3].getX(),b=s[1].getY()-s[3].getY(),_=(s[1].getX()+s[3].getX())/2,S=(s[1].getY()+s[3].getY())/2;let L=new Be(_+m*g,S+m*b),P=new Be(_-m*g,S-m*b);return[E,L,D,P]}isValid(s,c){return s>=0&&s<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(s){let c=ot.round(s.getX()),d=ot.round(s.getY());return this.isValid(c,d)}distancePoint(s,c){return ot.distance(s.getX(),s.getY(),c.getX(),c.getY())}distanceResultPoint(s,c){return ot.distance(s.getX(),s.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class il{decode(s,c=null){let d=null,m=new fo(s.getBlackMatrix()),g=null,b=null;try{let D=m.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(c,g),b=new Ot().decode(D)}catch(D){d=D}if(b==null)try{let D=m.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(c,g),b=new Ot().decode(D)}catch(D){throw d??D}let _=new Me(b.getText(),b.getRawBytes(),b.getNumBits(),g,Ne.AZTEC,k.currentTimeMillis()),S=b.getByteSegments();S!=null&&_.putMetadata(wt.BYTE_SEGMENTS,S);let E=b.getECLevel();return E!=null&&_.putMetadata(wt.ERROR_CORRECTION_LEVEL,E),_}reportFoundResultPoints(s,c){if(s!=null){let d=s.get(te.NEED_RESULT_POINT_CALLBACK);d!=null&&c.forEach((m,g,b)=>{d.foundPossibleResultPoint(m)})}}reset(){}}class yh extends je{constructor(s=500){super(new il,s)}}class $t{decode(s,c){try{return this.doDecode(s,c)}catch{if(c&&c.get(te.TRY_HARDER)===!0&&s.isRotateSupported()){const g=s.rotateCounterClockwise(),b=this.doDecode(g,c),_=b.getResultMetadata();let S=270;_!==null&&_.get(wt.ORIENTATION)===!0&&(S=S+_.get(wt.ORIENTATION)%360),b.putMetadata(wt.ORIENTATION,S);const E=b.getResultPoints();if(E!==null){const D=g.getHeight();for(let L=0;L<E.length;L++)E[L]=new Be(D-E[L].getY()-1,E[L].getX())}return b}else throw new ie}}reset(){}doDecode(s,c){const d=s.getWidth(),m=s.getHeight();let g=new K(d);const b=c&&c.get(te.TRY_HARDER)===!0,_=Math.max(1,m>>(b?8:5));let S;b?S=m:S=15;const E=Math.trunc(m/2);for(let D=0;D<S;D++){const L=Math.trunc((D+1)/2),P=(D&1)===0,V=E+_*(P?L:-L);if(V<0||V>=m)break;try{g=s.getBlackRow(V,g)}catch{continue}for(let X=0;X<2;X++){if(X===1&&(g.reverse(),c&&c.get(te.NEED_RESULT_POINT_CALLBACK)===!0)){const Z=new Map;c.forEach((ae,ue)=>Z.set(ue,ae)),Z.delete(te.NEED_RESULT_POINT_CALLBACK),c=Z}try{const Z=this.decodeRow(V,g,c);if(X===1){Z.putMetadata(wt.ORIENTATION,180);const ae=Z.getResultPoints();ae!==null&&(ae[0]=new Be(d-ae[0].getX()-1,ae[0].getY()),ae[1]=new Be(d-ae[1].getX()-1,ae[1].getY()))}return Z}catch{}}}throw new ie}static recordPattern(s,c,d){const m=d.length;for(let E=0;E<m;E++)d[E]=0;const g=s.getSize();if(c>=g)throw new ie;let b=!s.get(c),_=0,S=c;for(;S<g;){if(s.get(S)!==b)d[_]++;else{if(++_===m)break;d[_]=1,b=!b}S++}if(!(_===m||_===m-1&&S===g))throw new ie}static recordPatternInReverse(s,c,d){let m=d.length,g=s.get(c);for(;c>0&&m>=0;)s.get(--c)!==g&&(m--,g=!g);if(m>=0)throw new ie;$t.recordPattern(s,c+1,d)}static patternMatchVariance(s,c,d){const m=s.length;let g=0,b=0;for(let E=0;E<m;E++)g+=s[E],b+=c[E];if(g<b)return Number.POSITIVE_INFINITY;const _=g/b;d*=_;let S=0;for(let E=0;E<m;E++){const D=s[E],L=c[E]*_,P=D>L?D-L:L-D;if(P>d)return Number.POSITIVE_INFINITY;S+=P}return S/g}}class Ee extends $t{static findStartPattern(s){const c=s.getSize(),d=s.getNextSet(0);let m=0,g=Int32Array.from([0,0,0,0,0,0]),b=d,_=!1;const S=6;for(let E=d;E<c;E++)if(s.get(E)!==_)g[m]++;else{if(m===S-1){let D=Ee.MAX_AVG_VARIANCE,L=-1;for(let P=Ee.CODE_START_A;P<=Ee.CODE_START_C;P++){const V=$t.patternMatchVariance(g,Ee.CODE_PATTERNS[P],Ee.MAX_INDIVIDUAL_VARIANCE);V<D&&(D=V,L=P)}if(L>=0&&s.isRange(Math.max(0,b-(E-b)/2),b,!1))return Int32Array.from([b,E,L]);b+=g[0]+g[1],g=g.slice(2,g.length-1),g[m-1]=0,g[m]=0,m--}else m++;g[m]=1,_=!_}throw new ie}static decodeCode(s,c,d){$t.recordPattern(s,d,c);let m=Ee.MAX_AVG_VARIANCE,g=-1;for(let b=0;b<Ee.CODE_PATTERNS.length;b++){const _=Ee.CODE_PATTERNS[b],S=this.patternMatchVariance(c,_,Ee.MAX_INDIVIDUAL_VARIANCE);S<m&&(m=S,g=b)}if(g>=0)return g;throw new ie}decodeRow(s,c,d){const m=d&&d.get(te.ASSUME_GS1)===!0,g=Ee.findStartPattern(c),b=g[2];let _=0;const S=new Uint8Array(20);S[_++]=b;let E;switch(b){case Ee.CODE_START_A:E=Ee.CODE_CODE_A;break;case Ee.CODE_START_B:E=Ee.CODE_CODE_B;break;case Ee.CODE_START_C:E=Ee.CODE_CODE_C;break;default:throw new Y}let D=!1,L=!1,P="",V=g[0],X=g[1];const Z=Int32Array.from([0,0,0,0,0,0]);let ae=0,ue=0,Ce=b,ve=0,_e=!0,it=!1,Qe=!1;for(;!D;){const Zs=L;switch(L=!1,ae=ue,ue=Ee.decodeCode(c,Z,X),S[_++]=ue,ue!==Ee.CODE_STOP&&(_e=!0),ue!==Ee.CODE_STOP&&(ve++,Ce+=ve*ue),V=X,X+=Z.reduce((cu,So)=>cu+So,0),ue){case Ee.CODE_START_A:case Ee.CODE_START_B:case Ee.CODE_START_C:throw new Y}switch(E){case Ee.CODE_CODE_A:if(ue<64)Qe===it?P+=String.fromCharCode(32+ue):P+=String.fromCharCode(32+ue+128),Qe=!1;else if(ue<96)Qe===it?P+=String.fromCharCode(ue-64):P+=String.fromCharCode(ue+64),Qe=!1;else switch(ue!==Ee.CODE_STOP&&(_e=!1),ue){case Ee.CODE_FNC_1:m&&(P.length===0?P+="]C1":P+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_A:!it&&Qe?(it=!0,Qe=!1):it&&Qe?(it=!1,Qe=!1):Qe=!0;break;case Ee.CODE_SHIFT:L=!0,E=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_B:E=Ee.CODE_CODE_B;break;case Ee.CODE_CODE_C:E=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:D=!0;break}break;case Ee.CODE_CODE_B:if(ue<96)Qe===it?P+=String.fromCharCode(32+ue):P+=String.fromCharCode(32+ue+128),Qe=!1;else switch(ue!==Ee.CODE_STOP&&(_e=!1),ue){case Ee.CODE_FNC_1:m&&(P.length===0?P+="]C1":P+="");break;case Ee.CODE_FNC_2:case Ee.CODE_FNC_3:break;case Ee.CODE_FNC_4_B:!it&&Qe?(it=!0,Qe=!1):it&&Qe?(it=!1,Qe=!1):Qe=!0;break;case Ee.CODE_SHIFT:L=!0,E=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_A:E=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_C:E=Ee.CODE_CODE_C;break;case Ee.CODE_STOP:D=!0;break}break;case Ee.CODE_CODE_C:if(ue<100)ue<10&&(P+="0"),P+=ue;else switch(ue!==Ee.CODE_STOP&&(_e=!1),ue){case Ee.CODE_FNC_1:m&&(P.length===0?P+="]C1":P+="");break;case Ee.CODE_CODE_A:E=Ee.CODE_CODE_A;break;case Ee.CODE_CODE_B:E=Ee.CODE_CODE_B;break;case Ee.CODE_STOP:D=!0;break}break}Zs&&(E=E===Ee.CODE_CODE_A?Ee.CODE_CODE_B:Ee.CODE_CODE_A)}const gn=X-V;if(X=c.getNextUnset(X),!c.isRange(X,Math.min(c.getSize(),X+(X-V)/2),!1))throw new ie;if(Ce-=ve*ae,Ce%103!==ae)throw new j;const ga=P.length;if(ga===0)throw new ie;ga>0&&_e&&(E===Ee.CODE_CODE_C?P=P.substring(0,ga-2):P=P.substring(0,ga-1));const Wn=(g[1]+g[0])/2,kt=V+gn/2,Pn=S.length,la=new Uint8Array(Pn);for(let Zs=0;Zs<Pn;Zs++)la[Zs]=S[Zs];const zi=[new Be(Wn,s),new Be(kt,s)];return new Me(P,la,0,zi,Ne.CODE_128,new Date().getTime())}}Ee.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ee.MAX_AVG_VARIANCE=.25,Ee.MAX_INDIVIDUAL_VARIANCE=.7,Ee.CODE_SHIFT=98,Ee.CODE_CODE_C=99,Ee.CODE_CODE_B=100,Ee.CODE_CODE_A=101,Ee.CODE_FNC_1=102,Ee.CODE_FNC_2=97,Ee.CODE_FNC_3=96,Ee.CODE_FNC_4_A=101,Ee.CODE_FNC_4_B=100,Ee.CODE_START_A=103,Ee.CODE_START_B=104,Ee.CODE_START_C=105,Ee.CODE_STOP=106;class Vt extends $t{constructor(s=!1,c=!1){super(),this.usingCheckDigit=s,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,c,d){let m=this.counters;m.fill(0),this.decodeRowResult="";let g=Vt.findAsteriskPattern(c,m),b=c.getNextSet(g[1]),_=c.getSize(),S,E;do{Vt.recordPattern(c,b,m);let Z=Vt.toNarrowWidePattern(m);if(Z<0)throw new ie;S=Vt.patternToChar(Z),this.decodeRowResult+=S,E=b;for(let ae of m)b+=ae;b=c.getNextSet(b)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let Z of m)D+=Z;let L=b-E-D;if(b!==_&&L*2<D)throw new ie;if(this.usingCheckDigit){let Z=this.decodeRowResult.length-1,ae=0;for(let ue=0;ue<Z;ue++)ae+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ue));if(this.decodeRowResult.charAt(Z)!==Vt.ALPHABET_STRING.charAt(ae%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,Z)}if(this.decodeRowResult.length===0)throw new ie;let P;this.extendedMode?P=Vt.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let V=(g[1]+g[0])/2,X=E+D/2;return new Me(P,null,0,[new Be(V,s),new Be(X,s)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(s,c){let d=s.getSize(),m=s.getNextSet(0),g=0,b=m,_=!1,S=c.length;for(let E=m;E<d;E++)if(s.get(E)!==_)c[g]++;else{if(g===S-1){if(this.toNarrowWidePattern(c)===Vt.ASTERISK_ENCODING&&s.isRange(Math.max(0,b-Math.floor((E-b)/2)),b,!1))return[b,E];b+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,_=!_}throw new ie}static toNarrowWidePattern(s){let c=s.length,d=0,m;do{let g=2147483647;for(let S of s)S<g&&S>d&&(g=S);d=g,m=0;let b=0,_=0;for(let S=0;S<c;S++){let E=s[S];E>d&&(_|=1<<c-1-S,m++,b+=E)}if(m===3){for(let S=0;S<c&&m>0;S++){let E=s[S];if(E>d&&(m--,E*2>=b))return-1}return _}}while(m>3);return-1}static patternToChar(s){for(let c=0;c<Vt.CHARACTER_ENCODINGS.length;c++)if(Vt.CHARACTER_ENCODINGS[c]===s)return Vt.ALPHABET_STRING.charAt(c);if(s===Vt.ASTERISK_ENCODING)return"*";throw new ie}static decodeExtended(s){let c=s.length,d="";for(let m=0;m<c;m++){let g=s.charAt(m);if(g==="+"||g==="$"||g==="%"||g==="/"){let b=s.charAt(m+1),_="\0";switch(g){case"+":if(b>="A"&&b<="Z")_=String.fromCharCode(b.charCodeAt(0)+32);else throw new Y;break;case"$":if(b>="A"&&b<="Z")_=String.fromCharCode(b.charCodeAt(0)-64);else throw new Y;break;case"%":if(b>="A"&&b<="E")_=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")_=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")_=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")_=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")_="\0";else if(b==="V")_="@";else if(b==="W")_="`";else if(b==="X"||b==="Y"||b==="Z")_="";else throw new Y;break;case"/":if(b>="A"&&b<="O")_=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")_=":";else throw new Y;break}d+=_,m++}else d+=g}return d}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class nt extends $t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,c,d){let m=this.decodeStart(c),g=this.decodeEnd(c),b=new Re;nt.decodeMiddle(c,m[1],g[0],b);let _=b.toString(),S=null;d!=null&&(S=d.get(te.ALLOWED_LENGTHS)),S==null&&(S=nt.DEFAULT_ALLOWED_LENGTHS);let E=_.length,D=!1,L=0;for(let X of S){if(E===X){D=!0;break}X>L&&(L=X)}if(!D&&E>L&&(D=!0),!D)throw new Y;const P=[new Be(m[1],s),new Be(g[0],s)];return new Me(_,null,0,P,Ne.ITF,new Date().getTime())}static decodeMiddle(s,c,d,m){let g=new Int32Array(10),b=new Int32Array(5),_=new Int32Array(5);for(g.fill(0),b.fill(0),_.fill(0);c<d;){$t.recordPattern(s,c,g);for(let E=0;E<5;E++){let D=2*E;b[E]=g[D],_[E]=g[D+1]}let S=nt.decodeDigit(b);m.append(S.toString()),S=this.decodeDigit(_),m.append(S.toString()),g.forEach(function(E){c+=E})}}decodeStart(s){let c=nt.skipWhiteSpace(s),d=nt.findGuardPattern(s,c,nt.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(s,d[0]),d}validateQuietZone(s,c){let d=this.narrowLineWidth*10;d=d<c?d:c;for(let m=c-1;d>0&&m>=0&&!s.get(m);m--)d--;if(d!==0)throw new ie}static skipWhiteSpace(s){const c=s.getSize(),d=s.getNextSet(0);if(d===c)throw new ie;return d}decodeEnd(s){s.reverse();try{let c=nt.skipWhiteSpace(s),d;try{d=nt.findGuardPattern(s,c,nt.END_PATTERN_REVERSED[0])}catch(g){g instanceof ie&&(d=nt.findGuardPattern(s,c,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,d[0]);let m=d[0];return d[0]=s.getSize()-d[1],d[1]=s.getSize()-m,d}finally{s.reverse()}}static findGuardPattern(s,c,d){let m=d.length,g=new Int32Array(m),b=s.getSize(),_=!1,S=0,E=c;g.fill(0);for(let D=c;D<b;D++)if(s.get(D)!==_)g[S]++;else{if(S===m-1){if($t.patternMatchVariance(g,d,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[E,D];E+=g[0]+g[1],k.arraycopy(g,2,g,0,S-1),g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,_=!_}throw new ie}static decodeDigit(s){let c=nt.MAX_AVG_VARIANCE,d=-1,m=nt.PATTERNS.length;for(let g=0;g<m;g++){let b=nt.PATTERNS[g],_=$t.patternMatchVariance(s,b,nt.MAX_INDIVIDUAL_VARIANCE);_<c?(c=_,d=g):_===c&&(d=-1)}if(d>=0)return d%10;throw new ie}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rn extends $t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let c=!1,d,m=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),d=rn.findGuardPattern(s,m,!1,this.START_END_PATTERN,g);let b=d[0];m=d[1];let _=b-(m-b);_>=0&&(c=s.isRange(_,b,!1))}return d}static checkChecksum(s){return rn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let d=parseInt(s.charAt(c-1),10);return rn.getStandardUPCEANChecksum(s.substring(0,c-1))===d}static getStandardUPCEANChecksum(s){let c=s.length,d=0;for(let m=c-1;m>=0;m-=2){let g=s.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new Y;d+=g}d*=3;for(let m=c-2;m>=0;m-=2){let g=s.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new Y;d+=g}return(1e3-d)%10}static decodeEnd(s,c){return rn.findGuardPattern(s,c,!1,rn.START_END_PATTERN,new Int32Array(rn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,c,d,m){return this.findGuardPattern(s,c,d,m,new Int32Array(m.length))}static findGuardPattern(s,c,d,m,g){let b=s.getSize();c=d?s.getNextUnset(c):s.getNextSet(c);let _=0,S=c,E=m.length,D=d;for(let L=c;L<b;L++)if(s.get(L)!==D)g[_]++;else{if(_===E-1){if($t.patternMatchVariance(g,m,rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return Int32Array.from([S,L]);S+=g[0]+g[1];let P=g.slice(2,g.length-1);for(let V=0;V<_-1;V++)g[V]=P[V];g[_-1]=0,g[_]=0,_--}else _++;g[_]=1,D=!D}throw new ie}static decodeDigit(s,c,d,m){this.recordPattern(s,d,c);let g=this.MAX_AVG_VARIANCE,b=-1,_=m.length;for(let S=0;S<_;S++){let E=m[S],D=$t.patternMatchVariance(c,E,rn.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,b=S)}if(b>=0)return b;throw new ie}}rn.MAX_AVG_VARIANCE=.48,rn.MAX_INDIVIDUAL_VARIANCE=.7,rn.START_END_PATTERN=Int32Array.from([1,1,1]),rn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class wr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,d){let m=this.decodeRowStringBuffer,g=this.decodeMiddle(c,d,m),b=m.toString(),_=wr.parseExtensionString(b),S=[new Be((d[0]+d[1])/2,s),new Be(g,s)],E=new Me(b,null,0,S,Ne.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&E.putAllMetadata(_),E}decodeMiddle(s,c,d){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=s.getSize(),b=c[1],_=0;for(let E=0;E<5&&b<g;E++){let D=rn.decodeDigit(s,m,b,rn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+D%10);for(let L of m)b+=L;D>=10&&(_|=1<<4-E),E!==4&&(b=s.getNextSet(b),b=s.getNextUnset(b))}if(d.length!==5)throw new ie;let S=this.determineCheckDigit(_);if(wr.extensionChecksum(d.toString())!==S)throw new ie;return b}static extensionChecksum(s){let c=s.length,d=0;for(let m=c-2;m>=0;m-=2)d+=s.charAt(m).charCodeAt(0)-48;d*=3;for(let m=c-1;m>=0;m-=2)d+=s.charAt(m).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(s){for(let c=0;c<10;c++)if(s===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new ie}static parseExtensionString(s){if(s.length!==5)return null;let c=wr.parseExtension5String(s);return c==null?null:new Map([[wt.SUGGESTED_PRICE,c]])}static parseExtension5String(s){let c;switch(s.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let d=parseInt(s.substring(1)),m=(d/100).toString(),g=d%100,b=g<10?"0"+g:g.toString();return c+m+"."+b}}class mo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,d){let m=this.decodeRowStringBuffer,g=this.decodeMiddle(c,d,m),b=m.toString(),_=mo.parseExtensionString(b),S=[new Be((d[0]+d[1])/2,s),new Be(g,s)],E=new Me(b,null,0,S,Ne.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&E.putAllMetadata(_),E}decodeMiddle(s,c,d){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=s.getSize(),b=c[1],_=0;for(let S=0;S<2&&b<g;S++){let E=rn.decodeDigit(s,m,b,rn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+E%10);for(let D of m)b+=D;E>=10&&(_|=1<<1-S),S!==1&&(b=s.getNextSet(b),b=s.getNextUnset(b))}if(d.length!==2)throw new ie;if(parseInt(d.toString())%4!==_)throw new ie;return b}static parseExtensionString(s){return s.length!==2?null:new Map([[wt.ISSUE_NUMBER,parseInt(s)]])}}class _r{static decodeRow(s,c,d){let m=rn.findGuardPattern(c,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new wr().decodeRow(s,c,m)}catch{return new mo().decodeRow(s,c,m)}}}_r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends rn{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let c=ht.L_PATTERNS[s-10],d=new Int32Array(c.length);for(let m=0;m<c.length;m++)d[m]=c[c.length-m-1];ht.L_AND_G_PATTERNS[s]=d}}decodeRow(s,c,d){let m=ht.findStartGuardPattern(c),g=d==null?null:d.get(te.NEED_RESULT_POINT_CALLBACK);if(g!=null){const _e=new Be((m[0]+m[1])/2,s);g.foundPossibleResultPoint(_e)}let b=this.decodeMiddle(c,m,this.decodeRowStringBuffer),_=b.rowOffset,S=b.resultString;if(g!=null){const _e=new Be(_,s);g.foundPossibleResultPoint(_e)}let E=this.decodeEnd(c,_);if(g!=null){const _e=new Be((E[0]+E[1])/2,s);g.foundPossibleResultPoint(_e)}let D=E[1],L=D+(D-E[0]);if(L>=c.getSize()||!c.isRange(D,L,!1))throw new ie;let P=S.toString();if(P.length<8)throw new Y;if(!ht.checkChecksum(P))throw new j;let V=(m[1]+m[0])/2,X=(E[1]+E[0])/2,Z=this.getBarcodeFormat(),ae=[new Be(V,s),new Be(X,s)],ue=new Me(P,null,0,ae,Z,new Date().getTime()),Ce=0;try{let _e=_r.decodeRow(s,c,E[1]);ue.putMetadata(wt.UPC_EAN_EXTENSION,_e.getText()),ue.putAllMetadata(_e.getResultMetadata()),ue.addResultPoints(_e.getResultPoints()),Ce=_e.getText().length}catch{}let ve=d==null?null:d.get(te.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let _e=!1;for(let it in ve)if(Ce.toString()===it){_e=!0;break}if(!_e)throw new ie}return ue}decodeEnd(s,c){return ht.findGuardPattern(s,c,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return ht.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let d=parseInt(s.charAt(c-1),10);return ht.getStandardUPCEANChecksum(s.substring(0,c-1))===d}static getStandardUPCEANChecksum(s){let c=s.length,d=0;for(let m=c-1;m>=0;m-=2){let g=s.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new Y;d+=g}d*=3;for(let m=c-2;m>=0;m-=2){let g=s.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new Y;d+=g}return(1e3-d)%10}}class Ha extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,d){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=s.getSize(),b=c[1],_=0;for(let E=0;E<6&&b<g;E++){let D=ht.decodeDigit(s,m,b,ht.L_AND_G_PATTERNS);d+=String.fromCharCode(48+D%10);for(let L of m)b+=L;D>=10&&(_|=1<<5-E)}d=Ha.determineFirstDigit(d,_),b=ht.findGuardPattern(s,b,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&b<g;E++){let D=ht.decodeDigit(s,m,b,ht.L_PATTERNS);d+=String.fromCharCode(48+D);for(let L of m)b+=L}return{rowOffset:b,resultString:d}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(s,c){for(let d=0;d<10;d++)if(c===this.FIRST_DIGIT_ENCODINGS[d])return s=String.fromCharCode(48+d)+s,s;throw new ie}}Ha.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ws extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,d){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=s.getSize(),b=c[1];for(let S=0;S<4&&b<g;S++){let E=ht.decodeDigit(s,m,b,ht.L_PATTERNS);d+=String.fromCharCode(48+E);for(let D of m)b+=D}b=ht.findGuardPattern(s,b,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&b<g;S++){let E=ht.decodeDigit(s,m,b,ht.L_PATTERNS);d+=String.fromCharCode(48+E);for(let D of m)b+=D}return{rowOffset:b,resultString:d}}getBarcodeFormat(){return Ne.EAN_8}}class vr extends ht{constructor(){super(...arguments),this.ean13Reader=new Ha}getBarcodeFormat(){return Ne.UPC_A}decode(s,c){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,c,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,c,d))}decodeMiddle(s,c,d){return this.ean13Reader.decodeMiddle(s,c,d)}maybeReturnResult(s){let c=s.getText();if(c.charAt(0)==="0"){let d=new Me(c.substring(1),null,null,s.getResultPoints(),Ne.UPC_A);return s.getResultMetadata()!=null&&d.putAllMetadata(s.getResultMetadata()),d}else throw new ie}reset(){this.ean13Reader.reset()}}class Gn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,c,d){const m=this.decodeMiddleCounters.map(E=>E);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const g=s.getSize();let b=c[1],_=0;for(let E=0;E<6&&b<g;E++){const D=Gn.decodeDigit(s,m,b,Gn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+D%10);for(let L of m)b+=L;D>=10&&(_|=1<<5-E)}let S=Gn.determineNumSysAndCheckDigit(d,_);return{rowOffset:b,resultString:S}}decodeEnd(s,c){return Gn.findGuardPatternWithoutCounters(s,c,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(s){return ht.checkChecksum(Gn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,c){for(let d=0;d<=1;d++)for(let m=0;m<10;m++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][m]){let g=String.fromCharCode(48+d),b=String.fromCharCode(48+m);return g+s+b}throw ie.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(s){const c=s.slice(1,7).split("").map(g=>g.charCodeAt(0)),d=new Re;d.append(s.charAt(0));let m=c[5];switch(m){case 0:case 1:case 2:d.appendChars(c,0,2),d.append(m),d.append("0000"),d.appendChars(c,2,3);break;case 3:d.appendChars(c,0,3),d.append("00000"),d.appendChars(c,3,2);break;case 4:d.appendChars(c,0,4),d.append("00000"),d.append(c[4]);break;default:d.appendChars(c,0,5),d.append("0000"),d.append(m);break}return s.length>=8&&d.append(s.charAt(7)),d.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class go extends $t{constructor(s){super();let c=s==null?null:s.get(te.POSSIBLE_FORMATS),d=[];i(c)?(d.push(new Ha),d.push(new vr),d.push(new ws),d.push(new Gn)):(c.indexOf(Ne.EAN_13)>-1&&d.push(new Ha),c.indexOf(Ne.UPC_A)>-1&&d.push(new vr),c.indexOf(Ne.EAN_8)>-1&&d.push(new ws),c.indexOf(Ne.UPC_E)>-1&&d.push(new Gn)),this.readers=d}decodeRow(s,c,d){for(let m of this.readers)try{const g=m.decodeRow(s,c,d),b=g.getBarcodeFormat()===Ne.EAN_13&&g.getText().charAt(0)==="0",_=d==null?null:d.get(te.POSSIBLE_FORMATS),S=_==null||_.includes(Ne.UPC_A);if(b&&S){const E=g.getRawBytes(),D=new Me(g.getText().substring(1),E,E?E.length:null,g.getResultPoints(),Ne.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new ie}reset(){for(let s of this.readers)s.reset()}}class Rn extends $t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,c){for(let d=0;d<c.length;d++)if($t.patternMatchVariance(s,c[d],Rn.MAX_INDIVIDUAL_VARIANCE)<Rn.MAX_AVG_VARIANCE)return d;throw new ie}static count(s){return ot.sum(new Int32Array(s))}static increment(s,c){let d=0,m=c[0];for(let g=1;g<s.length;g++)c[g]>m&&(m=c[g],d=g);s[d]++}static decrement(s,c){let d=0,m=c[0];for(let g=1;g<s.length;g++)c[g]<m&&(m=c[g],d=g);s[d]--}static isFinderPattern(s){let c=s[0]+s[1],d=c+s[2]+s[3],m=c/d;if(m>=Rn.MIN_FINDER_PATTERN_RATIO&&m<=Rn.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let _ of s)_>b&&(b=_),_<g&&(g=_);return b<10*g}return!1}}Rn.MAX_AVG_VARIANCE=.2,Rn.MAX_INDIVIDUAL_VARIANCE=.45,Rn.MIN_FINDER_PATTERN_RATIO=9.5/12,Rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class _s{constructor(s,c){this.value=s,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof _s))return!1;const c=s;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vs{constructor(s,c,d,m,g){this.value=s,this.startEnd=c,this.value=s,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new Be(d,g)),this.resultPoints.push(new Be(m,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof vs))return!1;const c=s;return this.value===c.value}hashCode(){return this.value}}class Va{constructor(){}static getRSSvalue(s,c,d){let m=0;for(let S of s)m+=S;let g=0,b=0,_=s.length;for(let S=0;S<_-1;S++){let E;for(E=1,b|=1<<S;E<s[S];E++,b&=~(1<<S)){let D=Va.combins(m-E-1,_-S-2);if(d&&b===0&&m-E-(_-S-1)>=_-S-1&&(D-=Va.combins(m-E-(_-S),_-S-2)),_-S-1>1){let L=0;for(let P=m-E-(_-S-2);P>c;P--)L+=Va.combins(m-E-P-1,_-S-3);D-=L*(_-1-S)}else m-E>c&&D--;g+=D}m-=E}return g}static combins(s,c){let d,m;s-c>c?(m=c,d=s-c):(m=s-c,d=c);let g=1,b=1;for(let _=s;_>d;_--)g*=_,b<=m&&(g/=b,b++);for(;b<=m;)g/=b,b++;return g}}class Kc{static buildBitArray(s){let c=s.length*2-1;s[s.length-1].getRightChar()==null&&(c-=1);let d=12*c,m=new K(d),g=0,_=s[0].getRightChar().getValue();for(let S=11;S>=0;--S)(_&1<<S)!=0&&m.set(g),g++;for(let S=1;S<s.length;++S){let E=s[S],D=E.getLeftChar().getValue();for(let L=11;L>=0;--L)(D&1<<L)!=0&&m.set(g),g++;if(E.getRightChar()!=null){let L=E.getRightChar().getValue();for(let P=11;P>=0;--P)(L&1<<P)!=0&&m.set(g),g++}}return m}}class Ns{constructor(s,c){c?this.decodedInformation=null:(this.finished=s,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class rl{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Hn extends rl{constructor(s,c){super(s),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Hn.FNC1}}Hn.FNC1="$";class ls extends rl{constructor(s,c,d){super(s),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class na extends rl{constructor(s,c,d){if(super(s),c<0||c>10||d<0||d>10)throw new Y;this.firstDigit=c,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===na.FNC1}isSecondDigitFNC1(){return this.secondDigit===na.FNC1}isAnyFNC1(){return this.firstDigit===na.FNC1||this.secondDigit===na.FNC1}}na.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ie;let c=s.substring(0,2);for(let g of Ie.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,g[2],s):Ie.processFixedAI(2,g[1],s);if(s.length<3)throw new ie;let d=s.substring(0,3);for(let g of Ie.THREE_DIGIT_DATA_LENGTH)if(g[0]===d)return g[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,g[2],s):Ie.processFixedAI(3,g[1],s);for(let g of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===d)return g[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,g[2],s):Ie.processFixedAI(4,g[1],s);if(s.length<4)throw new ie;let m=s.substring(0,4);for(let g of Ie.FOUR_DIGIT_DATA_LENGTH)if(g[0]===m)return g[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,g[2],s):Ie.processFixedAI(4,g[1],s);throw new ie}static processFixedAI(s,c,d){if(d.length<s)throw new ie;let m=d.substring(0,s);if(d.length<s+c)throw new ie;let g=d.substring(s,s+c),b=d.substring(s+c),_="("+m+")"+g,S=Ie.parseFieldsInGeneralPurpose(b);return S==null?_:_+S}static processVariableAI(s,c,d){let m=d.substring(0,s),g;d.length<s+c?g=d.length:g=s+c;let b=d.substring(s,g),_=d.substring(g),S="("+m+")"+b,E=Ie.parseFieldsInGeneralPurpose(_);return E==null?S:S+E}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class aa{constructor(s){this.buffer=new Re,this.information=s}decodeAllCodes(s,c){let d=c,m=null;do{let g=this.decodeGeneralPurposeField(d,m),b=Ie.parseFieldsInGeneralPurpose(g.getNewString());if(b!=null&&s.append(b),g.isRemaining()?m=""+g.getRemainingValue():m=null,d===g.getNewPosition())break;d=g.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let c=s;c<s+3;++c)if(this.information.get(c))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(s,4);return g===0?new na(this.information.getSize(),na.FNC1,na.FNC1):new na(this.information.getSize(),g-1,na.FNC1)}let c=this.extractNumericValueFromBitArray(s,7),d=(c-8)/11,m=(c-8)%11;return new na(s+7,d,m)}extractNumericValueFromBitArray(s,c){return aa.extractNumericValueFromBitArray(this.information,s,c)}static extractNumericValueFromBitArray(s,c,d){let m=0;for(let g=0;g<d;++g)s.get(c+g)&&(m|=1<<d-g-1);return m}decodeGeneralPurposeField(s,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(s);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new ls(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new ls(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,c;do{let d=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),s=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),s=c.isFinished()):(c=this.parseNumericBlock(),s=c.isFinished()),!(d!==this.current.getPosition())&&!s)break}while(!s);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let c;return s.isSecondDigitFNC1()?c=new ls(this.current.getPosition(),this.buffer.toString()):c=new ls(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ns(!0,c)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let c=new ls(this.current.getPosition(),this.buffer.toString());return new Ns(!0,c)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ns(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new ls(this.current.getPosition(),this.buffer.toString());return new Ns(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ns(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new ls(this.current.getPosition(),this.buffer.toString());return new Ns(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ns(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,7);if(d>=64&&d<116)return!0;if(s+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(s,8);return m>=232&&m<253}decodeIsoIec646(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new Hn(s+5,Hn.FNC1);if(c>=5&&c<15)return new Hn(s+5,"0"+(c-5));let d=this.extractNumericValueFromBitArray(s,7);if(d>=64&&d<90)return new Hn(s+7,""+(d+1));if(d>=90&&d<116)return new Hn(s+7,""+(d+7));let m=this.extractNumericValueFromBitArray(s,8),g;switch(m){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new Y}return new Hn(s+8,g)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,6);return d>=16&&d<63}decodeAlphanumeric(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new Hn(s+5,Hn.FNC1);if(c>=5&&c<15)return new Hn(s+5,"0"+(c-5));let d=this.extractNumericValueFromBitArray(s,6);if(d>=32&&d<58)return new Hn(s+6,""+(d+33));let m;switch(d){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new ua("Decoding invalid alphanumeric value: "+d)}return new Hn(s+6,m)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<5&&c+s<this.information.getSize();++c)if(c===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+c))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let c=s;c<s+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<4&&c+s<this.information.getSize();++c)if(this.information.get(s+c))return!1;return!0}}class bn{constructor(s){this.information=s,this.generalDecoder=new aa(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rt extends bn{constructor(s){super(s)}encodeCompressedGtin(s,c){s.append("(01)");let d=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,c,d)}encodeCompressedGtinWithoutAI(s,c,d){for(let m=0;m<4;++m){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*m,10);g/100===0&&s.append("0"),g/10===0&&s.append("0"),s.append(g)}Rt.appendCheckDigit(s,d)}static appendCheckDigit(s,c){let d=0;for(let m=0;m<13;m++){let g=s.charAt(m+c).charCodeAt(0)-48;d+=(m&1)===0?3*g:g}d=10-d%10,d===10&&(d=0),s.append(d)}}Rt.GTIN_SIZE=40;class Sa extends Rt{constructor(s){super(s)}parseInformation(){let s=new Re;s.append("(01)");let c=s.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(Sa.HEADER_SIZE,4);return s.append(d),this.encodeCompressedGtinWithoutAI(s,Sa.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(s,Sa.HEADER_SIZE+44)}}Sa.HEADER_SIZE=4;class Ci extends bn{constructor(s){super(s)}parseInformation(){let s=new Re;return this.getGeneralDecoder().decodeAllCodes(s,Ci.HEADER_SIZE)}}Ci.HEADER_SIZE=5;class ll extends Rt{constructor(s){super(s)}encodeCompressedWeight(s,c,d){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(c,d);this.addWeightCode(s,m);let g=this.checkWeight(m),b=1e5;for(let _=0;_<5;++_)g/b===0&&s.append("0"),b/=10;s.append(g)}}class Ya extends ll{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ya.HEADER_SIZE+ll.GTIN_SIZE+Ya.WEIGHT_SIZE)throw new ie;let s=new Re;return this.encodeCompressedGtin(s,Ya.HEADER_SIZE),this.encodeCompressedWeight(s,Ya.HEADER_SIZE+ll.GTIN_SIZE,Ya.WEIGHT_SIZE),s.toString()}}Ya.HEADER_SIZE=5,Ya.WEIGHT_SIZE=15;class Zc extends Ya{constructor(s){super(s)}addWeightCode(s,c){s.append("(3103)")}checkWeight(s){return s}}class Nr extends Ya{constructor(s){super(s)}addWeightCode(s,c){c<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ha extends Rt{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ha.HEADER_SIZE+Rt.GTIN_SIZE)throw new ie;let s=new Re;this.encodeCompressedGtin(s,ha.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ha.HEADER_SIZE+Rt.GTIN_SIZE,ha.LAST_DIGIT_SIZE);s.append("(392"),s.append(c),s.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(ha.HEADER_SIZE+Rt.GTIN_SIZE+ha.LAST_DIGIT_SIZE,null);return s.append(d.getNewString()),s.toString()}}ha.HEADER_SIZE=8,ha.LAST_DIGIT_SIZE=2;class fn extends Rt{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<fn.HEADER_SIZE+Rt.GTIN_SIZE)throw new ie;let s=new Re;this.encodeCompressedGtin(s,fn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+Rt.GTIN_SIZE,fn.LAST_DIGIT_SIZE);s.append("(393"),s.append(c),s.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+Rt.GTIN_SIZE+fn.LAST_DIGIT_SIZE,fn.FIRST_THREE_DIGITS_SIZE);d/100==0&&s.append("0"),d/10==0&&s.append("0"),s.append(d);let m=this.getGeneralDecoder().decodeGeneralPurposeField(fn.HEADER_SIZE+Rt.GTIN_SIZE+fn.LAST_DIGIT_SIZE+fn.FIRST_THREE_DIGITS_SIZE,null);return s.append(m.getNewString()),s.toString()}}fn.HEADER_SIZE=8,fn.LAST_DIGIT_SIZE=2,fn.FIRST_THREE_DIGITS_SIZE=10;class Et extends ll{constructor(s,c,d){super(s),this.dateCode=d,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE+Et.DATE_SIZE)throw new ie;let s=new Re;return this.encodeCompressedGtin(s,Et.HEADER_SIZE),this.encodeCompressedWeight(s,Et.HEADER_SIZE+Et.GTIN_SIZE,Et.WEIGHT_SIZE),this.encodeCompressedDate(s,Et.HEADER_SIZE+Et.GTIN_SIZE+Et.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(c,Et.DATE_SIZE);if(d==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let m=d%32;d/=32;let g=d%12+1;d/=12;let b=d;b/10==0&&s.append("0"),s.append(b),g/10==0&&s.append("0"),s.append(g),m/10==0&&s.append("0"),s.append(m)}addWeightCode(s,c){s.append("("),s.append(this.firstAIdigits),s.append(c/1e5),s.append(")")}checkWeight(s){return s%1e5}}Et.HEADER_SIZE=8,Et.WEIGHT_SIZE=20,Et.DATE_SIZE=16;function Ei(R){try{if(R.get(1))return new Sa(R);if(!R.get(2))return new Ci(R);switch(aa.extractNumericValueFromBitArray(R,1,4)){case 4:return new Zc(R);case 5:return new Nr(R)}switch(aa.extractNumericValueFromBitArray(R,1,5)){case 12:return new ha(R);case 13:return new fn(R)}switch(aa.extractNumericValueFromBitArray(R,1,7)){case 56:return new Et(R,"310","11");case 57:return new Et(R,"320","11");case 58:return new Et(R,"310","13");case 59:return new Et(R,"320","13");case 60:return new Et(R,"310","15");case 61:return new Et(R,"320","15");case 62:return new Et(R,"310","17");case 63:return new Et(R,"320","17")}}catch(s){throw console.log(s),new ua("unknown decoder: "+R)}}class sa{constructor(s,c,d,m){this.leftchar=s,this.rightchar=c,this.finderpattern=d,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,c){return s instanceof sa?sa.equalsOrNull(s.leftchar,c.leftchar)&&sa.equalsOrNull(s.rightchar,c.rightchar)&&sa.equalsOrNull(s.finderpattern,c.finderpattern):!1}static equalsOrNull(s,c){return s===null?c===null:sa.equals(s,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class mn{constructor(s,c,d){this.pairs=s,this.rowNumber=c,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,c){return s instanceof mn?this.checkEqualitity(s,c)&&s.wasReversed===c.wasReversed:!1}checkEqualitity(s,c){if(!s||!c)return;let d;return s.forEach((m,g)=>{c.forEach(b=>{m.getLeftChar().getValue()===b.getLeftChar().getValue()&&m.getRightChar().getValue()===b.getRightChar().getValue()&&m.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(d=!0)})}),d}}class be extends Rn{constructor(s){super(...arguments),this.pairs=new Array(be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,c,d){this.pairs.length=0,this.startFromEven=!1;try{return be.constructResult(this.decodeRow2pairs(s,c))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,be.constructResult(this.decodeRow2pairs(s,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,c){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,s))}catch(g){if(g instanceof ie){if(!this.pairs.length)throw new ie;d=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(s,!1),m){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new ie}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return s&&(this.rows=this.rows.reverse()),c}checkRows(s,c){for(let d=c;d<this.rows.length;d++){let m=this.rows[d];this.pairs.length=0;for(let b of s)this.pairs.push(b.getPairs());if(this.pairs.push(m.getPairs()),!be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(s);g.push(m);try{return this.checkRows(g,d+1)}catch(b){this.verbose&&console.log(b)}}throw new ie}static isValidSequence(s){for(let c of be.FINDER_PATTERN_SEQUENCES){if(s.length>c.length)continue;let d=!0;for(let m=0;m<s.length;m++)if(s[m].getFinderPattern().getValue()!=c[m]){d=!1;break}if(d)return!0}return!1}storeRow(s,c){let d=0,m=!1,g=!1;for(;d<this.rows.length;){let b=this.rows[d];if(b.getRowNumber()>s){g=b.isEquivalent(this.pairs);break}m=b.isEquivalent(this.pairs),d++}g||m||be.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new mn(this.pairs,s,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,c){for(let d of c)if(d.getPairs().length!==s.length){for(let m of d.getPairs())for(let g of s)if(sa.equals(m,g))break}}static isPartialRow(s,c){for(let d of c){let m=!0;for(let g of s){let b=!1;for(let _ of d.getPairs())if(g.equals(_)){b=!0;break}if(!b){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(s){let c=Kc.buildBitArray(s),m=Ei(c).parseInformation(),g=s[0].getFinderPattern().getResultPoints(),b=s[s.length-1].getFinderPattern().getResultPoints(),_=[g[0],g[1],b[0],b[1]];return new Me(m,null,null,_,Ne.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),c=s.getLeftChar(),d=s.getRightChar();if(d==null)return!1;let m=d.getChecksumPortion(),g=2;for(let _=1;_<this.pairs.size();++_){let S=this.pairs.get(_);m+=S.getLeftChar().getChecksumPortion(),g++;let E=S.getRightChar();E!=null&&(m+=E.getChecksumPortion(),g++)}return m%=211,211*(g-4)+m==c.getValue()}static getNextSecondBar(s,c){let d;return s.get(c)?(d=s.getNextUnset(c),d=s.getNextSet(d)):(d=s.getNextSet(c),d=s.getNextUnset(d)),d}retrieveNextPair(s,c,d){let m=c.length%2==0;this.startFromEven&&(m=!m);let g,b=!0,_=-1;do this.findNextPair(s,c,_),g=this.parseFoundFinderPattern(s,d,m),g==null?_=be.getNextSecondBar(s,this.startEnd[0]):b=!1;while(b);let S=this.decodeDataCharacter(s,g,m,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new ie;let E;try{E=this.decodeDataCharacter(s,g,m,!1)}catch(D){E=null,this.verbose&&console.log(D)}return new sa(S,E,g,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,c,d){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=s.getSize(),b;d>=0?b=d:this.isEmptyPair(c)?b=0:b=c[c.length-1].getFinderPattern().getStartEnd()[1];let _=c.length%2!=0;this.startFromEven&&(_=!_);let S=!1;for(;b<g&&(S=!s.get(b),!!S);)b++;let E=0,D=b;for(let L=b;L<g;L++)if(s.get(L)!=S)m[E]++;else{if(E==3){if(_&&be.reverseCounters(m),be.isFinderPattern(m)){this.startEnd[0]=D,this.startEnd[1]=L;return}_&&be.reverseCounters(m),D+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,E--}else E++;m[E]=1,S=!S}throw new ie}static reverseCounters(s){let c=s.length;for(let d=0;d<c/2;++d){let m=s[d];s[d]=s[c-d-1],s[c-d-1]=m}}parseFoundFinderPattern(s,c,d){let m,g,b;if(d){let E=this.startEnd[0]-1;for(;E>=0&&!s.get(E);)E--;E++,m=this.startEnd[0]-E,g=E,b=this.startEnd[1]}else g=this.startEnd[0],b=s.getNextUnset(this.startEnd[1]+1),m=b-this.startEnd[1];let _=this.getDecodeFinderCounters();k.arraycopy(_,0,_,1,_.length-1),_[0]=m;let S;try{S=this.parseFinderValue(_,be.FINDER_PATTERNS)}catch{return null}return new vs(S,[g,b],g,b,c)}decodeDataCharacter(s,c,d,m){let g=this.getDataCharacterCounters();for(let kt=0;kt<g.length;kt++)g[kt]=0;if(m)be.recordPatternInReverse(s,c.getStartEnd()[0],g);else{be.recordPattern(s,c.getStartEnd()[1],g);for(let kt=0,Pn=g.length-1;kt<Pn;kt++,Pn--){let la=g[kt];g[kt]=g[Pn],g[Pn]=la}}let b=17,_=ot.sum(new Int32Array(g))/b,S=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(_-S)/S>.3)throw new ie;let E=this.getOddCounts(),D=this.getEvenCounts(),L=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let kt=0;kt<g.length;kt++){let Pn=1*g[kt]/_,la=Pn+.5;if(la<1){if(Pn<.3)throw new ie;la=1}else if(la>8){if(Pn>8.7)throw new ie;la=8}let zi=kt/2;(kt&1)==0?(E[zi]=la,L[zi]=Pn-la):(D[zi]=la,P[zi]=Pn-la)}this.adjustOddEvenCounts(b);let V=4*c.getValue()+(d?0:2)+(m?0:1)-1,X=0,Z=0;for(let kt=E.length-1;kt>=0;kt--){if(be.isNotA1left(c,d,m)){let Pn=be.WEIGHTS[V][2*kt];Z+=E[kt]*Pn}X+=E[kt]}let ae=0;for(let kt=D.length-1;kt>=0;kt--)if(be.isNotA1left(c,d,m)){let Pn=be.WEIGHTS[V][2*kt+1];ae+=D[kt]*Pn}let ue=Z+ae;if((X&1)!=0||X>13||X<4)throw new ie;let Ce=(13-X)/2,ve=be.SYMBOL_WIDEST[Ce],_e=9-ve,it=Va.getRSSvalue(E,ve,!0),Qe=Va.getRSSvalue(D,_e,!1),gn=be.EVEN_TOTAL_SUBSET[Ce],ga=be.GSUM[Ce],Wn=it*gn+Qe+ga;return new _s(Wn,ue)}static isNotA1left(s,c,d){return!(s.getValue()==0&&c&&d)}adjustOddEvenCounts(s){let c=ot.sum(new Int32Array(this.getOddCounts())),d=ot.sum(new Int32Array(this.getEvenCounts())),m=!1,g=!1;c>13?g=!0:c<4&&(m=!0);let b=!1,_=!1;d>13?_=!0:d<4&&(b=!0);let S=c+d-s,E=(c&1)==1,D=(d&1)==0;if(S==1)if(E){if(D)throw new ie;g=!0}else{if(!D)throw new ie;_=!0}else if(S==-1)if(E){if(D)throw new ie;m=!0}else{if(!D)throw new ie;b=!0}else if(S==0){if(E){if(!D)throw new ie;c<d?(m=!0,_=!0):(g=!0,b=!0)}else if(D)throw new ie}else throw new ie;if(m){if(g)throw new ie;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(_)throw new ie;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}be.SYMBOL_WIDEST=[7,5,4,3,1],be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],be.GSUM=[0,348,1388,2948,3988],be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],be.FINDER_PAT_A=0,be.FINDER_PAT_B=1,be.FINDER_PAT_C=2,be.FINDER_PAT_D=3,be.FINDER_PAT_E=4,be.FINDER_PAT_F=5,be.FINDER_PATTERN_SEQUENCES=[[be.FINDER_PAT_A,be.FINDER_PAT_A],[be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B],[be.FINDER_PAT_A,be.FINDER_PAT_C,be.FINDER_PAT_B,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_C],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F]],be.MAX_PAIRS=11;class Qc extends _s{constructor(s,c,d){super(s,c),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends Rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,c,d){const m=this.decodePair(c,!1,s,d);Mt.addOrTally(this.possibleLeftPairs,m),c.reverse();let g=this.decodePair(c,!0,s,d);Mt.addOrTally(this.possibleRightPairs,g),c.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&Mt.checkChecksum(b,_))return Mt.constructResult(b,_)}throw new ie}static addOrTally(s,c){if(c==null)return;let d=!1;for(let m of s)if(m.getValue()===c.getValue()){m.incrementCount(),d=!0;break}d||s.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,c){let d=4537077*s.getValue()+c.getValue(),m=new String(d).toString(),g=new Re;for(let E=13-m.length;E>0;E--)g.append("0");g.append(m);let b=0;for(let E=0;E<13;E++){let D=g.charAt(E).charCodeAt(0)-48;b+=(E&1)===0?3*D:D}b=10-b%10,b===10&&(b=0),g.append(b.toString());let _=s.getFinderPattern().getResultPoints(),S=c.getFinderPattern().getResultPoints();return new Me(g.toString(),null,0,[_[0],_[1],S[0],S[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(s,c){let d=(s.getChecksumPortion()+16*c.getChecksumPortion())%79,m=9*s.getFinderPattern().getValue()+c.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,d===m}decodePair(s,c,d,m){try{let g=this.findFinderPattern(s,c),b=this.parseFoundFinderPattern(s,d,c,g),_=m==null?null:m.get(te.NEED_RESULT_POINT_CALLBACK);if(_!=null){let D=(g[0]+g[1])/2;c&&(D=s.getSize()-1-D),_.foundPossibleResultPoint(new Be(D,d))}let S=this.decodeDataCharacter(s,b,!0),E=this.decodeDataCharacter(s,b,!1);return new Qc(1597*S.getValue()+E.getValue(),S.getChecksumPortion()+4*E.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(s,c,d){let m=this.getDataCharacterCounters();for(let ae=0;ae<m.length;ae++)m[ae]=0;if(d)$t.recordPatternInReverse(s,c.getStartEnd()[0],m);else{$t.recordPattern(s,c.getStartEnd()[1]+1,m);for(let ae=0,ue=m.length-1;ae<ue;ae++,ue--){let Ce=m[ae];m[ae]=m[ue],m[ue]=Ce}}let g=d?16:15,b=ot.sum(new Int32Array(m))/g,_=this.getOddCounts(),S=this.getEvenCounts(),E=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ae=0;ae<m.length;ae++){let ue=m[ae]/b,Ce=Math.floor(ue+.5);Ce<1?Ce=1:Ce>8&&(Ce=8);let ve=Math.floor(ae/2);(ae&1)===0?(_[ve]=Ce,E[ve]=ue-Ce):(S[ve]=Ce,D[ve]=ue-Ce)}this.adjustOddEvenCounts(d,g);let L=0,P=0;for(let ae=_.length-1;ae>=0;ae--)P*=9,P+=_[ae],L+=_[ae];let V=0,X=0;for(let ae=S.length-1;ae>=0;ae--)V*=9,V+=S[ae],X+=S[ae];let Z=P+3*V;if(d){if((L&1)!==0||L>12||L<4)throw new ie;let ae=(12-L)/2,ue=Mt.OUTSIDE_ODD_WIDEST[ae],Ce=9-ue,ve=Va.getRSSvalue(_,ue,!1),_e=Va.getRSSvalue(S,Ce,!0),it=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[ae],Qe=Mt.OUTSIDE_GSUM[ae];return new _s(ve*it+_e+Qe,Z)}else{if((X&1)!==0||X>10||X<4)throw new ie;let ae=(10-X)/2,ue=Mt.INSIDE_ODD_WIDEST[ae],Ce=9-ue,ve=Va.getRSSvalue(_,ue,!0),_e=Va.getRSSvalue(S,Ce,!1),it=Mt.INSIDE_ODD_TOTAL_SUBSET[ae],Qe=Mt.INSIDE_GSUM[ae];return new _s(_e*it+ve+Qe,Z)}}findFinderPattern(s,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let m=s.getSize(),g=!1,b=0;for(;b<m&&(g=!s.get(b),c!==g);)b++;let _=0,S=b;for(let E=b;E<m;E++)if(s.get(E)!==g)d[_]++;else{if(_===3){if(Rn.isFinderPattern(d))return[S,E];S+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,_--}else _++;d[_]=1,g=!g}throw new ie}parseFoundFinderPattern(s,c,d,m){let g=s.get(m[0]),b=m[0]-1;for(;b>=0&&g!==s.get(b);)b--;b++;const _=m[0]-b,S=this.getDecodeFinderCounters(),E=new Int32Array(S.length);k.arraycopy(S,0,E,1,S.length-1),E[0]=_;const D=this.parseFinderValue(E,Mt.FINDER_PATTERNS);let L=b,P=m[1];return d&&(L=s.getSize()-1-L,P=s.getSize()-1-P),new vs(D,[b,m[1]],L,P,c)}adjustOddEvenCounts(s,c){let d=ot.sum(new Int32Array(this.getOddCounts())),m=ot.sum(new Int32Array(this.getEvenCounts())),g=!1,b=!1,_=!1,S=!1;s?(d>12?b=!0:d<4&&(g=!0),m>12?S=!0:m<4&&(_=!0)):(d>11?b=!0:d<5&&(g=!0),m>10?S=!0:m<4&&(_=!0));let E=d+m-c,D=(d&1)===(s?1:0),L=(m&1)===1;if(E===1)if(D){if(L)throw new ie;b=!0}else{if(!L)throw new ie;S=!0}else if(E===-1)if(D){if(L)throw new ie;g=!0}else{if(!L)throw new ie;_=!0}else if(E===0){if(D){if(!L)throw new ie;d<m?(g=!0,S=!0):(b=!0,_=!0)}else if(L)throw new ie}else throw new ie;if(g){if(b)throw new ie;Rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(S)throw new ie;Rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ca extends $t{constructor(s,c){super(),this.readers=[],this.verbose=c===!0;const d=s?s.get(te.POSSIBLE_FORMATS):null,m=s&&s.get(te.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Ne.EAN_13)||d.includes(Ne.UPC_A)||d.includes(Ne.EAN_8)||d.includes(Ne.UPC_E))&&this.readers.push(new go(s)),d.includes(Ne.CODE_39)&&this.readers.push(new Vt(m)),d.includes(Ne.CODE_128)&&this.readers.push(new Ee),d.includes(Ne.ITF)&&this.readers.push(new nt),d.includes(Ne.RSS_14)&&this.readers.push(new Mt),d.includes(Ne.RSS_EXPANDED)&&this.readers.push(new be(this.verbose))):(this.readers.push(new go(s)),this.readers.push(new Vt),this.readers.push(new go(s)),this.readers.push(new Ee),this.readers.push(new nt),this.readers.push(new Mt),this.readers.push(new be(this.verbose)))}decodeRow(s,c,d){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(s,c,d)}catch{}throw new ie}reset(){this.readers.forEach(s=>s.reset())}}class bh extends je{constructor(s=500,c){super(new Ca(c),s,c)}}class Nt{constructor(s,c,d){this.ecCodewords=s,this.ecBlocks=[c],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vt{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ct{constructor(s,c,d,m,g,b){this.versionNumber=s,this.symbolSizeRows=c,this.symbolSizeColumns=d,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=g,this.ecBlocks=b;let _=0;const S=b.getECCodewords(),E=b.getECBlocks();for(let D of E)_+=D.getCount()*(D.getDataCodewords()+S);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,c){if((s&1)!==0||(c&1)!==0)throw new Y;for(let d of ct.VERSIONS)if(d.symbolSizeRows===s&&d.symbolSizeColumns===c)return d;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new ct(1,10,10,8,8,new Nt(5,new vt(1,3))),new ct(2,12,12,10,10,new Nt(7,new vt(1,5))),new ct(3,14,14,12,12,new Nt(10,new vt(1,8))),new ct(4,16,16,14,14,new Nt(12,new vt(1,12))),new ct(5,18,18,16,16,new Nt(14,new vt(1,18))),new ct(6,20,20,18,18,new Nt(18,new vt(1,22))),new ct(7,22,22,20,20,new Nt(20,new vt(1,30))),new ct(8,24,24,22,22,new Nt(24,new vt(1,36))),new ct(9,26,26,24,24,new Nt(28,new vt(1,44))),new ct(10,32,32,14,14,new Nt(36,new vt(1,62))),new ct(11,36,36,16,16,new Nt(42,new vt(1,86))),new ct(12,40,40,18,18,new Nt(48,new vt(1,114))),new ct(13,44,44,20,20,new Nt(56,new vt(1,144))),new ct(14,48,48,22,22,new Nt(68,new vt(1,174))),new ct(15,52,52,24,24,new Nt(42,new vt(2,102))),new ct(16,64,64,14,14,new Nt(56,new vt(2,140))),new ct(17,72,72,16,16,new Nt(36,new vt(4,92))),new ct(18,80,80,18,18,new Nt(48,new vt(4,114))),new ct(19,88,88,20,20,new Nt(56,new vt(4,144))),new ct(20,96,96,22,22,new Nt(68,new vt(4,174))),new ct(21,104,104,24,24,new Nt(56,new vt(6,136))),new ct(22,120,120,18,18,new Nt(68,new vt(6,175))),new ct(23,132,132,20,20,new Nt(62,new vt(8,163))),new ct(24,144,144,22,22,new Nt(62,new vt(8,156),new vt(2,155))),new ct(25,8,18,6,16,new Nt(7,new vt(1,5))),new ct(26,8,32,6,14,new Nt(11,new vt(1,10))),new ct(27,12,26,10,24,new Nt(14,new vt(1,16))),new ct(28,12,36,10,16,new Nt(18,new vt(1,22))),new ct(29,16,36,14,16,new Nt(24,new vt(1,32))),new ct(30,16,48,14,22,new Nt(28,new vt(1,49)))]}}ct.VERSIONS=ct.buildVersions();class Ti{constructor(s){const c=s.getHeight();if(c<8||c>144||(c&1)!==0)throw new Y;this.version=Ti.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new et(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const c=s.getHeight(),d=s.getWidth();return ct.getVersionForDimensions(c,d)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let c=0,d=4,m=0;const g=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let _=!1,S=!1,E=!1,D=!1;do if(d===g&&m===0&&!_)s[c++]=this.readCorner1(g,b)&255,d-=2,m+=2,_=!0;else if(d===g-2&&m===0&&(b&3)!==0&&!S)s[c++]=this.readCorner2(g,b)&255,d-=2,m+=2,S=!0;else if(d===g+4&&m===2&&(b&7)===0&&!E)s[c++]=this.readCorner3(g,b)&255,d-=2,m+=2,E=!0;else if(d===g-2&&m===0&&(b&7)===4&&!D)s[c++]=this.readCorner4(g,b)&255,d-=2,m+=2,D=!0;else{do d<g&&m>=0&&!this.readMappingMatrix.get(m,d)&&(s[c++]=this.readUtah(d,m,g,b)&255),d-=2,m+=2;while(d>=0&&m<b);d+=1,m+=3;do d>=0&&m<b&&!this.readMappingMatrix.get(m,d)&&(s[c++]=this.readUtah(d,m,g,b)&255),d+=2,m-=2;while(d<g&&m>=0);d+=3,m+=1}while(d<g||m<b);if(c!==this.version.getTotalCodewords())throw new Y;return s}readModule(s,c,d,m){return s<0&&(s+=d,c+=4-(d+4&7)),c<0&&(c+=m,s+=4-(m+4&7)),this.readMappingMatrix.set(c,s),this.mappingBitMatrix.get(c,s)}readUtah(s,c,d,m){let g=0;return this.readModule(s-2,c-2,d,m)&&(g|=1),g<<=1,this.readModule(s-2,c-1,d,m)&&(g|=1),g<<=1,this.readModule(s-1,c-2,d,m)&&(g|=1),g<<=1,this.readModule(s-1,c-1,d,m)&&(g|=1),g<<=1,this.readModule(s-1,c,d,m)&&(g|=1),g<<=1,this.readModule(s,c-2,d,m)&&(g|=1),g<<=1,this.readModule(s,c-1,d,m)&&(g|=1),g<<=1,this.readModule(s,c,d,m)&&(g|=1),g}readCorner1(s,c){let d=0;return this.readModule(s-1,0,s,c)&&(d|=1),d<<=1,this.readModule(s-1,1,s,c)&&(d|=1),d<<=1,this.readModule(s-1,2,s,c)&&(d|=1),d<<=1,this.readModule(0,c-2,s,c)&&(d|=1),d<<=1,this.readModule(0,c-1,s,c)&&(d|=1),d<<=1,this.readModule(1,c-1,s,c)&&(d|=1),d<<=1,this.readModule(2,c-1,s,c)&&(d|=1),d<<=1,this.readModule(3,c-1,s,c)&&(d|=1),d}readCorner2(s,c){let d=0;return this.readModule(s-3,0,s,c)&&(d|=1),d<<=1,this.readModule(s-2,0,s,c)&&(d|=1),d<<=1,this.readModule(s-1,0,s,c)&&(d|=1),d<<=1,this.readModule(0,c-4,s,c)&&(d|=1),d<<=1,this.readModule(0,c-3,s,c)&&(d|=1),d<<=1,this.readModule(0,c-2,s,c)&&(d|=1),d<<=1,this.readModule(0,c-1,s,c)&&(d|=1),d<<=1,this.readModule(1,c-1,s,c)&&(d|=1),d}readCorner3(s,c){let d=0;return this.readModule(s-1,0,s,c)&&(d|=1),d<<=1,this.readModule(s-1,c-1,s,c)&&(d|=1),d<<=1,this.readModule(0,c-3,s,c)&&(d|=1),d<<=1,this.readModule(0,c-2,s,c)&&(d|=1),d<<=1,this.readModule(0,c-1,s,c)&&(d|=1),d<<=1,this.readModule(1,c-3,s,c)&&(d|=1),d<<=1,this.readModule(1,c-2,s,c)&&(d|=1),d<<=1,this.readModule(1,c-1,s,c)&&(d|=1),d}readCorner4(s,c){let d=0;return this.readModule(s-3,0,s,c)&&(d|=1),d<<=1,this.readModule(s-2,0,s,c)&&(d|=1),d<<=1,this.readModule(s-1,0,s,c)&&(d|=1),d<<=1,this.readModule(0,c-2,s,c)&&(d|=1),d<<=1,this.readModule(0,c-1,s,c)&&(d|=1),d<<=1,this.readModule(1,c-1,s,c)&&(d|=1),d<<=1,this.readModule(2,c-1,s,c)&&(d|=1),d<<=1,this.readModule(3,c-1,s,c)&&(d|=1),d}extractDataRegion(s){const c=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(s.getHeight()!==c)throw new A("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),b=c/m|0,_=d/g|0,S=b*m,E=_*g,D=new et(E,S);for(let L=0;L<b;++L){const P=L*m;for(let V=0;V<_;++V){const X=V*g;for(let Z=0;Z<m;++Z){const ae=L*(m+2)+1+Z,ue=P+Z;for(let Ce=0;Ce<g;++Ce){const ve=V*(g+2)+1+Ce;if(s.get(ve,ae)){const _e=X+Ce;D.set(_e,ue)}}}}}return D}}class ji{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c){const d=c.getECBlocks();let m=0;const g=d.getECBlocks();for(let Z of g)m+=Z.getCount();const b=new Array(m);let _=0;for(let Z of g)for(let ae=0;ae<Z.getCount();ae++){const ue=Z.getDataCodewords(),Ce=d.getECCodewords()+ue;b[_++]=new ji(ue,new Uint8Array(Ce))}const E=b[0].codewords.length-d.getECCodewords(),D=E-1;let L=0;for(let Z=0;Z<D;Z++)for(let ae=0;ae<_;ae++)b[ae].codewords[Z]=s[L++];const P=c.getVersionNumber()===24,V=P?8:_;for(let Z=0;Z<V;Z++)b[Z].codewords[E-1]=s[L++];const X=b[0].codewords.length;for(let Z=E;Z<X;Z++)for(let ae=0;ae<_;ae++){const ue=P?(ae+8)%_:ae,Ce=P&&ue>7?Z-1:Z;b[ue].codewords[Ce]=s[L++]}if(L!==s.length)throw new A;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ea{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new A(""+s);let c=0,d=this.bitOffset,m=this.byteOffset;const g=this.bytes;if(d>0){const b=8-d,_=s<b?s:b,S=b-_,E=255>>8-_<<S;c=(g[m]&E)>>S,s-=_,d+=_,d===8&&(d=0,m++)}if(s>0){for(;s>=8;)c=c<<8|g[m]&255,m++,s-=8;if(s>0){const b=8-s,_=255>>b<<b;c=c<<s|(g[m]&_)>>b,d+=s}}return this.bitOffset=d,this.byteOffset=m,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var At;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(At||(At={}));class os{static decode(s){const c=new Ea(s),d=new Re,m=new Re,g=new Array;let b=At.ASCII_ENCODE;do if(b===At.ASCII_ENCODE)b=this.decodeAsciiSegment(c,d,m);else{switch(b){case At.C40_ENCODE:this.decodeC40Segment(c,d);break;case At.TEXT_ENCODE:this.decodeTextSegment(c,d);break;case At.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,d);break;case At.EDIFACT_ENCODE:this.decodeEdifactSegment(c,d);break;case At.BASE256_ENCODE:this.decodeBase256Segment(c,d,g);break;default:throw new Y}b=At.ASCII_ENCODE}while(b!==At.PAD_ENCODE&&c.available()>0);return m.length()>0&&d.append(m.toString()),new qt(s,d.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(s,c,d){let m=!1;do{let g=s.readBits(8);if(g===0)throw new Y;if(g<=128)return m&&(g+=128),c.append(String.fromCharCode(g-1)),At.ASCII_ENCODE;if(g===129)return At.PAD_ENCODE;if(g<=229){const b=g-130;b<10&&c.append("0"),c.append(""+b)}else switch(g){case 230:return At.C40_ENCODE;case 231:return At.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:c.append("[)>05"),d.insert(0,"");break;case 237:c.append("[)>06"),d.insert(0,"");break;case 238:return At.ANSIX12_ENCODE;case 239:return At.TEXT_ENCODE;case 240:return At.EDIFACT_ENCODE;case 241:break;default:if(g!==254||s.available()!==0)throw new Y;break}}while(s.available()>0);return At.ASCII_ENCODE}static decodeC40Segment(s,c){let d=!1;const m=[];let g=0;do{if(s.available()===8)return;const b=s.readBits(8);if(b===254)return;this.parseTwoBytes(b,s.readBits(8),m);for(let _=0;_<3;_++){const S=m[_];switch(g){case 0:if(S<3)g=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[S];d?(c.append(String.fromCharCode(E.charCodeAt(0)+128)),d=!1):c.append(E)}else throw new Y;break;case 1:d?(c.append(String.fromCharCode(S+128)),d=!1):c.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[S];d?(c.append(String.fromCharCode(E.charCodeAt(0)+128)),d=!1):c.append(E)}else switch(S){case 27:c.append("");break;case 30:d=!0;break;default:throw new Y}g=0;break;case 3:d?(c.append(String.fromCharCode(S+224)),d=!1):c.append(String.fromCharCode(S+96)),g=0;break;default:throw new Y}}}while(s.available()>0)}static decodeTextSegment(s,c){let d=!1,m=[],g=0;do{if(s.available()===8)return;const b=s.readBits(8);if(b===254)return;this.parseTwoBytes(b,s.readBits(8),m);for(let _=0;_<3;_++){const S=m[_];switch(g){case 0:if(S<3)g=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[S];d?(c.append(String.fromCharCode(E.charCodeAt(0)+128)),d=!1):c.append(E)}else throw new Y;break;case 1:d?(c.append(String.fromCharCode(S+128)),d=!1):c.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[S];d?(c.append(String.fromCharCode(E.charCodeAt(0)+128)),d=!1):c.append(E)}else switch(S){case 27:c.append("");break;case 30:d=!0;break;default:throw new Y}g=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[S];d?(c.append(String.fromCharCode(E.charCodeAt(0)+128)),d=!1):c.append(E),g=0}else throw new Y;break;default:throw new Y}}}while(s.available()>0)}static decodeAnsiX12Segment(s,c){const d=[];do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),d);for(let g=0;g<3;g++){const b=d[g];switch(b){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(b<14)c.append(String.fromCharCode(b+44));else if(b<40)c.append(String.fromCharCode(b+51));else throw new Y;break}}}while(s.available()>0)}static parseTwoBytes(s,c,d){let m=(s<<8)+c-1,g=Math.floor(m/1600);d[0]=g,m-=g*1600,g=Math.floor(m/40),d[1]=g,d[2]=m-g*40}static decodeEdifactSegment(s,c){do{if(s.available()<=16)return;for(let d=0;d<4;d++){let m=s.readBits(6);if(m===31){const g=8-s.getBitOffset();g!==8&&s.readBits(g);return}(m&32)===0&&(m|=64),c.append(String.fromCharCode(m))}}while(s.available()>0)}static decodeBase256Segment(s,c,d){let m=1+s.getByteOffset();const g=this.unrandomize255State(s.readBits(8),m++);let b;if(g===0?b=s.available()/8|0:g<250?b=g:b=250*(g-249)+this.unrandomize255State(s.readBits(8),m++),b<0)throw new Y;const _=new Uint8Array(b);for(let S=0;S<b;S++){if(s.available()<8)throw new Y;_[S]=this.unrandomize255State(s.readBits(8),m++)}d.push(_);try{c.append(Ae.decode(_,me.ISO88591))}catch(S){throw new ua("Platform does not support required encoding: "+S.message)}}static unrandomize255State(s,c){const d=149*c%255+1,m=s-d;return m>=0?m:m+256}}os.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],os.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],os.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],os.TEXT_SHIFT2_SET_CHARS=os.C40_SHIFT2_SET_CHARS,os.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class wh{constructor(){this.rsDecoder=new Vs(_t.DATA_MATRIX_FIELD_256)}decode(s){const c=new Ti(s),d=c.getVersion(),m=c.readCodewords(),g=ji.getDataBlocks(m,d);let b=0;for(let E of g)b+=E.getNumDataCodewords();const _=new Uint8Array(b),S=g.length;for(let E=0;E<S;E++){const D=g[E],L=D.getCodewords(),P=D.getNumDataCodewords();this.correctErrors(L,P);for(let V=0;V<P;V++)_[V*S+E]=L[V]}return os.decode(_)}correctErrors(s,c){const d=new Int32Array(s);try{this.rsDecoder.decode(d,s.length-c)}catch{throw new j}for(let m=0;m<c;m++)s[m]=d[m]}}class en{constructor(s){this.image=s,this.rectangleDetector=new un(this.image)}detect(){const s=this.rectangleDetector.detect();let c=this.detectSolid1(s);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new ie;c=this.shiftToModuleCenter(c);const d=c[0],m=c[1],g=c[2],b=c[3];let _=this.transitionsBetween(d,b)+1,S=this.transitionsBetween(g,b)+1;(_&1)===1&&(_+=1),(S&1)===1&&(S+=1),4*_<7*S&&4*S<7*_&&(_=S=Math.max(_,S));let E=en.sampleGrid(this.image,d,m,g,b,_,S);return new sl(E,[d,m,g,b])}static shiftPoint(s,c,d){let m=(c.getX()-s.getX())/(d+1),g=(c.getY()-s.getY())/(d+1);return new Be(s.getX()+m,s.getY()+g)}static moveAway(s,c,d){let m=s.getX(),g=s.getY();return m<c?m-=1:m+=1,g<d?g-=1:g+=1,new Be(m,g)}detectSolid1(s){let c=s[0],d=s[1],m=s[3],g=s[2],b=this.transitionsBetween(c,d),_=this.transitionsBetween(d,m),S=this.transitionsBetween(m,g),E=this.transitionsBetween(g,c),D=b,L=[g,c,d,m];return D>_&&(D=_,L[0]=c,L[1]=d,L[2]=m,L[3]=g),D>S&&(D=S,L[0]=d,L[1]=m,L[2]=g,L[3]=c),D>E&&(L[0]=m,L[1]=g,L[2]=c,L[3]=d),L}detectSolid2(s){let c=s[0],d=s[1],m=s[2],g=s[3],b=this.transitionsBetween(c,g),_=en.shiftPoint(d,m,(b+1)*4),S=en.shiftPoint(m,d,(b+1)*4),E=this.transitionsBetween(_,c),D=this.transitionsBetween(S,g);return E<D?(s[0]=c,s[1]=d,s[2]=m,s[3]=g):(s[0]=d,s[1]=m,s[2]=g,s[3]=c),s}correctTopRight(s){let c=s[0],d=s[1],m=s[2],g=s[3],b=this.transitionsBetween(c,g),_=this.transitionsBetween(d,g),S=en.shiftPoint(c,d,(_+1)*4),E=en.shiftPoint(m,d,(b+1)*4);b=this.transitionsBetween(S,g),_=this.transitionsBetween(E,g);let D=new Be(g.getX()+(m.getX()-d.getX())/(b+1),g.getY()+(m.getY()-d.getY())/(b+1)),L=new Be(g.getX()+(c.getX()-d.getX())/(_+1),g.getY()+(c.getY()-d.getY())/(_+1));if(!this.isValid(D))return this.isValid(L)?L:null;if(!this.isValid(L))return D;let P=this.transitionsBetween(S,D)+this.transitionsBetween(E,D),V=this.transitionsBetween(S,L)+this.transitionsBetween(E,L);return P>V?D:L}shiftToModuleCenter(s){let c=s[0],d=s[1],m=s[2],g=s[3],b=this.transitionsBetween(c,g)+1,_=this.transitionsBetween(m,g)+1,S=en.shiftPoint(c,d,_*4),E=en.shiftPoint(m,d,b*4);b=this.transitionsBetween(S,g)+1,_=this.transitionsBetween(E,g)+1,(b&1)===1&&(b+=1),(_&1)===1&&(_+=1);let D=(c.getX()+d.getX()+m.getX()+g.getX())/4,L=(c.getY()+d.getY()+m.getY()+g.getY())/4;c=en.moveAway(c,D,L),d=en.moveAway(d,D,L),m=en.moveAway(m,D,L),g=en.moveAway(g,D,L);let P,V;return S=en.shiftPoint(c,d,_*4),S=en.shiftPoint(S,g,b*4),P=en.shiftPoint(d,c,_*4),P=en.shiftPoint(P,m,b*4),E=en.shiftPoint(m,g,_*4),E=en.shiftPoint(E,d,b*4),V=en.shiftPoint(g,m,_*4),V=en.shiftPoint(V,c,b*4),[S,P,E,V]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,c,d,m,g,b,_){return Aa.getInstance().sampleGrid(s,b,_,.5,.5,b-.5,.5,b-.5,_-.5,.5,_-.5,c.getX(),c.getY(),g.getX(),g.getY(),m.getX(),m.getY(),d.getX(),d.getY())}transitionsBetween(s,c){let d=Math.trunc(s.getX()),m=Math.trunc(s.getY()),g=Math.trunc(c.getX()),b=Math.trunc(c.getY()),_=Math.abs(b-m)>Math.abs(g-d);if(_){let Z=d;d=m,m=Z,Z=g,g=b,b=Z}let S=Math.abs(g-d),E=Math.abs(b-m),D=-S/2,L=m<b?1:-1,P=d<g?1:-1,V=0,X=this.image.get(_?m:d,_?d:m);for(let Z=d,ae=m;Z!==g;Z+=P){let ue=this.image.get(_?ae:Z,_?Z:ae);if(ue!==X&&(V++,X=ue),D+=E,D>0){if(ae===b)break;ae+=L,D-=S}}return V}}class cs{constructor(){this.decoder=new wh}decode(s,c=null){let d,m;if(c!=null&&c.has(te.PURE_BARCODE)){const E=cs.extractPureBits(s.getBlackMatrix());d=this.decoder.decode(E),m=cs.NO_POINTS}else{const E=new en(s.getBlackMatrix()).detect();d=this.decoder.decode(E.getBits()),m=E.getPoints()}const g=d.getRawBytes(),b=new Me(d.getText(),g,8*g.length,m,Ne.DATA_MATRIX,k.currentTimeMillis()),_=d.getByteSegments();_!=null&&b.putMetadata(wt.BYTE_SEGMENTS,_);const S=d.getECLevel();return S!=null&&b.putMetadata(wt.ERROR_CORRECTION_LEVEL,S),b}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),d=s.getBottomRightOnBit();if(c==null||d==null)throw new ie;const m=this.moduleSize(c,s);let g=c[1];const b=d[1];let _=c[0];const E=(d[0]-_+1)/m,D=(b-g+1)/m;if(E<=0||D<=0)throw new ie;const L=m/2;g+=L,_+=L;const P=new et(E,D);for(let V=0;V<D;V++){const X=g+V*m;for(let Z=0;Z<E;Z++)s.get(_+Z*m,X)&&P.set(Z,V)}return P}static moduleSize(s,c){const d=c.getWidth();let m=s[0];const g=s[1];for(;m<d&&c.get(m,g);)m++;if(m===d)throw new ie;const b=m-s[0];if(b===0)throw new ie;return b}}cs.NO_POINTS=[];class ol extends je{constructor(s=500){super(new cs,s)}}var Mi;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Mi||(Mi={}));class lt{constructor(s,c,d){this.value=s,this.stringValue=c,this.bits=d,lt.FOR_BITS.set(d,this),lt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return lt.L;case"M":return lt.M;case"Q":return lt.Q;case"H":return lt.H;default:throw new N(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof lt))return!1;const c=s;return this.value===c.value}static forBits(s){if(s<0||s>=lt.FOR_BITS.size)throw new A;return lt.FOR_BITS.get(s)}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.L=new lt(Mi.L,"L",1),lt.M=new lt(Mi.M,"M",0),lt.Q=new lt(Mi.Q,"Q",3),lt.H=new lt(Mi.H,"H",2);class Sn{constructor(s){this.errorCorrectionLevel=lt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,c){return G.bitCount(s^c)}static decodeFormatInformation(s,c){const d=Sn.doDecodeFormatInformation(s,c);return d!==null?d:Sn.doDecodeFormatInformation(s^Sn.FORMAT_INFO_MASK_QR,c^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,c){let d=Number.MAX_SAFE_INTEGER,m=0;for(const g of Sn.FORMAT_INFO_DECODE_LOOKUP){const b=g[0];if(b===s||b===c)return new Sn(g[1]);let _=Sn.numBitsDiffering(s,b);_<d&&(m=g[1],d=_),s!==c&&(_=Sn.numBitsDiffering(c,b),_<d&&(m=g[1],d=_))}return d<=3?new Sn(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Sn))return!1;const c=s;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class re{constructor(s,...c){this.ecCodewordsPerBlock=s,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const c=this.ecBlocks;for(const d of c)s+=d.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(s,c,...d){this.versionNumber=s,this.alignmentPatternCenters=c,this.ecBlocks=d;let m=0;const g=d[0].getECCodewordsPerBlock(),b=d[0].getECBlocks();for(const _ of b)m+=_.getCount()*(_.getDataCodewords()+g);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new Y;try{return this.getVersionForNumber((s-17)/4)}catch{throw new Y}}static getVersionForNumber(s){if(s<1||s>40)throw new A;return ze.VERSIONS[s-1]}static decodeVersionInformation(s){let c=Number.MAX_SAFE_INTEGER,d=0;for(let m=0;m<ze.VERSION_DECODE_INFO.length;m++){const g=ze.VERSION_DECODE_INFO[m];if(g===s)return ze.getVersionForNumber(m+7);const b=Sn.numBitsDiffering(s,g);b<c&&(d=m+7,c=b)}return c<=3?ze.getVersionForNumber(d):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),c=new et(s);c.setRegion(0,0,9,9),c.setRegion(s-8,0,8,9),c.setRegion(0,s-8,9,8);const d=this.alignmentPatternCenters.length;for(let m=0;m<d;m++){const g=this.alignmentPatternCenters[m]-2;for(let b=0;b<d;b++)m===0&&(b===0||b===d-1)||m===d-1&&b===0||c.setRegion(this.alignmentPatternCenters[b]-2,g,5,5)}return c.setRegion(6,9,1,s-17),c.setRegion(9,6,s-17,1),this.versionNumber>6&&(c.setRegion(s-11,0,3,6),c.setRegion(0,s-11,6,3)),c}toString(){return""+this.versionNumber}}ze.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ze.VERSIONS=[new ze(1,new Int32Array(0),new re(7,new U(1,19)),new re(10,new U(1,16)),new re(13,new U(1,13)),new re(17,new U(1,9))),new ze(2,Int32Array.from([6,18]),new re(10,new U(1,34)),new re(16,new U(1,28)),new re(22,new U(1,22)),new re(28,new U(1,16))),new ze(3,Int32Array.from([6,22]),new re(15,new U(1,55)),new re(26,new U(1,44)),new re(18,new U(2,17)),new re(22,new U(2,13))),new ze(4,Int32Array.from([6,26]),new re(20,new U(1,80)),new re(18,new U(2,32)),new re(26,new U(2,24)),new re(16,new U(4,9))),new ze(5,Int32Array.from([6,30]),new re(26,new U(1,108)),new re(24,new U(2,43)),new re(18,new U(2,15),new U(2,16)),new re(22,new U(2,11),new U(2,12))),new ze(6,Int32Array.from([6,34]),new re(18,new U(2,68)),new re(16,new U(4,27)),new re(24,new U(4,19)),new re(28,new U(4,15))),new ze(7,Int32Array.from([6,22,38]),new re(20,new U(2,78)),new re(18,new U(4,31)),new re(18,new U(2,14),new U(4,15)),new re(26,new U(4,13),new U(1,14))),new ze(8,Int32Array.from([6,24,42]),new re(24,new U(2,97)),new re(22,new U(2,38),new U(2,39)),new re(22,new U(4,18),new U(2,19)),new re(26,new U(4,14),new U(2,15))),new ze(9,Int32Array.from([6,26,46]),new re(30,new U(2,116)),new re(22,new U(3,36),new U(2,37)),new re(20,new U(4,16),new U(4,17)),new re(24,new U(4,12),new U(4,13))),new ze(10,Int32Array.from([6,28,50]),new re(18,new U(2,68),new U(2,69)),new re(26,new U(4,43),new U(1,44)),new re(24,new U(6,19),new U(2,20)),new re(28,new U(6,15),new U(2,16))),new ze(11,Int32Array.from([6,30,54]),new re(20,new U(4,81)),new re(30,new U(1,50),new U(4,51)),new re(28,new U(4,22),new U(4,23)),new re(24,new U(3,12),new U(8,13))),new ze(12,Int32Array.from([6,32,58]),new re(24,new U(2,92),new U(2,93)),new re(22,new U(6,36),new U(2,37)),new re(26,new U(4,20),new U(6,21)),new re(28,new U(7,14),new U(4,15))),new ze(13,Int32Array.from([6,34,62]),new re(26,new U(4,107)),new re(22,new U(8,37),new U(1,38)),new re(24,new U(8,20),new U(4,21)),new re(22,new U(12,11),new U(4,12))),new ze(14,Int32Array.from([6,26,46,66]),new re(30,new U(3,115),new U(1,116)),new re(24,new U(4,40),new U(5,41)),new re(20,new U(11,16),new U(5,17)),new re(24,new U(11,12),new U(5,13))),new ze(15,Int32Array.from([6,26,48,70]),new re(22,new U(5,87),new U(1,88)),new re(24,new U(5,41),new U(5,42)),new re(30,new U(5,24),new U(7,25)),new re(24,new U(11,12),new U(7,13))),new ze(16,Int32Array.from([6,26,50,74]),new re(24,new U(5,98),new U(1,99)),new re(28,new U(7,45),new U(3,46)),new re(24,new U(15,19),new U(2,20)),new re(30,new U(3,15),new U(13,16))),new ze(17,Int32Array.from([6,30,54,78]),new re(28,new U(1,107),new U(5,108)),new re(28,new U(10,46),new U(1,47)),new re(28,new U(1,22),new U(15,23)),new re(28,new U(2,14),new U(17,15))),new ze(18,Int32Array.from([6,30,56,82]),new re(30,new U(5,120),new U(1,121)),new re(26,new U(9,43),new U(4,44)),new re(28,new U(17,22),new U(1,23)),new re(28,new U(2,14),new U(19,15))),new ze(19,Int32Array.from([6,30,58,86]),new re(28,new U(3,113),new U(4,114)),new re(26,new U(3,44),new U(11,45)),new re(26,new U(17,21),new U(4,22)),new re(26,new U(9,13),new U(16,14))),new ze(20,Int32Array.from([6,34,62,90]),new re(28,new U(3,107),new U(5,108)),new re(26,new U(3,41),new U(13,42)),new re(30,new U(15,24),new U(5,25)),new re(28,new U(15,15),new U(10,16))),new ze(21,Int32Array.from([6,28,50,72,94]),new re(28,new U(4,116),new U(4,117)),new re(26,new U(17,42)),new re(28,new U(17,22),new U(6,23)),new re(30,new U(19,16),new U(6,17))),new ze(22,Int32Array.from([6,26,50,74,98]),new re(28,new U(2,111),new U(7,112)),new re(28,new U(17,46)),new re(30,new U(7,24),new U(16,25)),new re(24,new U(34,13))),new ze(23,Int32Array.from([6,30,54,78,102]),new re(30,new U(4,121),new U(5,122)),new re(28,new U(4,47),new U(14,48)),new re(30,new U(11,24),new U(14,25)),new re(30,new U(16,15),new U(14,16))),new ze(24,Int32Array.from([6,28,54,80,106]),new re(30,new U(6,117),new U(4,118)),new re(28,new U(6,45),new U(14,46)),new re(30,new U(11,24),new U(16,25)),new re(30,new U(30,16),new U(2,17))),new ze(25,Int32Array.from([6,32,58,84,110]),new re(26,new U(8,106),new U(4,107)),new re(28,new U(8,47),new U(13,48)),new re(30,new U(7,24),new U(22,25)),new re(30,new U(22,15),new U(13,16))),new ze(26,Int32Array.from([6,30,58,86,114]),new re(28,new U(10,114),new U(2,115)),new re(28,new U(19,46),new U(4,47)),new re(28,new U(28,22),new U(6,23)),new re(30,new U(33,16),new U(4,17))),new ze(27,Int32Array.from([6,34,62,90,118]),new re(30,new U(8,122),new U(4,123)),new re(28,new U(22,45),new U(3,46)),new re(30,new U(8,23),new U(26,24)),new re(30,new U(12,15),new U(28,16))),new ze(28,Int32Array.from([6,26,50,74,98,122]),new re(30,new U(3,117),new U(10,118)),new re(28,new U(3,45),new U(23,46)),new re(30,new U(4,24),new U(31,25)),new re(30,new U(11,15),new U(31,16))),new ze(29,Int32Array.from([6,30,54,78,102,126]),new re(30,new U(7,116),new U(7,117)),new re(28,new U(21,45),new U(7,46)),new re(30,new U(1,23),new U(37,24)),new re(30,new U(19,15),new U(26,16))),new ze(30,Int32Array.from([6,26,52,78,104,130]),new re(30,new U(5,115),new U(10,116)),new re(28,new U(19,47),new U(10,48)),new re(30,new U(15,24),new U(25,25)),new re(30,new U(23,15),new U(25,16))),new ze(31,Int32Array.from([6,30,56,82,108,134]),new re(30,new U(13,115),new U(3,116)),new re(28,new U(2,46),new U(29,47)),new re(30,new U(42,24),new U(1,25)),new re(30,new U(23,15),new U(28,16))),new ze(32,Int32Array.from([6,34,60,86,112,138]),new re(30,new U(17,115)),new re(28,new U(10,46),new U(23,47)),new re(30,new U(10,24),new U(35,25)),new re(30,new U(19,15),new U(35,16))),new ze(33,Int32Array.from([6,30,58,86,114,142]),new re(30,new U(17,115),new U(1,116)),new re(28,new U(14,46),new U(21,47)),new re(30,new U(29,24),new U(19,25)),new re(30,new U(11,15),new U(46,16))),new ze(34,Int32Array.from([6,34,62,90,118,146]),new re(30,new U(13,115),new U(6,116)),new re(28,new U(14,46),new U(23,47)),new re(30,new U(44,24),new U(7,25)),new re(30,new U(59,16),new U(1,17))),new ze(35,Int32Array.from([6,30,54,78,102,126,150]),new re(30,new U(12,121),new U(7,122)),new re(28,new U(12,47),new U(26,48)),new re(30,new U(39,24),new U(14,25)),new re(30,new U(22,15),new U(41,16))),new ze(36,Int32Array.from([6,24,50,76,102,128,154]),new re(30,new U(6,121),new U(14,122)),new re(28,new U(6,47),new U(34,48)),new re(30,new U(46,24),new U(10,25)),new re(30,new U(2,15),new U(64,16))),new ze(37,Int32Array.from([6,28,54,80,106,132,158]),new re(30,new U(17,122),new U(4,123)),new re(28,new U(29,46),new U(14,47)),new re(30,new U(49,24),new U(10,25)),new re(30,new U(24,15),new U(46,16))),new ze(38,Int32Array.from([6,32,58,84,110,136,162]),new re(30,new U(4,122),new U(18,123)),new re(28,new U(13,46),new U(32,47)),new re(30,new U(48,24),new U(14,25)),new re(30,new U(42,15),new U(32,16))),new ze(39,Int32Array.from([6,26,54,82,110,138,166]),new re(30,new U(20,117),new U(4,118)),new re(28,new U(40,47),new U(7,48)),new re(30,new U(43,24),new U(22,25)),new re(30,new U(10,15),new U(67,16))),new ze(40,Int32Array.from([6,30,58,86,114,142,170]),new re(30,new U(19,118),new U(6,119)),new re(28,new U(18,47),new U(31,48)),new re(30,new U(34,24),new U(34,25)),new re(30,new U(20,15),new U(61,16)))];var wn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(wn||(wn={}));class ia{constructor(s,c){this.value=s,this.isMasked=c}unmaskBitMatrix(s,c){for(let d=0;d<c;d++)for(let m=0;m<c;m++)this.isMasked(d,m)&&s.flip(m,d)}}ia.values=new Map([[wn.DATA_MASK_000,new ia(wn.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[wn.DATA_MASK_001,new ia(wn.DATA_MASK_001,(R,s)=>(R&1)===0)],[wn.DATA_MASK_010,new ia(wn.DATA_MASK_010,(R,s)=>s%3===0)],[wn.DATA_MASK_011,new ia(wn.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[wn.DATA_MASK_100,new ia(wn.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[wn.DATA_MASK_101,new ia(wn.DATA_MASK_101,(R,s)=>R*s%6===0)],[wn.DATA_MASK_110,new ia(wn.DATA_MASK_110,(R,s)=>R*s%6<3)],[wn.DATA_MASK_111,new ia(wn.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class Di{constructor(s){const c=s.getHeight();if(c<21||(c&3)!==1)throw new Y;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let g=0;g<6;g++)s=this.copyBit(g,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let g=5;g>=0;g--)s=this.copyBit(8,g,s);const c=this.bitMatrix.getHeight();let d=0;const m=c-7;for(let g=c-1;g>=m;g--)d=this.copyBit(8,g,d);for(let g=c-8;g<c;g++)d=this.copyBit(g,8,d);if(this.parsedFormatInfo=Sn.decodeFormatInformation(s,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),c=Math.floor((s-17)/4);if(c<=6)return ze.getVersionForNumber(c);let d=0;const m=s-11;for(let b=5;b>=0;b--)for(let _=s-9;_>=m;_--)d=this.copyBit(_,b,d);let g=ze.decodeVersionInformation(d);if(g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;d=0;for(let b=5;b>=0;b--)for(let _=s-9;_>=m;_--)d=this.copyBit(b,_,d);if(g=ze.decodeVersionInformation(d),g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;throw new Y}copyBit(s,c,d){return(this.isMirror?this.bitMatrix.get(c,s):this.bitMatrix.get(s,c))?d<<1|1:d<<1}readCodewords(){const s=this.readFormatInformation(),c=this.readVersion(),d=ia.values.get(s.getDataMask()),m=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,m);const g=c.buildFunctionPattern();let b=!0;const _=new Uint8Array(c.getTotalCodewords());let S=0,E=0,D=0;for(let L=m-1;L>0;L-=2){L===6&&L--;for(let P=0;P<m;P++){const V=b?m-1-P:P;for(let X=0;X<2;X++)g.get(L-X,V)||(D++,E<<=1,this.bitMatrix.get(L-X,V)&&(E|=1),D===8&&(_[S++]=E,D=0,E=0))}b=!b}if(S!==c.getTotalCodewords())throw new Y;return _}remask(){if(this.parsedFormatInfo===null)return;const s=ia.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let c=0,d=s.getWidth();c<d;c++)for(let m=c+1,g=s.getHeight();m<g;m++)s.get(c,m)!==s.get(m,c)&&(s.flip(m,c),s.flip(c,m))}}class xo{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c,d){if(s.length!==c.getTotalCodewords())throw new A;const m=c.getECBlocksForLevel(d);let g=0;const b=m.getECBlocks();for(const X of b)g+=X.getCount();const _=new Array(g);let S=0;for(const X of b)for(let Z=0;Z<X.getCount();Z++){const ae=X.getDataCodewords(),ue=m.getECCodewordsPerBlock()+ae;_[S++]=new xo(ae,new Uint8Array(ue))}const E=_[0].codewords.length;let D=_.length-1;for(;D>=0&&_[D].codewords.length!==E;)D--;D++;const L=E-m.getECCodewordsPerBlock();let P=0;for(let X=0;X<L;X++)for(let Z=0;Z<S;Z++)_[Z].codewords[X]=s[P++];for(let X=D;X<S;X++)_[X].codewords[L]=s[P++];const V=_[0].codewords.length;for(let X=L;X<V;X++)for(let Z=0;Z<S;Z++){const ae=Z<D?X:X+1;_[Z].codewords[ae]=s[P++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ra;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(ra||(ra={}));class Ve{constructor(s,c,d,m){this.value=s,this.stringValue=c,this.characterCountBitsForVersions=d,this.bits=m,Ve.FOR_BITS.set(m,this),Ve.FOR_VALUE.set(s,this)}static forBits(s){const c=Ve.FOR_BITS.get(s);if(c===void 0)throw new A;return c}getCharacterCountBits(s){const c=s.getVersionNumber();let d;return c<=9?d=0:c<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ve))return!1;const c=s;return this.value===c.value}toString(){return this.stringValue}}Ve.FOR_BITS=new Map,Ve.FOR_VALUE=new Map,Ve.TERMINATOR=new Ve(ra.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ve.NUMERIC=new Ve(ra.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ve.ALPHANUMERIC=new Ve(ra.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ve.STRUCTURED_APPEND=new Ve(ra.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ve.BYTE=new Ve(ra.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ve.ECI=new Ve(ra.ECI,"ECI",Int32Array.from([0,0,0]),7),Ve.KANJI=new Ve(ra.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ve.FNC1_FIRST_POSITION=new Ve(ra.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ve.FNC1_SECOND_POSITION=new Ve(ra.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ve.HANZI=new Ve(ra.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Kt{static decode(s,c,d,m){const g=new Ea(s);let b=new Re;const _=new Array;let S=-1,E=-1;try{let D=null,L=!1,P;do{if(g.available()<4)P=Ve.TERMINATOR;else{const V=g.readBits(4);P=Ve.forBits(V)}switch(P){case Ve.TERMINATOR:break;case Ve.FNC1_FIRST_POSITION:case Ve.FNC1_SECOND_POSITION:L=!0;break;case Ve.STRUCTURED_APPEND:if(g.available()<16)throw new Y;S=g.readBits(8),E=g.readBits(8);break;case Ve.ECI:const V=Kt.parseECIValue(g);if(D=q.getCharacterSetECIByValue(V),D===null)throw new Y;break;case Ve.HANZI:const X=g.readBits(4),Z=g.readBits(P.getCharacterCountBits(c));X===Kt.GB2312_SUBSET&&Kt.decodeHanziSegment(g,b,Z);break;default:const ae=g.readBits(P.getCharacterCountBits(c));switch(P){case Ve.NUMERIC:Kt.decodeNumericSegment(g,b,ae);break;case Ve.ALPHANUMERIC:Kt.decodeAlphanumericSegment(g,b,ae,L);break;case Ve.BYTE:Kt.decodeByteSegment(g,b,ae,D,_,m);break;case Ve.KANJI:Kt.decodeKanjiSegment(g,b,ae);break;default:throw new Y}break}}while(P!==Ve.TERMINATOR)}catch{throw new Y}return new qt(s,b.toString(),_.length===0?null:_,d===null?null:d.toString(),S,E)}static decodeHanziSegment(s,c,d){if(d*13>s.available())throw new Y;const m=new Uint8Array(2*d);let g=0;for(;d>0;){const b=s.readBits(13);let _=b/96<<8&4294967295|b%96;_<959?_+=41377:_+=42657,m[g]=_>>8&255,m[g+1]=_&255,g+=2,d--}try{c.append(Ae.decode(m,me.GB2312))}catch(b){throw new Y(b)}}static decodeKanjiSegment(s,c,d){if(d*13>s.available())throw new Y;const m=new Uint8Array(2*d);let g=0;for(;d>0;){const b=s.readBits(13);let _=b/192<<8&4294967295|b%192;_<7936?_+=33088:_+=49472,m[g]=_>>8,m[g+1]=_,g+=2,d--}try{c.append(Ae.decode(m,me.SHIFT_JIS))}catch(b){throw new Y(b)}}static decodeByteSegment(s,c,d,m,g,b){if(8*d>s.available())throw new Y;const _=new Uint8Array(d);for(let E=0;E<d;E++)_[E]=s.readBits(8);let S;m===null?S=me.guessEncoding(_,b):S=m.getName();try{c.append(Ae.decode(_,S))}catch(E){throw new Y(E)}g.push(_)}static toAlphaNumericChar(s){if(s>=Kt.ALPHANUMERIC_CHARS.length)throw new Y;return Kt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,c,d,m){const g=c.length();for(;d>1;){if(s.available()<11)throw new Y;const b=s.readBits(11);c.append(Kt.toAlphaNumericChar(Math.floor(b/45))),c.append(Kt.toAlphaNumericChar(b%45)),d-=2}if(d===1){if(s.available()<6)throw new Y;c.append(Kt.toAlphaNumericChar(s.readBits(6)))}if(m)for(let b=g;b<c.length();b++)c.charAt(b)==="%"&&(b<c.length()-1&&c.charAt(b+1)==="%"?c.deleteCharAt(b+1):c.setCharAt(b,""))}static decodeNumericSegment(s,c,d){for(;d>=3;){if(s.available()<10)throw new Y;const m=s.readBits(10);if(m>=1e3)throw new Y;c.append(Kt.toAlphaNumericChar(Math.floor(m/100))),c.append(Kt.toAlphaNumericChar(Math.floor(m/10)%10)),c.append(Kt.toAlphaNumericChar(m%10)),d-=3}if(d===2){if(s.available()<7)throw new Y;const m=s.readBits(7);if(m>=100)throw new Y;c.append(Kt.toAlphaNumericChar(Math.floor(m/10))),c.append(Kt.toAlphaNumericChar(m%10))}else if(d===1){if(s.available()<4)throw new Y;const m=s.readBits(4);if(m>=10)throw new Y;c.append(Kt.toAlphaNumericChar(m))}}static parseECIValue(s){const c=s.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const d=s.readBits(8);return(c&63)<<8&4294967295|d}if((c&224)===192){const d=s.readBits(16);return(c&31)<<16&4294967295|d}throw new Y}}Kt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Kt.GB2312_SUBSET=1;class Jc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const c=s[0];s[0]=s[2],s[2]=c}}class _h{constructor(){this.rsDecoder=new Vs(_t.QR_CODE_FIELD_256)}decodeBooleanArray(s,c){return this.decodeBitMatrix(et.parseFromBooleanArray(s),c)}decodeBitMatrix(s,c){const d=new Di(s);let m=null;try{return this.decodeBitMatrixParser(d,c)}catch(g){m=g}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const g=this.decodeBitMatrixParser(d,c);return g.setOther(new Jc(!0)),g}catch(g){throw m!==null?m:g}}decodeBitMatrixParser(s,c){const d=s.readVersion(),m=s.readFormatInformation().getErrorCorrectionLevel(),g=s.readCodewords(),b=xo.getDataBlocks(g,d,m);let _=0;for(const D of b)_+=D.getNumDataCodewords();const S=new Uint8Array(_);let E=0;for(const D of b){const L=D.getCodewords(),P=D.getNumDataCodewords();this.correctErrors(L,P);for(let V=0;V<P;V++)S[E++]=L[V]}return Kt.decode(S,d,m,c)}correctErrors(s,c){const d=new Int32Array(s);try{this.rsDecoder.decode(d,s.length-c)}catch{throw new j}for(let m=0;m<c;m++)s[m]=d[m]}}class ki extends Be{constructor(s,c,d){super(s,c),this.estimatedModuleSize=d}aboutEquals(s,c,d){if(Math.abs(c-this.getY())<=s&&Math.abs(d-this.getX())<=s){const m=Math.abs(s-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(s,c,d){const m=(this.getX()+c)/2,g=(this.getY()+s)/2,b=(this.estimatedModuleSize+d)/2;return new ki(m,g,b)}}class fa{constructor(s,c,d,m,g,b,_){this.image=s,this.startX=c,this.startY=d,this.width=m,this.height=g,this.moduleSize=b,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,c=this.height,d=this.width,m=s+d,g=this.startY+c/2,b=new Int32Array(3),_=this.image;for(let S=0;S<c;S++){const E=g+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));b[0]=0,b[1]=0,b[2]=0;let D=s;for(;D<m&&!_.get(D,E);)D++;let L=0;for(;D<m;){if(_.get(D,E))if(L===1)b[1]++;else if(L===2){if(this.foundPatternCross(b)){const P=this.handlePossibleCenter(b,E,D);if(P!==null)return P}b[0]=b[2],b[1]=1,b[2]=0,L=1}else b[++L]++;else L===1&&L++,b[L]++;D++}if(this.foundPatternCross(b)){const P=this.handlePossibleCenter(b,E,m);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie}static centerFromEnd(s,c){return c-s[2]-s[1]/2}foundPatternCross(s){const c=this.moduleSize,d=c/2;for(let m=0;m<3;m++)if(Math.abs(c-s[m])>=d)return!1;return!0}crossCheckVertical(s,c,d,m){const g=this.image,b=g.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let S=s;for(;S>=0&&g.get(c,S)&&_[1]<=d;)_[1]++,S--;if(S<0||_[1]>d)return NaN;for(;S>=0&&!g.get(c,S)&&_[0]<=d;)_[0]++,S--;if(_[0]>d)return NaN;for(S=s+1;S<b&&g.get(c,S)&&_[1]<=d;)_[1]++,S++;if(S===b||_[1]>d)return NaN;for(;S<b&&!g.get(c,S)&&_[2]<=d;)_[2]++,S++;if(_[2]>d)return NaN;const E=_[0]+_[1]+_[2];return 5*Math.abs(E-m)>=2*m?NaN:this.foundPatternCross(_)?fa.centerFromEnd(_,S):NaN}handlePossibleCenter(s,c,d){const m=s[0]+s[1]+s[2],g=fa.centerFromEnd(s,d),b=this.crossCheckVertical(c,g,2*s[1],m);if(!isNaN(b)){const _=(s[0]+s[1]+s[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(_,b,g))return E.combineEstimate(b,g,_);const S=new ki(g,b,_);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Ar extends Be{constructor(s,c,d,m){super(s,c),this.estimatedModuleSize=d,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,c,d){if(Math.abs(c-this.getY())<=s&&Math.abs(d-this.getX())<=s){const m=Math.abs(s-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(s,c,d){const m=this.count+1,g=(this.count*this.getX()+c)/m,b=(this.count*this.getY()+s)/m,_=(this.count*this.estimatedModuleSize+d)/m;return new Ar(g,b,_,m)}}class po{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tn{constructor(s,c){this.image=s,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const c=s!=null&&s.get(te.TRY_HARDER)!==void 0,d=s!=null&&s.get(te.PURE_BARCODE)!==void 0,m=this.image,g=m.getHeight(),b=m.getWidth();let _=Math.floor(3*g/(4*tn.MAX_MODULES));(_<tn.MIN_SKIP||c)&&(_=tn.MIN_SKIP);let S=!1;const E=new Int32Array(5);for(let L=_-1;L<g&&!S;L+=_){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let P=0;for(let V=0;V<b;V++)if(m.get(V,L))(P&1)===1&&P++,E[P]++;else if((P&1)===0)if(P===4)if(tn.foundPatternCross(E)){if(this.handlePossibleCenter(E,L,V,d)===!0)if(_=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const Z=this.findRowSkip();Z>E[2]&&(L+=Z-E[2]-_,V=b-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,P=3;continue}P=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,P=3;else E[++P]++;else E[P]++;tn.foundPatternCross(E)&&this.handlePossibleCenter(E,L,b,d)===!0&&(_=E[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Be.orderBestPatterns(D),new po(D)}static centerFromEnd(s,c){return c-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let c=0;for(let g=0;g<5;g++){const b=s[g];if(b===0)return!1;c+=b}if(c<7)return!1;const d=c/7,m=d/2;return Math.abs(d-s[0])<m&&Math.abs(d-s[1])<m&&Math.abs(3*d-s[2])<3*m&&Math.abs(d-s[3])<m&&Math.abs(d-s[4])<m}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,c,d,m){const g=this.getCrossCheckStateCount();let b=0;const _=this.image;for(;s>=b&&c>=b&&_.get(c-b,s-b);)g[2]++,b++;if(s<b||c<b)return!1;for(;s>=b&&c>=b&&!_.get(c-b,s-b)&&g[1]<=d;)g[1]++,b++;if(s<b||c<b||g[1]>d)return!1;for(;s>=b&&c>=b&&_.get(c-b,s-b)&&g[0]<=d;)g[0]++,b++;if(g[0]>d)return!1;const S=_.getHeight(),E=_.getWidth();for(b=1;s+b<S&&c+b<E&&_.get(c+b,s+b);)g[2]++,b++;if(s+b>=S||c+b>=E)return!1;for(;s+b<S&&c+b<E&&!_.get(c+b,s+b)&&g[3]<d;)g[3]++,b++;if(s+b>=S||c+b>=E||g[3]>=d)return!1;for(;s+b<S&&c+b<E&&_.get(c+b,s+b)&&g[4]<d;)g[4]++,b++;if(g[4]>=d)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-m)<2*m&&tn.foundPatternCross(g)}crossCheckVertical(s,c,d,m){const g=this.image,b=g.getHeight(),_=this.getCrossCheckStateCount();let S=s;for(;S>=0&&g.get(c,S);)_[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(c,S)&&_[1]<=d;)_[1]++,S--;if(S<0||_[1]>d)return NaN;for(;S>=0&&g.get(c,S)&&_[0]<=d;)_[0]++,S--;if(_[0]>d)return NaN;for(S=s+1;S<b&&g.get(c,S);)_[2]++,S++;if(S===b)return NaN;for(;S<b&&!g.get(c,S)&&_[3]<d;)_[3]++,S++;if(S===b||_[3]>=d)return NaN;for(;S<b&&g.get(c,S)&&_[4]<d;)_[4]++,S++;if(_[4]>=d)return NaN;const E=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(E-m)>=2*m?NaN:tn.foundPatternCross(_)?tn.centerFromEnd(_,S):NaN}crossCheckHorizontal(s,c,d,m){const g=this.image,b=g.getWidth(),_=this.getCrossCheckStateCount();let S=s;for(;S>=0&&g.get(S,c);)_[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(S,c)&&_[1]<=d;)_[1]++,S--;if(S<0||_[1]>d)return NaN;for(;S>=0&&g.get(S,c)&&_[0]<=d;)_[0]++,S--;if(_[0]>d)return NaN;for(S=s+1;S<b&&g.get(S,c);)_[2]++,S++;if(S===b)return NaN;for(;S<b&&!g.get(S,c)&&_[3]<d;)_[3]++,S++;if(S===b||_[3]>=d)return NaN;for(;S<b&&g.get(S,c)&&_[4]<d;)_[4]++,S++;if(_[4]>=d)return NaN;const E=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(E-m)>=m?NaN:tn.foundPatternCross(_)?tn.centerFromEnd(_,S):NaN}handlePossibleCenter(s,c,d,m){const g=s[0]+s[1]+s[2]+s[3]+s[4];let b=tn.centerFromEnd(s,d),_=this.crossCheckVertical(c,Math.floor(b),s[2],g);if(!isNaN(_)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(_),s[2],g),!isNaN(b)&&(!m||this.crossCheckDiagonal(Math.floor(_),Math.floor(b),s[2],g)))){const S=g/7;let E=!1;const D=this.possibleCenters;for(let L=0,P=D.length;L<P;L++){const V=D[L];if(V.aboutEquals(S,_,b)){D[L]=V.combineEstimate(_,b,S),E=!0;break}}if(!E){const L=new Ar(b,_,S);D.push(L),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(L)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const d of this.possibleCenters)if(d.getCount()>=tn.CENTER_QUORUM)if(c==null)c=d;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-d.getX())-Math.abs(c.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,c=0;const d=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=tn.CENTER_QUORUM&&(s++,c+=b.getEstimatedModuleSize());if(s<3)return!1;const m=c/d;let g=0;for(const b of this.possibleCenters)g+=Math.abs(b.getEstimatedModuleSize()-m);return g<=.05*c}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ie;const c=this.possibleCenters;let d;if(s>3){let m=0,g=0;for(const S of this.possibleCenters){const E=S.getEstimatedModuleSize();m+=E,g+=E*E}d=m/s;let b=Math.sqrt(g/s-d*d);c.sort((S,E)=>{const D=Math.abs(E.getEstimatedModuleSize()-d),L=Math.abs(S.getEstimatedModuleSize()-d);return D<L?-1:D>L?1:0});const _=Math.max(.2*d,b);for(let S=0;S<c.length&&c.length>3;S++){const E=c[S];Math.abs(E.getEstimatedModuleSize()-d)>_&&(c.splice(S,1),S--)}}if(c.length>3){let m=0;for(const g of c)m+=g.getEstimatedModuleSize();d=m/c.length,c.sort((g,b)=>{if(b.getCount()===g.getCount()){const _=Math.abs(b.getEstimatedModuleSize()-d),S=Math.abs(g.getEstimatedModuleSize()-d);return _<S?1:_>S?-1:0}else return b.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}tn.CENTER_QUORUM=2,tn.MIN_SKIP=3,tn.MAX_MODULES=57;class Ga{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(te.NEED_RESULT_POINT_CALLBACK);const d=new tn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(d)}processFinderPatternInfo(s){const c=s.getTopLeft(),d=s.getTopRight(),m=s.getBottomLeft(),g=this.calculateModuleSize(c,d,m);if(g<1)throw new ie("No pattern found in proccess finder.");const b=Ga.computeDimension(c,d,m,g),_=ze.getProvisionalVersionForDimension(b),S=_.getDimensionForVersion()-7;let E=null;if(_.getAlignmentPatternCenters().length>0){const V=d.getX()-c.getX()+m.getX(),X=d.getY()-c.getY()+m.getY(),Z=1-3/S,ae=Math.floor(c.getX()+Z*(V-c.getX())),ue=Math.floor(c.getY()+Z*(X-c.getY()));for(let Ce=4;Ce<=16;Ce<<=1)try{E=this.findAlignmentInRegion(g,ae,ue,Ce);break}catch(ve){if(!(ve instanceof ie))throw ve}}const D=Ga.createTransform(c,d,m,E,b),L=Ga.sampleGrid(this.image,D,b);let P;return E===null?P=[m,c,d]:P=[m,c,d,E],new sl(L,P)}static createTransform(s,c,d,m,g){const b=g-3.5;let _,S,E,D;return m!==null?(_=m.getX(),S=m.getY(),E=b-3,D=E):(_=c.getX()-s.getX()+d.getX(),S=c.getY()-s.getY()+d.getY(),E=b,D=b),da.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,E,D,3.5,b,s.getX(),s.getY(),c.getX(),c.getY(),_,S,d.getX(),d.getY())}static sampleGrid(s,c,d){return Aa.getInstance().sampleGridWithTransform(s,d,d,c)}static computeDimension(s,c,d,m){const g=ot.round(Be.distance(s,c)/m),b=ot.round(Be.distance(s,d)/m);let _=Math.floor((g+b)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new ie("Dimensions could be not found.")}return _}calculateModuleSize(s,c,d){return(this.calculateModuleSizeOneWay(s,c)+this.calculateModuleSizeOneWay(s,d))/2}calculateModuleSizeOneWay(s,c){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(c.getX()),Math.floor(c.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(d)?m/7:isNaN(m)?d/7:(d+m)/14}sizeOfBlackWhiteBlackRunBothWays(s,c,d,m){let g=this.sizeOfBlackWhiteBlackRun(s,c,d,m),b=1,_=s-(d-s);_<0?(b=s/(s-_),_=0):_>=this.image.getWidth()&&(b=(this.image.getWidth()-1-s)/(_-s),_=this.image.getWidth()-1);let S=Math.floor(c-(m-c)*b);return b=1,S<0?(b=c/(c-S),S=0):S>=this.image.getHeight()&&(b=(this.image.getHeight()-1-c)/(S-c),S=this.image.getHeight()-1),_=Math.floor(s+(_-s)*b),g+=this.sizeOfBlackWhiteBlackRun(s,c,_,S),g-1}sizeOfBlackWhiteBlackRun(s,c,d,m){const g=Math.abs(m-c)>Math.abs(d-s);if(g){let V=s;s=c,c=V,V=d,d=m,m=V}const b=Math.abs(d-s),_=Math.abs(m-c);let S=-b/2;const E=s<d?1:-1,D=c<m?1:-1;let L=0;const P=d+E;for(let V=s,X=c;V!==P;V+=E){const Z=g?X:V,ae=g?V:X;if(L===1===this.image.get(Z,ae)){if(L===2)return ot.distance(V,X,s,c);L++}if(S+=_,S>0){if(X===m)break;X+=D,S-=b}}return L===2?ot.distance(d+E,m,s,c):NaN}findAlignmentInRegion(s,c,d,m){const g=Math.floor(m*s),b=Math.max(0,c-g),_=Math.min(this.image.getWidth()-1,c+g);if(_-b<s*3)throw new ie("Alignment top exceeds estimated module size.");const S=Math.max(0,d-g),E=Math.min(this.image.getHeight()-1,d+g);if(E-S<s*3)throw new ie("Alignment bottom exceeds estimated module size.");return new fa(this.image,b,S,_-b,E-S,s,this.resultPointCallback).find()}}class us{constructor(){this.decoder=new _h}getDecoder(){return this.decoder}decode(s,c){let d,m;if(c!=null&&c.get(te.PURE_BARCODE)!==void 0){const S=us.extractPureBits(s.getBlackMatrix());d=this.decoder.decodeBitMatrix(S,c),m=us.NO_POINTS}else{const S=new Ga(s.getBlackMatrix()).detect(c);d=this.decoder.decodeBitMatrix(S.getBits(),c),m=S.getPoints()}d.getOther()instanceof Jc&&d.getOther().applyMirroredCorrection(m);const g=new Me(d.getText(),d.getRawBytes(),void 0,m,Ne.QR_CODE,void 0),b=d.getByteSegments();b!==null&&g.putMetadata(wt.BYTE_SEGMENTS,b);const _=d.getECLevel();return _!==null&&g.putMetadata(wt.ERROR_CORRECTION_LEVEL,_),d.hasStructuredAppend()&&(g.putMetadata(wt.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),g.putMetadata(wt.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),g}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),d=s.getBottomRightOnBit();if(c===null||d===null)throw new ie;const m=this.moduleSize(c,s);let g=c[1],b=d[1],_=c[0],S=d[0];if(_>=S||g>=b)throw new ie;if(b-g!==S-_&&(S=_+(b-g),S>=s.getWidth()))throw new ie;const E=Math.round((S-_+1)/m),D=Math.round((b-g+1)/m);if(E<=0||D<=0)throw new ie;if(D!==E)throw new ie;const L=Math.floor(m/2);g+=L,_+=L;const P=_+Math.floor((E-1)*m)-S;if(P>0){if(P>L)throw new ie;_-=P}const V=g+Math.floor((D-1)*m)-b;if(V>0){if(V>L)throw new ie;g-=V}const X=new et(E,D);for(let Z=0;Z<D;Z++){const ae=g+Math.floor(Z*m);for(let ue=0;ue<E;ue++)s.get(_+Math.floor(ue*m),ae)&&X.set(ue,Z)}return X}static moduleSize(s,c){const d=c.getHeight(),m=c.getWidth();let g=s[0],b=s[1],_=!0,S=0;for(;g<m&&b<d;){if(_!==c.get(g,b)){if(++S===5)break;_=!_}g++,b++}if(g===m||b===d)throw new ie;return(g-s[0])/7}}us.NO_POINTS=new Array;class We{PDF417Common(){}static getBitCountSum(s){return ot.sum(s)}static toIntArray(s){if(s==null||!s.length)return We.EMPTY_INT_ARRAY;const c=new Int32Array(s.length);let d=0;for(const m of s)c[d++]=m;return c}static getCodeword(s){const c=H.binarySearch(We.SYMBOL_TABLE,s&262143);return c<0?-1:(We.CODEWORD_TABLE[c]-1)%We.NUMBER_OF_CODEWORDS}}We.NUMBER_OF_CODEWORDS=929,We.MAX_CODEWORDS_IN_BARCODE=We.NUMBER_OF_CODEWORDS-1,We.MIN_ROWS_IN_BARCODE=3,We.MAX_ROWS_IN_BARCODE=90,We.MODULES_IN_CODEWORD=17,We.MODULES_IN_STOP_PATTERN=18,We.BARS_IN_MODULE=8,We.EMPTY_INT_ARRAY=new Int32Array([]),We.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),We.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class $c{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(s,c,d){let m=s.getBlackMatrix(),g=Ze.detect(d,m);return g.length||(m=m.clone(),m.rotate180(),g=Ze.detect(d,m)),new $c(m,g)}static detect(s,c){const d=new Array;let m=0,g=0,b=!1;for(;m<c.getHeight();){const _=Ze.findVertices(c,m,g);if(_[0]==null&&_[3]==null){if(!b)break;b=!1,g=0;for(const S of d)S[1]!=null&&(m=Math.trunc(Math.max(m,S[1].getY()))),S[3]!=null&&(m=Math.max(m,Math.trunc(S[3].getY())));m+=Ze.ROW_STEP;continue}if(b=!0,d.push(_),!s)break;_[2]!=null?(g=Math.trunc(_[2].getX()),m=Math.trunc(_[2].getY())):(g=Math.trunc(_[4].getX()),m=Math.trunc(_[4].getY()))}return d}static findVertices(s,c,d){const m=s.getHeight(),g=s.getWidth(),b=new Array(8);return Ze.copyToResult(b,Ze.findRowsWithPattern(s,m,g,c,d,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),b[4]!=null&&(d=Math.trunc(b[4].getX()),c=Math.trunc(b[4].getY())),Ze.copyToResult(b,Ze.findRowsWithPattern(s,m,g,c,d,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),b}static copyToResult(s,c,d){for(let m=0;m<d.length;m++)s[d[m]]=c[m]}static findRowsWithPattern(s,c,d,m,g,b){const _=new Array(4);let S=!1;const E=new Int32Array(b.length);for(;m<c;m+=Ze.ROW_STEP){let L=Ze.findGuardPattern(s,g,m,d,!1,b,E);if(L!=null){for(;m>0;){const P=Ze.findGuardPattern(s,g,--m,d,!1,b,E);if(P!=null)L=P;else{m++;break}}_[0]=new Be(L[0],m),_[1]=new Be(L[1],m),S=!0;break}}let D=m+1;if(S){let L=0,P=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;D<c;D++){const V=Ze.findGuardPattern(s,P[0],D,d,!1,b,E);if(V!=null&&Math.abs(P[0]-V[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(P[1]-V[1])<Ze.MAX_PATTERN_DRIFT)P=V,L=0;else{if(L>Ze.SKIPPED_ROW_COUNT_MAX)break;L++}}D-=L+1,_[2]=new Be(P[0],D),_[3]=new Be(P[1],D)}return D-m<Ze.BARCODE_MIN_HEIGHT&&H.fill(_,null),_}static findGuardPattern(s,c,d,m,g,b,_){H.fillWithin(_,0,_.length,0);let S=c,E=0;for(;s.get(S,d)&&S>0&&E++<Ze.MAX_PIXEL_DRIFT;)S--;let D=S,L=0,P=b.length;for(let V=g;D<m;D++)if(s.get(D,d)!==V)_[L]++;else{if(L===P-1){if(Ze.patternMatchVariance(_,b,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([S,D]);S+=_[0]+_[1],k.arraycopy(_,2,_,0,L-1),_[L-1]=0,_[L]=0,L--}else L++;_[L]=1,V=!V}return L===P-1&&Ze.patternMatchVariance(_,b,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([S,D-1]):null}static patternMatchVariance(s,c,d){let m=s.length,g=0,b=0;for(let E=0;E<m;E++)g+=s[E],b+=c[E];if(g<b)return 1/0;let _=g/b;d*=_;let S=0;for(let E=0;E<m;E++){let D=s[E],L=c[E]*_,P=D>L?D-L:L-D;if(P>d)return 1/0;S+=P}return S/g}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class Zt{constructor(s,c){if(c.length===0)throw new A;this.field=s;let d=c.length;if(d>1&&c[0]===0){let m=1;for(;m<d&&c[m]===0;)m++;m===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-m),k.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let m=0;for(let g of this.coefficients)m=this.field.add(m,g);return m}let c=this.coefficients[0],d=this.coefficients.length;for(let m=1;m<d;m++)c=this.field.add(this.field.multiply(s,c),this.coefficients[m]);return c}add(s){if(!this.field.equals(s.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,d=s.coefficients;if(c.length>d.length){let b=c;c=d,d=b}let m=new Int32Array(d.length),g=d.length-c.length;k.arraycopy(d,0,m,0,g);for(let b=g;b<d.length;b++)m[b]=this.field.add(c[b-g],d[b]);return new Zt(this.field,m)}subtract(s){if(!this.field.equals(s.field))throw new A("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Zt?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Zt(this.field,new Int32Array([0]));let c=this.coefficients,d=c.length,m=s.coefficients,g=m.length,b=new Int32Array(d+g-1);for(let _=0;_<d;_++){let S=c[_];for(let E=0;E<g;E++)b[_+E]=this.field.add(b[_+E],this.field.multiply(S,m[E]))}return new Zt(this.field,b)}negative(){let s=this.coefficients.length,c=new Int32Array(s);for(let d=0;d<s;d++)c[d]=this.field.subtract(0,this.coefficients[d]);return new Zt(this.field,c)}multiplyScalar(s){if(s===0)return new Zt(this.field,new Int32Array([0]));if(s===1)return this;let c=this.coefficients.length,d=new Int32Array(c);for(let m=0;m<c;m++)d[m]=this.field.multiply(this.coefficients[m],s);return new Zt(this.field,d)}multiplyByMonomial(s,c){if(s<0)throw new A;if(c===0)return new Zt(this.field,new Int32Array([0]));let d=this.coefficients.length,m=new Int32Array(d+s);for(let g=0;g<d;g++)m[g]=this.field.multiply(this.coefficients[g],c);return new Zt(this.field,m)}toString(){let s=new Re;for(let c=this.getDegree();c>=0;c--){let d=this.getCoefficient(c);d!==0&&(d<0?(s.append(" - "),d=-d):s.length()>0&&s.append(" + "),(c===0||d!==1)&&s.append(d),c!==0&&(c===1?s.append("x"):(s.append("x^"),s.append(c))))}return s.toString()}}class yo{add(s,c){return(s+c)%this.modulus}subtract(s,c){return(this.modulus+s-c)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new A;return this.logTable[s]}inverse(s){if(s===0)throw new Ai;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Ys extends yo{constructor(s,c){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let d=1;for(let m=0;m<s;m++)this.expTable[m]=d,d=d*c%s;for(let m=0;m<s-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new Zt(this,new Int32Array([0])),this.one=new Zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new A;if(c===0)return this.zero;let d=new Int32Array(s+1);return d[0]=c,new Zt(this,d)}}Ys.PDF417_GF=new Ys(We.NUMBER_OF_CODEWORDS,3);class ds{constructor(){this.field=Ys.PDF417_GF}decode(s,c,d){let m=new Zt(this.field,s),g=new Int32Array(c),b=!1;for(let X=c;X>0;X--){let Z=m.evaluateAt(this.field.exp(X));g[c-X]=Z,Z!==0&&(b=!0)}if(!b)return 0;let _=this.field.getOne();if(d!=null)for(const X of d){let Z=this.field.exp(s.length-1-X),ae=new Zt(this.field,new Int32Array([this.field.subtract(0,Z),1]));_=_.multiply(ae)}let S=new Zt(this.field,g),E=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),S,c),D=E[0],L=E[1],P=this.findErrorLocations(D),V=this.findErrorMagnitudes(L,D,P);for(let X=0;X<P.length;X++){let Z=s.length-1-this.field.log(P[X]);if(Z<0)throw j.getChecksumInstance();s[Z]=this.field.subtract(s[Z],V[X])}return P.length}runEuclideanAlgorithm(s,c,d){if(s.getDegree()<c.getDegree()){let P=s;s=c,c=P}let m=s,g=c,b=this.field.getZero(),_=this.field.getOne();for(;g.getDegree()>=Math.round(d/2);){let P=m,V=b;if(m=g,b=_,m.isZero())throw j.getChecksumInstance();g=P;let X=this.field.getZero(),Z=m.getCoefficient(m.getDegree()),ae=this.field.inverse(Z);for(;g.getDegree()>=m.getDegree()&&!g.isZero();){let ue=g.getDegree()-m.getDegree(),Ce=this.field.multiply(g.getCoefficient(g.getDegree()),ae);X=X.add(this.field.buildMonomial(ue,Ce)),g=g.subtract(m.multiplyByMonomial(ue,Ce))}_=X.multiply(b).subtract(V).negative()}let S=_.getCoefficient(0);if(S===0)throw j.getChecksumInstance();let E=this.field.inverse(S),D=_.multiply(E),L=g.multiply(E);return[D,L]}findErrorLocations(s){let c=s.getDegree(),d=new Int32Array(c),m=0;for(let g=1;g<this.field.getSize()&&m<c;g++)s.evaluateAt(g)===0&&(d[m]=this.field.inverse(g),m++);if(m!==c)throw j.getChecksumInstance();return d}findErrorMagnitudes(s,c,d){let m=c.getDegree(),g=new Int32Array(m);for(let E=1;E<=m;E++)g[m-E]=this.field.multiply(E,c.getCoefficient(E));let b=new Zt(this.field,g),_=d.length,S=new Int32Array(_);for(let E=0;E<_;E++){let D=this.field.inverse(d[E]),L=this.field.subtract(0,s.evaluateAt(D)),P=this.field.inverse(b.evaluateAt(D));S[E]=this.field.multiply(L,P)}return S}}class hs{constructor(s,c,d,m,g){s instanceof hs?this.constructor_2(s):this.constructor_1(s,c,d,m,g)}constructor_1(s,c,d,m,g){const b=c==null||d==null,_=m==null||g==null;if(b&&_)throw new ie;b?(c=new Be(0,m.getY()),d=new Be(0,g.getY())):_&&(m=new Be(s.getWidth()-1,c.getY()),g=new Be(s.getWidth()-1,d.getY())),this.image=s,this.topLeft=c,this.bottomLeft=d,this.topRight=m,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),d.getX())),this.maxX=Math.trunc(Math.max(m.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),m.getY())),this.maxY=Math.trunc(Math.max(d.getY(),g.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,c){return s==null?c:c==null?s:new hs(s.image,s.topLeft,s.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(s,c,d){let m=this.topLeft,g=this.bottomLeft,b=this.topRight,_=this.bottomRight;if(s>0){let S=d?this.topLeft:this.topRight,E=Math.trunc(S.getY()-s);E<0&&(E=0);let D=new Be(S.getX(),E);d?m=D:b=D}if(c>0){let S=d?this.bottomLeft:this.bottomRight,E=Math.trunc(S.getY()+c);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let D=new Be(S.getX(),E);d?g=D:_=D}return new hs(this.image,m,g,b,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cl{constructor(s,c,d,m){this.columnCount=s,this.errorCorrectionLevel=m,this.rowCountUpperPart=c,this.rowCountLowerPart=d,this.rowCount=c+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ii{constructor(){this.buffer=""}static form(s,c){let d=-1;function m(b,_,S,E,D,L){if(b==="%%")return"%";if(c[++d]===void 0)return;b=E?parseInt(E.substr(1)):void 0;let P=D?parseInt(D.substr(1)):void 0,V;switch(L){case"s":V=c[d];break;case"c":V=c[d][0];break;case"f":V=parseFloat(c[d]).toFixed(b);break;case"p":V=parseFloat(c[d]).toPrecision(b);break;case"e":V=parseFloat(c[d]).toExponential(b);break;case"x":V=parseInt(c[d]).toString(P||16);break;case"d":V=parseFloat(parseInt(c[d],P||10).toPrecision(b)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(P);let X=parseInt(S),Z=S&&S[0]+""=="0"?"0":" ";for(;V.length<X;)V=_!==void 0?V+Z:Z+V;return V}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,m)}format(s,...c){this.buffer+=Ii.form(s,c)}toString(){return this.buffer}}class As{constructor(s){this.boundingBox=new hs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let c=this.getCodeword(s);if(c!=null)return c;for(let d=1;d<As.MAX_NEARBY_DISTANCE;d++){let m=this.imageRowToCodewordIndex(s)-d;if(m>=0&&(c=this.codewords[m],c!=null)||(m=this.imageRowToCodewordIndex(s)+d,m<this.codewords.length&&(c=this.codewords[m],c!=null)))return c}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,c){this.codewords[this.imageRowToCodewordIndex(s)]=c}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ii;let c=0;for(const d of this.codewords){if(d==null){s.format("%3d:    |   %n",c++);continue}s.format("%3d: %3d|%3d%n",c++,d.getRowNumber(),d.getValue())}return s.toString()}}As.MAX_NEARBY_DISTANCE=5;class Ss{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let c=this.values.get(s);c==null&&(c=0),c++,this.values.set(s,c)}getValue(){let s=-1,c=new Array;for(const[d,m]of this.values.entries()){const g={getKey:()=>d,getValue:()=>m};g.getValue()>s?(s=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===s&&c.push(g.getKey())}return We.toIntArray(c)}getConfidence(s){return this.values.get(s)}}class bo extends As{constructor(s,c){super(s),this._isLeft=c}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,s);let d=this.getBoundingBox(),m=this._isLeft?d.getTopLeft():d.getTopRight(),g=this._isLeft?d.getBottomLeft():d.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(m.getY())),_=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=-1,E=1,D=0;for(let L=b;L<_;L++){if(c[L]==null)continue;let P=c[L],V=P.getRowNumber()-S;if(V===0)D++;else if(V===1)E=Math.max(E,D),D=1,S=P.getRowNumber();else if(V<0||P.getRowNumber()>=s.getRowCount()||V>L)c[L]=null;else{let X;E>2?X=(E-2)*V:X=V;let Z=X>=L;for(let ae=1;ae<=X&&!Z;ae++)Z=c[L-ae]!=null;Z?c[L]=null:(S=P.getRowNumber(),D=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let c=new Int32Array(s.getRowCount());for(let d of this.getCodewords())if(d!=null){let m=d.getRowNumber();if(m>=c.length)continue;c[m]++}return c}adjustIncompleteIndicatorColumnRowNumbers(s){let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),b=this.imageRowToCodewordIndex(Math.trunc(m.getY())),_=this.getCodewords(),S=-1;for(let E=g;E<b;E++){if(_[E]==null)continue;let D=_[E];D.setRowNumberAsRowIndicatorColumn();let L=D.getRowNumber()-S;L===0||(L===1?S=D.getRowNumber():D.getRowNumber()>=s.getRowCount()?_[E]=null:S=D.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),c=new Ss,d=new Ss,m=new Ss,g=new Ss;for(let _ of s){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let S=_.getValue()%30,E=_.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:d.setValue(S*3+1);break;case 1:g.setValue(S/3),m.setValue(S%3);break;case 2:c.setValue(S+1);break}}if(c.getValue().length===0||d.getValue().length===0||m.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||d.getValue()[0]+m.getValue()[0]<We.MIN_ROWS_IN_BARCODE||d.getValue()[0]+m.getValue()[0]>We.MAX_ROWS_IN_BARCODE)return null;let b=new cl(c.getValue()[0],d.getValue()[0],m.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(s,b),b}removeIncorrectCodewords(s,c){for(let d=0;d<s.length;d++){let m=s[d];if(s[d]==null)continue;let g=m.getValue()%30,b=m.getRowNumber();if(b>c.getRowCount()){s[d]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(s[d]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(s[d]=null);break;case 2:g+1!==c.getColumnCount()&&(s[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Cn{constructor(s,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=We.MAX_CODEWORDS_IN_BARCODE,c;do c=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let d=this.detectionResultColumns[c].getCodewords();for(let m=0;m<d.length;m++)d[m]!=null&&(d[m].hasValidRowNumber()||this.adjustRowNumbers(c,m,d))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<s.length;d++)if(s[d]!=null&&c[d]!=null&&s[d].getRowNumber()===c[d].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let g=this.detectionResultColumns[m].getCodewords()[d];g!=null&&(g.setRowNumber(s[d].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<c.length;d++){if(c[d]==null)continue;let m=c[d].getRowNumber(),g=0;for(let b=this.barcodeColumnCount+1;b>0&&g<this.ADJUST_ROW_NUMBER_SKIP;b--){let _=this.detectionResultColumns[b].getCodewords()[d];_!=null&&(g=Cn.adjustRowNumberIfValid(m,g,_),_.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,c=this.detectionResultColumns[0].getCodewords();for(let d=0;d<c.length;d++){if(c[d]==null)continue;let m=c[d].getRowNumber(),g=0;for(let b=1;b<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;b++){let _=this.detectionResultColumns[b].getCodewords()[d];_!=null&&(g=Cn.adjustRowNumberIfValid(m,g,_),_.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,c,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(s)?(d.setRowNumber(s),c=0):++c),c}adjustRowNumbers(s,c,d){if(!this.detectionResultColumns[s-1])return;let m=d[c],g=this.detectionResultColumns[s-1].getCodewords(),b=g;this.detectionResultColumns[s+1]!=null&&(b=this.detectionResultColumns[s+1].getCodewords());let _=new Array(14);_[2]=g[c],_[3]=b[c],c>0&&(_[0]=d[c-1],_[4]=g[c-1],_[5]=b[c-1]),c>1&&(_[8]=d[c-2],_[10]=g[c-2],_[11]=b[c-2]),c<d.length-1&&(_[1]=d[c+1],_[6]=g[c+1],_[7]=b[c+1]),c<d.length-2&&(_[9]=d[c+2],_[12]=g[c+2],_[13]=b[c+2]);for(let S of _)if(Cn.adjustRowNumber(m,S))return}static adjustRowNumber(s,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===s.getBucket()?(s.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,c){this.detectionResultColumns[s]=c}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Ii;for(let d=0;d<s.getCodewords().length;d++){c.format("CW %3d:",d);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[m].getCodewords()[d];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class Ta{constructor(s,c,d,m){this.rowNumber=Ta.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(c),this.bucket=Math.trunc(d),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ta.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ta.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let s=0;s<We.SYMBOL_TABLE.length;s++){let c=We.SYMBOL_TABLE[s],d=c&1;for(let m=0;m<We.BARS_IN_MODULE;m++){let g=0;for(;(c&1)===d;)g+=1,c>>=1;d=c&1,Ln.RATIOS_TABLE[s]||(Ln.RATIOS_TABLE[s]=new Array(We.BARS_IN_MODULE)),Ln.RATIOS_TABLE[s][We.BARS_IN_MODULE-m-1]=Math.fround(g/We.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let c=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(s));return c!==-1?c:Ln.getClosestDecodedValue(s)}static sampleBitCounts(s){let c=ot.sum(s),d=new Int32Array(We.BARS_IN_MODULE),m=0,g=0;for(let b=0;b<We.MODULES_IN_CODEWORD;b++){let _=c/(2*We.MODULES_IN_CODEWORD)+b*c/We.MODULES_IN_CODEWORD;g+s[m]<=_&&(g+=s[m],m++),d[m]++}return d}static getDecodedCodewordValue(s){let c=Ln.getBitValue(s);return We.getCodeword(c)===-1?-1:c}static getBitValue(s){let c=0;for(let d=0;d<s.length;d++)for(let m=0;m<s[d];m++)c=c<<1|(d%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(s){let c=ot.sum(s),d=new Array(We.BARS_IN_MODULE);if(c>1)for(let b=0;b<d.length;b++)d[b]=Math.fround(s[b]/c);let m=Si.MAX_VALUE,g=-1;this.bSymbolTableReady||Ln.initialize();for(let b=0;b<Ln.RATIOS_TABLE.length;b++){let _=0,S=Ln.RATIOS_TABLE[b];for(let E=0;E<We.BARS_IN_MODULE;E++){let D=Math.fround(S[E]-d[E]);if(_+=Math.fround(D*D),_>=m)break}_<m&&(m=_,g=We.SYMBOL_TABLE[b])}return g}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(We.SYMBOL_TABLE.length).map(R=>new Array(We.BARS_IN_MODULE));class Oi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class eu{static parseLong(s,c=void 0){return parseInt(s,c)}}class ul extends y{}ul.kind="NullPointerException";class wo{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,c,d){if(s==null)throw new ul;if(c<0||c>s.length||d<0||c+d>s.length||c+d<0)throw new B;if(d===0)return;for(let m=0;m<d;m++)this.write(s[c+m])}flush(){}close(){}}class Sr extends y{}class dl extends wo{constructor(s=32){if(super(),this.count=0,s<0)throw new A("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let d=this.buf.length<<1;if(d-s<0&&(d=s),d<0){if(s<0)throw new Sr;d=G.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,d)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,c,d){if(c<0||c>s.length||d<0||c+d-s.length>0)throw new B;this.ensureCapacity(this.count+d),k.arraycopy(s,c,this.buf,this.count,d),this.count+=d}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Tt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function tu(){if(typeof window<"u")return window.BigInt||null;if(typeof hd<"u")return hd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let hl;function Cs(R){if(typeof hl>"u"&&(hl=tu()),hl===null)throw new Error("BigInt is not supported!");return hl(R)}function _o(){let R=[];R[0]=Cs(1);let s=Cs(900);R[1]=s;for(let c=2;c<16;c++)R[c]=R[c-1]*s;return R}class de{static decode(s,c){let d=new Re(""),m=q.ISO8859_1;d.enableDecoding(m);let g=1,b=s[g++],_=new Oi;for(;g<s[0];){switch(b){case de.TEXT_COMPACTION_MODE_LATCH:g=de.textCompaction(s,g,d);break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:g=de.byteCompaction(b,s,m,g,d);break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[g++]);break;case de.NUMERIC_COMPACTION_MODE_LATCH:g=de.numericCompaction(s,g,d);break;case de.ECI_CHARSET:q.getCharacterSetECIByValue(s[g++]);break;case de.ECI_GENERAL_PURPOSE:g+=2;break;case de.ECI_USER_DEFINED:g++;break;case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=de.decodeMacroBlock(s,g,_);break;case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:throw new Y;default:g--,g=de.textCompaction(s,g,d);break}if(g<s.length)b=s[g++];else throw Y.getFormatInstance()}if(d.length()===0)throw Y.getFormatInstance();let S=new qt(null,d.toString(),null,c);return S.setOther(_),S}static decodeMacroBlock(s,c,d){if(c+de.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw Y.getFormatInstance();let m=new Int32Array(de.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<de.NUMBER_OF_SEQUENCE_CODEWORDS;_++,c++)m[_]=s[c];d.setSegmentIndex(G.parseInt(de.decodeBase900toBase10(m,de.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Re;c=de.textCompaction(s,c,g),d.setFileId(g.toString());let b=-1;for(s[c]===de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=c+1);c<s[0];)switch(s[c]){case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,s[c]){case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new Re;c=de.textCompaction(s,c+1,_),d.setFileName(_.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Re;c=de.textCompaction(s,c+1,S),d.setSender(S.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Re;c=de.textCompaction(s,c+1,E),d.setAddressee(E.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new Re;c=de.numericCompaction(s,c+1,D),d.setSegmentCount(G.parseInt(D.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let L=new Re;c=de.numericCompaction(s,c+1,L),d.setTimestamp(eu.parseLong(L.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new Re;c=de.numericCompaction(s,c+1,P),d.setChecksum(G.parseInt(P.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new Re;c=de.numericCompaction(s,c+1,V),d.setFileSize(eu.parseLong(V.toString()));break;default:throw Y.getFormatInstance()}break;case de.MACRO_PDF417_TERMINATOR:c++,d.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(b!==-1){let _=c-b;d.isLastSegment()&&_--,d.setOptionalData(H.copyOfRange(s,b,b+_))}return c}static textCompaction(s,c,d){let m=new Int32Array((s[0]-c)*2),g=new Int32Array((s[0]-c)*2),b=0,_=!1;for(;c<s[0]&&!_;){let S=s[c++];if(S<de.TEXT_COMPACTION_MODE_LATCH)m[b]=S/30,m[b+1]=S%30,b+=2;else switch(S){case de.TEXT_COMPACTION_MODE_LATCH:m[b++]=de.TEXT_COMPACTION_MODE_LATCH;break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:c--,_=!0;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[b]=de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=s[c++],g[b]=S,b++;break}}return de.decodeTextCompaction(m,g,b,d),c}static decodeTextCompaction(s,c,d,m){let g=Tt.ALPHA,b=Tt.ALPHA,_=0;for(;_<d;){let S=s[_],E="";switch(g){case Tt.ALPHA:if(S<26)E=String.fromCharCode(65+S);else switch(S){case 26:E=" ";break;case de.LL:g=Tt.LOWER;break;case de.ML:g=Tt.MIXED;break;case de.PS:b=g,g=Tt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[_]);break;case de.TEXT_COMPACTION_MODE_LATCH:g=Tt.ALPHA;break}break;case Tt.LOWER:if(S<26)E=String.fromCharCode(97+S);else switch(S){case 26:E=" ";break;case de.AS:b=g,g=Tt.ALPHA_SHIFT;break;case de.ML:g=Tt.MIXED;break;case de.PS:b=g,g=Tt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[_]);break;case de.TEXT_COMPACTION_MODE_LATCH:g=Tt.ALPHA;break}break;case Tt.MIXED:if(S<de.PL)E=de.MIXED_CHARS[S];else switch(S){case de.PL:g=Tt.PUNCT;break;case 26:E=" ";break;case de.LL:g=Tt.LOWER;break;case de.AL:g=Tt.ALPHA;break;case de.PS:b=g,g=Tt.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[_]);break;case de.TEXT_COMPACTION_MODE_LATCH:g=Tt.ALPHA;break}break;case Tt.PUNCT:if(S<de.PAL)E=de.PUNCT_CHARS[S];else switch(S){case de.PAL:g=Tt.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[_]);break;case de.TEXT_COMPACTION_MODE_LATCH:g=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(g=b,S<26)E=String.fromCharCode(65+S);else switch(S){case 26:E=" ";break;case de.TEXT_COMPACTION_MODE_LATCH:g=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(g=b,S<de.PAL)E=de.PUNCT_CHARS[S];else switch(S){case de.PAL:g=Tt.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[_]);break;case de.TEXT_COMPACTION_MODE_LATCH:g=Tt.ALPHA;break}break}E!==""&&m.append(E),_++}}static byteCompaction(s,c,d,m,g){let b=new dl,_=0,S=0,E=!1;switch(s){case de.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),L=c[m++];for(;m<c[0]&&!E;)switch(D[_++]=L,S=900*S+L,L=c[m++],L){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:m--,E=!0;break;default:if(_%5===0&&_>0){for(let P=0;P<6;++P)b.write(Number(Cs(S)>>Cs(8*(5-P))));S=0,_=0}break}m===c[0]&&L<de.TEXT_COMPACTION_MODE_LATCH&&(D[_++]=L);for(let P=0;P<_;P++)b.write(D[P]);break;case de.BYTE_COMPACTION_MODE_LATCH_6:for(;m<c[0]&&!E;){let P=c[m++];if(P<de.TEXT_COMPACTION_MODE_LATCH)_++,S=900*S+P;else switch(P){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:m--,E=!0;break}if(_%5===0&&_>0){for(let V=0;V<6;++V)b.write(Number(Cs(S)>>Cs(8*(5-V))));S=0,_=0}}break}return g.append(Ae.decode(b.toByteArray(),d)),m}static numericCompaction(s,c,d){let m=0,g=!1,b=new Int32Array(de.MAX_NUMERIC_CODEWORDS);for(;c<s[0]&&!g;){let _=s[c++];if(c===s[0]&&(g=!0),_<de.TEXT_COMPACTION_MODE_LATCH)b[m]=_,m++;else switch(_){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(m%de.MAX_NUMERIC_CODEWORDS===0||_===de.NUMERIC_COMPACTION_MODE_LATCH||g)&&m>0&&(d.append(de.decodeBase900toBase10(b,m)),m=0)}return c}static decodeBase900toBase10(s,c){let d=Cs(0);for(let g=0;g<c;g++)d+=de.EXP900[c-g-1]*Cs(s[g]);let m=d.toString();if(m.charAt(0)!=="1")throw new Y;return m.substring(1)}}de.TEXT_COMPACTION_MODE_LATCH=900,de.BYTE_COMPACTION_MODE_LATCH=901,de.NUMERIC_COMPACTION_MODE_LATCH=902,de.BYTE_COMPACTION_MODE_LATCH_6=924,de.ECI_USER_DEFINED=925,de.ECI_GENERAL_PURPOSE=926,de.ECI_CHARSET=927,de.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,de.MACRO_PDF417_TERMINATOR=922,de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,de.MAX_NUMERIC_CODEWORDS=15,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,de.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,de.PL=25,de.LL=27,de.AS=27,de.ML=28,de.AL=28,de.PS=29,de.PAL=29,de.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,de.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",de.EXP900=tu()?_o():[],de.NUMBER_OF_SEQUENCE_CODEWORDS=2;class at{constructor(){}static decode(s,c,d,m,g,b,_){let S=new hs(s,c,d,m,g),E=null,D=null,L;for(let X=!0;;X=!1){if(c!=null&&(E=at.getRowIndicatorColumn(s,S,c,!0,b,_)),m!=null&&(D=at.getRowIndicatorColumn(s,S,m,!1,b,_)),L=at.merge(E,D),L==null)throw ie.getNotFoundInstance();let Z=L.getBoundingBox();if(X&&Z!=null&&(Z.getMinY()<S.getMinY()||Z.getMaxY()>S.getMaxY()))S=Z;else break}L.setBoundingBox(S);let P=L.getBarcodeColumnCount()+1;L.setDetectionResultColumn(0,E),L.setDetectionResultColumn(P,D);let V=E!=null;for(let X=1;X<=P;X++){let Z=V?X:P-X;if(L.getDetectionResultColumn(Z)!==void 0)continue;let ae;Z===0||Z===P?ae=new bo(S,Z===0):ae=new As(S),L.setDetectionResultColumn(Z,ae);let ue=-1,Ce=ue;for(let ve=S.getMinY();ve<=S.getMaxY();ve++){if(ue=at.getStartColumn(L,Z,ve,V),ue<0||ue>S.getMaxX()){if(Ce===-1)continue;ue=Ce}let _e=at.detectCodeword(s,S.getMinX(),S.getMaxX(),V,ue,ve,b,_);_e!=null&&(ae.setCodeword(ve,_e),Ce=ue,b=Math.min(b,_e.getWidth()),_=Math.max(_,_e.getWidth()))}}return at.createDecoderResult(L)}static merge(s,c){if(s==null&&c==null)return null;let d=at.getBarcodeMetadata(s,c);if(d==null)return null;let m=hs.merge(at.adjustBoundingBox(s),at.adjustBoundingBox(c));return new Cn(d,m)}static adjustBoundingBox(s){if(s==null)return null;let c=s.getRowHeights();if(c==null)return null;let d=at.getMax(c),m=0;for(let _ of c)if(m+=d-_,_>0)break;let g=s.getCodewords();for(let _=0;m>0&&g[_]==null;_++)m--;let b=0;for(let _=c.length-1;_>=0&&(b+=d-c[_],!(c[_]>0));_--);for(let _=g.length-1;b>0&&g[_]==null;_--)b--;return s.getBoundingBox().addMissingRows(m,b,s.isLeft())}static getMax(s){let c=-1;for(let d of s)c=Math.max(c,d);return c}static getBarcodeMetadata(s,c){let d;if(s==null||(d=s.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let m;return c==null||(m=c.getBarcodeMetadata())==null?d:d.getColumnCount()!==m.getColumnCount()&&d.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&d.getRowCount()!==m.getRowCount()?null:d}static getRowIndicatorColumn(s,c,d,m,g,b){let _=new bo(c,m);for(let S=0;S<2;S++){let E=S===0?1:-1,D=Math.trunc(Math.trunc(d.getX()));for(let L=Math.trunc(Math.trunc(d.getY()));L<=c.getMaxY()&&L>=c.getMinY();L+=E){let P=at.detectCodeword(s,0,s.getWidth(),m,D,L,g,b);P!=null&&(_.setCodeword(L,P),m?D=P.getStartX():D=P.getEndX())}}return _}static adjustCodewordCount(s,c){let d=c[0][1],m=d.getValue(),g=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-at.getNumberOfECCodeWords(s.getBarcodeECLevel());if(m.length===0){if(g<1||g>We.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();d.setValue(g)}else m[0]!==g&&d.setValue(g)}static createDecoderResult(s){let c=at.createBarcodeMatrix(s);at.adjustCodewordCount(s,c);let d=new Array,m=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),g=[],b=new Array;for(let S=0;S<s.getBarcodeRowCount();S++)for(let E=0;E<s.getBarcodeColumnCount();E++){let D=c[S][E+1].getValue(),L=S*s.getBarcodeColumnCount()+E;D.length===0?d.push(L):D.length===1?m[L]=D[0]:(b.push(L),g.push(D))}let _=new Array(g.length);for(let S=0;S<_.length;S++)_[S]=g[S];return at.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),m,We.toIntArray(d),We.toIntArray(b),_)}static createDecoderResultFromAmbiguousValues(s,c,d,m,g){let b=new Int32Array(m.length),_=100;for(;_-- >0;){for(let S=0;S<b.length;S++)c[m[S]]=g[S][b[S]];try{return at.decodeCodewords(c,s,d)}catch(S){if(!(S instanceof j))throw S}if(b.length===0)throw j.getChecksumInstance();for(let S=0;S<b.length;S++)if(b[S]<g[S].length-1){b[S]++;break}else if(b[S]=0,S===b.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(s){let c=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let m=0;m<c.length;m++)for(let g=0;g<c[m].length;g++)c[m][g]=new Ss;let d=0;for(let m of s.getDetectionResultColumns()){if(m!=null){for(let g of m.getCodewords())if(g!=null){let b=g.getRowNumber();if(b>=0){if(b>=c.length)continue;c[b][d].setValue(g.getValue())}}}d++}return c}static isValidBarcodeColumn(s,c){return c>=0&&c<=s.getBarcodeColumnCount()+1}static getStartColumn(s,c,d,m){let g=m?1:-1,b=null;if(at.isValidBarcodeColumn(s,c-g)&&(b=s.getDetectionResultColumn(c-g).getCodeword(d)),b!=null)return m?b.getEndX():b.getStartX();if(b=s.getDetectionResultColumn(c).getCodewordNearby(d),b!=null)return m?b.getStartX():b.getEndX();if(at.isValidBarcodeColumn(s,c-g)&&(b=s.getDetectionResultColumn(c-g).getCodewordNearby(d)),b!=null)return m?b.getEndX():b.getStartX();let _=0;for(;at.isValidBarcodeColumn(s,c-g);){c-=g;for(let S of s.getDetectionResultColumn(c).getCodewords())if(S!=null)return(m?S.getEndX():S.getStartX())+g*_*(S.getEndX()-S.getStartX());_++}return m?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,c,d,m,g,b,_,S){g=at.adjustCodewordStartColumn(s,c,d,m,g,b);let E=at.getModuleBitCount(s,c,d,m,g,b);if(E==null)return null;let D,L=ot.sum(E);if(m)D=g+L;else{for(let X=0;X<E.length/2;X++){let Z=E[X];E[X]=E[E.length-1-X],E[E.length-1-X]=Z}D=g,g=D-L}if(!at.checkCodewordSkew(L,_,S))return null;let P=Ln.getDecodedValue(E),V=We.getCodeword(P);return V===-1?null:new Ta(g,D,at.getCodewordBucketNumber(P),V)}static getModuleBitCount(s,c,d,m,g,b){let _=g,S=new Int32Array(8),E=0,D=m?1:-1,L=m;for(;(m?_<d:_>=c)&&E<S.length;)s.get(_,b)===L?(S[E]++,_+=D):(E++,L=!L);return E===S.length||_===(m?d:c)&&E===S.length-1?S:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,c,d,m,g,b){let _=g,S=m?-1:1;for(let E=0;E<2;E++){for(;(m?_>=c:_<d)&&m===s.get(_,b);){if(Math.abs(g-_)>at.CODEWORD_SKEW_SIZE)return g;_+=S}S=-S,m=!m}return _}static checkCodewordSkew(s,c,d){return c-at.CODEWORD_SKEW_SIZE<=s&&s<=d+at.CODEWORD_SKEW_SIZE}static decodeCodewords(s,c,d){if(s.length===0)throw Y.getFormatInstance();let m=1<<c+1,g=at.correctErrors(s,d,m);at.verifyCodewordCount(s,m);let b=de.decode(s,""+c);return b.setErrorsCorrected(g),b.setErasures(d.length),b}static correctErrors(s,c,d){if(c!=null&&c.length>d/2+at.MAX_ERRORS||d<0||d>at.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return at.errorCorrection.decode(s,d,c)}static verifyCodewordCount(s,c){if(s.length<4)throw Y.getFormatInstance();let d=s[0];if(d>s.length)throw Y.getFormatInstance();if(d===0)if(c<s.length)s[0]=s.length-c;else throw Y.getFormatInstance()}static getBitCountForCodeword(s){let c=new Int32Array(8),d=0,m=c.length-1;for(;!((s&1)!==d&&(d=s&1,m--,m<0));)c[m]++,s>>=1;return c}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return at.getCodewordBucketNumber(at.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let c=new Ii;for(let d=0;d<s.length;d++){c.format("Row %2d: ",d);for(let m=0;m<s[d].length;m++){let g=s[d][m];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}at.CODEWORD_SKEW_SIZE=2,at.MAX_ERRORS=3,at.MAX_EC_CODEWORDS=512,at.errorCorrection=new ds;class Bn{decode(s,c=null){let d=Bn.decode(s,c,!1);if(d==null||d.length===0||d[0]==null)throw ie.getNotFoundInstance();return d[0]}decodeMultiple(s,c=null){try{return Bn.decode(s,c,!0)}catch(d){throw d instanceof Y||d instanceof j?ie.getNotFoundInstance():d}}static decode(s,c,d){const m=new Array,g=Ze.detectMultiple(s,c,d);for(const b of g.getPoints()){const _=at.decode(g.getBits(),b[4],b[5],b[6],b[7],Bn.getMinCodewordWidth(b),Bn.getMaxCodewordWidth(b)),S=new Me(_.getText(),_.getRawBytes(),void 0,b,Ne.PDF_417);S.putMetadata(wt.ERROR_CORRECTION_LEVEL,_.getECLevel());const E=_.getOther();E!=null&&S.putMetadata(wt.PDF417_EXTRA_METADATA,E),m.push(S)}return m.map(b=>b)}static getMaxWidth(s,c){return s==null||c==null?0:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMinWidth(s,c){return s==null||c==null?G.MAX_VALUE:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Bn.getMaxWidth(s[0],s[4]),Bn.getMaxWidth(s[6],s[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.max(Bn.getMaxWidth(s[1],s[5]),Bn.getMaxWidth(s[7],s[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Bn.getMinWidth(s[0],s[4]),Bn.getMinWidth(s[6],s[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.min(Bn.getMinWidth(s[1],s[5]),Bn.getMinWidth(s[7],s[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}reset(){}}class fl extends y{}fl.kind="ReaderException";class nu{constructor(s,c){this.verbose=s===!0,c&&this.setHints(c)}decode(s,c){return c&&this.setHints(c),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const c=!i(s)&&s.get(te.TRY_HARDER)===!0,d=i(s)?null:s.get(te.POSSIBLE_FORMATS),m=new Array;if(!i(d)){const g=d.some(b=>b===Ne.UPC_A||b===Ne.UPC_E||b===Ne.EAN_13||b===Ne.EAN_8||b===Ne.CODABAR||b===Ne.CODE_39||b===Ne.CODE_93||b===Ne.CODE_128||b===Ne.ITF||b===Ne.RSS_14||b===Ne.RSS_EXPANDED);g&&!c&&m.push(new Ca(s,this.verbose)),d.includes(Ne.QR_CODE)&&m.push(new us),d.includes(Ne.DATA_MATRIX)&&m.push(new cs),d.includes(Ne.AZTEC)&&m.push(new il),d.includes(Ne.PDF_417)&&m.push(new Bn),g&&c&&m.push(new Ca(s,this.verbose))}m.length===0&&(c||m.push(new Ca(s,this.verbose)),m.push(new us),m.push(new cs),m.push(new il),m.push(new Bn),c&&m.push(new Ca(s,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new fl("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(s,this.hints)}catch(d){if(d instanceof fl)continue}throw new ie("No MultiFormat Readers were able to detect the code.")}}class au extends je{constructor(s=null,c=500){const d=new nu;d.setHints(s),super(d,c)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class vh extends je{constructor(s=500){super(new Bn,s)}}class Nh extends je{constructor(s=500){super(new us,s)}}var vo;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(vo||(vo={}));var _n=vo;class Cr{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new In(s,Int32Array.from([1])))}buildGenerator(s){const c=this.cachedGenerators;if(s>=c.length){let d=c[c.length-1];const m=this.field;for(let g=c.length;g<=s;g++){const b=d.multiply(new In(m,Int32Array.from([1,m.exp(g-1+m.getGeneratorBase())])));c.push(b),d=b}}return c[s]}encode(s,c){if(c===0)throw new A("No error correction bytes");const d=s.length-c;if(d<=0)throw new A("No data bytes provided");const m=this.buildGenerator(c),g=new Int32Array(d);k.arraycopy(s,0,g,0,d);let b=new In(this.field,g);b=b.multiplyByMonomial(c,1);const S=b.divide(m)[1].getCoefficients(),E=c-S.length;for(let D=0;D<E;D++)s[d+D]=0;k.arraycopy(S,0,s,d+E,S.length)}}class ln{constructor(){}static applyMaskPenaltyRule1(s){return ln.applyMaskPenaltyRule1Internal(s,!0)+ln.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let c=0;const d=s.getArray(),m=s.getWidth(),g=s.getHeight();for(let b=0;b<g-1;b++){const _=d[b];for(let S=0;S<m-1;S++){const E=_[S];E===_[S+1]&&E===d[b+1][S]&&E===d[b+1][S+1]&&c++}}return ln.N2*c}static applyMaskPenaltyRule3(s){let c=0;const d=s.getArray(),m=s.getWidth(),g=s.getHeight();for(let b=0;b<g;b++)for(let _=0;_<m;_++){const S=d[b];_+6<m&&S[_]===1&&S[_+1]===0&&S[_+2]===1&&S[_+3]===1&&S[_+4]===1&&S[_+5]===0&&S[_+6]===1&&(ln.isWhiteHorizontal(S,_-4,_)||ln.isWhiteHorizontal(S,_+7,_+11))&&c++,b+6<g&&d[b][_]===1&&d[b+1][_]===0&&d[b+2][_]===1&&d[b+3][_]===1&&d[b+4][_]===1&&d[b+5][_]===0&&d[b+6][_]===1&&(ln.isWhiteVertical(d,_,b-4,b)||ln.isWhiteVertical(d,_,b+7,b+11))&&c++}return c*ln.N3}static isWhiteHorizontal(s,c,d){c=Math.max(c,0),d=Math.min(d,s.length);for(let m=c;m<d;m++)if(s[m]===1)return!1;return!0}static isWhiteVertical(s,c,d,m){d=Math.max(d,0),m=Math.min(m,s.length);for(let g=d;g<m;g++)if(s[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let c=0;const d=s.getArray(),m=s.getWidth(),g=s.getHeight();for(let S=0;S<g;S++){const E=d[S];for(let D=0;D<m;D++)E[D]===1&&c++}const b=s.getHeight()*s.getWidth();return Math.floor(Math.abs(c*2-b)*10/b)*ln.N4}static getDataMaskBit(s,c,d){let m,g;switch(s){case 0:m=d+c&1;break;case 1:m=d&1;break;case 2:m=c%3;break;case 3:m=(d+c)%3;break;case 4:m=Math.floor(d/2)+Math.floor(c/3)&1;break;case 5:g=d*c,m=(g&1)+g%3;break;case 6:g=d*c,m=(g&1)+g%3&1;break;case 7:g=d*c,m=g%3+(d+c&1)&1;break;default:throw new A("Invalid mask pattern: "+s)}return m===0}static applyMaskPenaltyRule1Internal(s,c){let d=0;const m=c?s.getHeight():s.getWidth(),g=c?s.getWidth():s.getHeight(),b=s.getArray();for(let _=0;_<m;_++){let S=0,E=-1;for(let D=0;D<g;D++){const L=c?b[_][D]:b[D][_];L===E?S++:(S>=5&&(d+=ln.N1+(S-5)),S=1,E=L)}S>=5&&(d+=ln.N1+(S-5))}return d}}ln.N1=3,ln.N2=3,ln.N3=40,ln.N4=10;class ml{constructor(s,c){this.width=s,this.height=c;const d=new Array(c);for(let m=0;m!==c;m++)d[m]=new Uint8Array(s);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(s,c){return this.bytes[c][s]}getArray(){return this.bytes}setNumber(s,c,d){this.bytes[c][s]=d}setBoolean(s,c,d){this.bytes[c][s]=d?1:0}clear(s){for(const c of this.bytes)H.fill(c,s)}equals(s){if(!(s instanceof ml))return!1;const c=s;if(this.width!==c.width||this.height!==c.height)return!1;for(let d=0,m=this.height;d<m;++d){const g=this.bytes[d],b=c.bytes[d];for(let _=0,S=this.width;_<S;++_)if(g[_]!==b[_])return!1}return!0}toString(){const s=new Re;for(let c=0,d=this.height;c<d;++c){const m=this.bytes[c];for(let g=0,b=this.width;g<b;++g)switch(m[g]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Gs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Re;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Gs.NUM_MASK_PATTERNS}}Gs.NUM_MASK_PATTERNS=8;class Dt extends y{}Dt.kind="WriterException";class Xe{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,c,d,m,g){Xe.clearMatrix(g),Xe.embedBasicPatterns(d,g),Xe.embedTypeInfo(c,m,g),Xe.maybeEmbedVersionInfo(d,g),Xe.embedDataBits(s,m,g)}static embedBasicPatterns(s,c){Xe.embedPositionDetectionPatternsAndSeparators(c),Xe.embedDarkDotAtLeftBottomCorner(c),Xe.maybeEmbedPositionAdjustmentPatterns(s,c),Xe.embedTimingPatterns(c)}static embedTypeInfo(s,c,d){const m=new K;Xe.makeTypeInfoBits(s,c,m);for(let g=0,b=m.getSize();g<b;++g){const _=m.get(m.getSize()-1-g),S=Xe.TYPE_INFO_COORDINATES[g],E=S[0],D=S[1];if(d.setBoolean(E,D,_),g<8){const L=d.getWidth()-g-1;d.setBoolean(L,8,_)}else{const P=d.getHeight()-7+(g-8);d.setBoolean(8,P,_)}}}static maybeEmbedVersionInfo(s,c){if(s.getVersionNumber()<7)return;const d=new K;Xe.makeVersionInfoBits(s,d);let m=17;for(let g=0;g<6;++g)for(let b=0;b<3;++b){const _=d.get(m);m--,c.setBoolean(g,c.getHeight()-11+b,_),c.setBoolean(c.getHeight()-11+b,g,_)}}static embedDataBits(s,c,d){let m=0,g=-1,b=d.getWidth()-1,_=d.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);_>=0&&_<d.getHeight();){for(let S=0;S<2;++S){const E=b-S;if(!Xe.isEmpty(d.get(E,_)))continue;let D;m<s.getSize()?(D=s.get(m),++m):D=!1,c!==255&&ln.getDataMaskBit(c,E,_)&&(D=!D),d.setBoolean(E,_,D)}_+=g}g=-g,_+=g,b-=2}if(m!==s.getSize())throw new Dt("Not all bits consumed: "+m+"/"+s.getSize())}static findMSBSet(s){return 32-G.numberOfLeadingZeros(s)}static calculateBCHCode(s,c){if(c===0)throw new A("0 polynomial");const d=Xe.findMSBSet(c);for(s<<=d-1;Xe.findMSBSet(s)>=d;)s^=c<<Xe.findMSBSet(s)-d;return s}static makeTypeInfoBits(s,c,d){if(!Gs.isValidMaskPattern(c))throw new Dt("Invalid mask pattern");const m=s.getBits()<<3|c;d.appendBits(m,5);const g=Xe.calculateBCHCode(m,Xe.TYPE_INFO_POLY);d.appendBits(g,10);const b=new K;if(b.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),d.xor(b),d.getSize()!==15)throw new Dt("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(s,c){c.appendBits(s.getVersionNumber(),6);const d=Xe.calculateBCHCode(s.getVersionNumber(),Xe.VERSION_INFO_POLY);if(c.appendBits(d,12),c.getSize()!==18)throw new Dt("should not happen but we got: "+c.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let c=8;c<s.getWidth()-8;++c){const d=(c+1)%2;Xe.isEmpty(s.get(c,6))&&s.setNumber(c,6,d),Xe.isEmpty(s.get(6,c))&&s.setNumber(6,c,d)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Dt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,c,d){for(let m=0;m<8;++m){if(!Xe.isEmpty(d.get(s+m,c)))throw new Dt;d.setNumber(s+m,c,0)}}static embedVerticalSeparationPattern(s,c,d){for(let m=0;m<7;++m){if(!Xe.isEmpty(d.get(s,c+m)))throw new Dt;d.setNumber(s,c+m,0)}}static embedPositionAdjustmentPattern(s,c,d){for(let m=0;m<5;++m){const g=Xe.POSITION_ADJUSTMENT_PATTERN[m];for(let b=0;b<5;++b)d.setNumber(s+b,c+m,g[b])}}static embedPositionDetectionPattern(s,c,d){for(let m=0;m<7;++m){const g=Xe.POSITION_DETECTION_PATTERN[m];for(let b=0;b<7;++b)d.setNumber(s+b,c+m,g[b])}}static embedPositionDetectionPatternsAndSeparators(s){const c=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,s),Xe.embedPositionDetectionPattern(s.getWidth()-c,0,s),Xe.embedPositionDetectionPattern(0,s.getWidth()-c,s);const d=8;Xe.embedHorizontalSeparationPattern(0,d-1,s),Xe.embedHorizontalSeparationPattern(s.getWidth()-d,d-1,s),Xe.embedHorizontalSeparationPattern(0,s.getWidth()-d,s);const m=7;Xe.embedVerticalSeparationPattern(m,0,s),Xe.embedVerticalSeparationPattern(s.getHeight()-m-1,0,s),Xe.embedVerticalSeparationPattern(m,s.getHeight()-m,s)}static maybeEmbedPositionAdjustmentPatterns(s,c){if(s.getVersionNumber()<2)return;const d=s.getVersionNumber()-1,m=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let g=0,b=m.length;g!==b;g++){const _=m[g];if(_>=0)for(let S=0;S!==b;S++){const E=m[S];E>=0&&Xe.isEmpty(c.get(E,_))&&Xe.embedPositionAdjustmentPattern(E-2,_-2,c)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class Ah{constructor(s,c){this.dataBytes=s,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qt{constructor(){}static calculateMaskPenalty(s){return ln.applyMaskPenaltyRule1(s)+ln.applyMaskPenaltyRule2(s)+ln.applyMaskPenaltyRule3(s)+ln.applyMaskPenaltyRule4(s)}static encode(s,c,d=null){let m=Qt.DEFAULT_BYTE_MODE_ENCODING;const g=d!==null&&d.get(_n.CHARACTER_SET)!==void 0;g&&(m=d.get(_n.CHARACTER_SET).toString());const b=this.chooseMode(s,m),_=new K;if(b===Ve.BYTE&&(g||Qt.DEFAULT_BYTE_MODE_ENCODING!==m)){const ve=q.getCharacterSetECIByName(m);ve!==void 0&&this.appendECI(ve,_)}this.appendModeInfo(b,_);const S=new K;this.appendBytes(s,b,S,m);let E;if(d!==null&&d.get(_n.QR_VERSION)!==void 0){const ve=Number.parseInt(d.get(_n.QR_VERSION).toString(),10);E=ze.getVersionForNumber(ve);const _e=this.calculateBitsNeeded(b,_,S,E);if(!this.willFit(_e,E,c))throw new Dt("Data too big for requested version")}else E=this.recommendVersion(c,b,_,S);const D=new K;D.appendBitArray(_);const L=b===Ve.BYTE?S.getSizeInBytes():s.length;this.appendLengthInfo(L,E,b,D),D.appendBitArray(S);const P=E.getECBlocksForLevel(c),V=E.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(V,D);const X=this.interleaveWithECBytes(D,E.getTotalCodewords(),V,P.getNumBlocks()),Z=new Gs;Z.setECLevel(c),Z.setMode(b),Z.setVersion(E);const ae=E.getDimensionForVersion(),ue=new ml(ae,ae),Ce=this.chooseMaskPattern(X,c,E,ue);return Z.setMaskPattern(Ce),Xe.buildMatrix(X,c,E,Ce,ue),Z.setMatrix(ue),Z}static recommendVersion(s,c,d,m){const g=this.calculateBitsNeeded(c,d,m,ze.getVersionForNumber(1)),b=this.chooseVersion(g,s),_=this.calculateBitsNeeded(c,d,m,b);return this.chooseVersion(_,s)}static calculateBitsNeeded(s,c,d,m){return c.getSize()+s.getCharacterCountBits(m)+d.getSize()}static getAlphanumericCode(s){return s<Qt.ALPHANUMERIC_TABLE.length?Qt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,c=null){if(q.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(s))return Ve.KANJI;let d=!1,m=!1;for(let g=0,b=s.length;g<b;++g){const _=s.charAt(g);if(Qt.isDigit(_))d=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)m=!0;else return Ve.BYTE}return m?Ve.ALPHANUMERIC:d?Ve.NUMERIC:Ve.BYTE}static isOnlyDoubleByteKanji(s){let c;try{c=Ae.encode(s,q.SJIS)}catch{return!1}const d=c.length;if(d%2!==0)return!1;for(let m=0;m<d;m+=2){const g=c[m]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(s,c,d,m){let g=Number.MAX_SAFE_INTEGER,b=-1;for(let _=0;_<Gs.NUM_MASK_PATTERNS;_++){Xe.buildMatrix(s,c,d,_,m);let S=this.calculateMaskPenalty(m);S<g&&(g=S,b=_)}return b}static chooseVersion(s,c){for(let d=1;d<=40;d++){const m=ze.getVersionForNumber(d);if(Qt.willFit(s,m,c))return m}throw new Dt("Data too big")}static willFit(s,c,d){const m=c.getTotalCodewords(),b=c.getECBlocksForLevel(d).getTotalECCodewords(),_=m-b,S=(s+7)/8;return _>=S}static terminateBits(s,c){const d=s*8;if(c.getSize()>d)throw new Dt("data bits cannot fit in the QR Code"+c.getSize()+" > "+d);for(let b=0;b<4&&c.getSize()<d;++b)c.appendBit(!1);const m=c.getSize()&7;if(m>0)for(let b=m;b<8;b++)c.appendBit(!1);const g=s-c.getSizeInBytes();for(let b=0;b<g;++b)c.appendBits((b&1)===0?236:17,8);if(c.getSize()!==d)throw new Dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,c,d,m,g,b){if(m>=d)throw new Dt("Block ID too large");const _=s%d,S=d-_,E=Math.floor(s/d),D=E+1,L=Math.floor(c/d),P=L+1,V=E-L,X=D-P;if(V!==X)throw new Dt("EC bytes mismatch");if(d!==S+_)throw new Dt("RS blocks mismatch");if(s!==(L+V)*S+(P+X)*_)throw new Dt("Total bytes mismatch");m<S?(g[0]=L,b[0]=V):(g[0]=P,b[0]=X)}static interleaveWithECBytes(s,c,d,m){if(s.getSizeInBytes()!==d)throw new Dt("Number of bits and data bytes does not match");let g=0,b=0,_=0;const S=new Array;for(let D=0;D<m;++D){const L=new Int32Array(1),P=new Int32Array(1);Qt.getNumDataBytesAndNumECBytesForBlockID(c,d,m,D,L,P);const V=L[0],X=new Uint8Array(V);s.toBytes(8*g,X,0,V);const Z=Qt.generateECBytes(X,P[0]);S.push(new Ah(X,Z)),b=Math.max(b,V),_=Math.max(_,Z.length),g+=L[0]}if(d!==g)throw new Dt("Data bytes does not match offset");const E=new K;for(let D=0;D<b;++D)for(const L of S){const P=L.getDataBytes();D<P.length&&E.appendBits(P[D],8)}for(let D=0;D<_;++D)for(const L of S){const P=L.getErrorCorrectionBytes();D<P.length&&E.appendBits(P[D],8)}if(c!==E.getSizeInBytes())throw new Dt("Interleaving error: "+c+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(s,c){const d=s.length,m=new Int32Array(d+c);for(let b=0;b<d;b++)m[b]=s[b]&255;new Cr(_t.QR_CODE_FIELD_256).encode(m,c);const g=new Uint8Array(c);for(let b=0;b<c;b++)g[b]=m[d+b];return g}static appendModeInfo(s,c){c.appendBits(s.getBits(),4)}static appendLengthInfo(s,c,d,m){const g=d.getCharacterCountBits(c);if(s>=1<<g)throw new Dt(s+" is bigger than "+((1<<g)-1));m.appendBits(s,g)}static appendBytes(s,c,d,m){switch(c){case Ve.NUMERIC:Qt.appendNumericBytes(s,d);break;case Ve.ALPHANUMERIC:Qt.appendAlphanumericBytes(s,d);break;case Ve.BYTE:Qt.append8BitBytes(s,d,m);break;case Ve.KANJI:Qt.appendKanjiBytes(s,d);break;default:throw new Dt("Invalid mode: "+c)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const c=Qt.getDigit(s);return c>=0&&c<=9}static appendNumericBytes(s,c){const d=s.length;let m=0;for(;m<d;){const g=Qt.getDigit(s.charAt(m));if(m+2<d){const b=Qt.getDigit(s.charAt(m+1)),_=Qt.getDigit(s.charAt(m+2));c.appendBits(g*100+b*10+_,10),m+=3}else if(m+1<d){const b=Qt.getDigit(s.charAt(m+1));c.appendBits(g*10+b,7),m+=2}else c.appendBits(g,4),m++}}static appendAlphanumericBytes(s,c){const d=s.length;let m=0;for(;m<d;){const g=Qt.getAlphanumericCode(s.charCodeAt(m));if(g===-1)throw new Dt;if(m+1<d){const b=Qt.getAlphanumericCode(s.charCodeAt(m+1));if(b===-1)throw new Dt;c.appendBits(g*45+b,11),m+=2}else c.appendBits(g,6),m++}}static append8BitBytes(s,c,d){let m;try{m=Ae.encode(s,d)}catch(g){throw new Dt(g)}for(let g=0,b=m.length;g!==b;g++){const _=m[g];c.appendBits(_,8)}}static appendKanjiBytes(s,c){let d;try{d=Ae.encode(s,q.SJIS)}catch(g){throw new Dt(g)}const m=d.length;for(let g=0;g<m;g+=2){const b=d[g]&255,_=d[g+1]&255,S=b<<8&4294967295|_;let E=-1;if(S>=33088&&S<=40956?E=S-33088:S>=57408&&S<=60351&&(E=S-49472),E===-1)throw new Dt("Invalid byte sequence");const D=(E>>8)*192+(E&255);c.appendBits(D,13)}}static appendECI(s,c){c.appendBits(Ve.ECI.getBits(),4),c.appendBits(s.getValue(),8)}}Qt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Ws{write(s,c,d,m=null){if(s.length===0)throw new A("Found empty contents");if(c<0||d<0)throw new A("Requested dimensions are too small: "+c+"x"+d);let g=lt.L,b=Ws.QUIET_ZONE_SIZE;m!==null&&(m.get(_n.ERROR_CORRECTION)!==void 0&&(g=lt.fromString(m.get(_n.ERROR_CORRECTION).toString())),m.get(_n.MARGIN)!==void 0&&(b=Number.parseInt(m.get(_n.MARGIN).toString(),10)));const _=Qt.encode(s,g,m);return this.renderResult(_,c,d,b)}writeToDom(s,c,d,m,g=null){typeof s=="string"&&(s=document.querySelector(s));const b=this.write(c,d,m,g);s&&s.appendChild(b)}renderResult(s,c,d,m){const g=s.getMatrix();if(g===null)throw new ua;const b=g.getWidth(),_=g.getHeight(),S=b+m*2,E=_+m*2,D=Math.max(c,S),L=Math.max(d,E),P=Math.min(Math.floor(D/S),Math.floor(L/E)),V=Math.floor((D-b*P)/2),X=Math.floor((L-_*P)/2),Z=this.createSVGElement(D,L);for(let ae=0,ue=X;ae<_;ae++,ue+=P)for(let Ce=0,ve=V;Ce<b;Ce++,ve+=P)if(g.get(Ce,ae)===1){const _e=this.createSvgRectElement(ve,ue,P,P);Z.appendChild(_e)}return Z}createSVGElement(s,c){const d=document.createElementNS(Ws.SVG_NS,"svg");return d.setAttributeNS(null,"height",s.toString()),d.setAttributeNS(null,"width",c.toString()),d}createSvgRectElement(s,c,d,m){const g=document.createElementNS(Ws.SVG_NS,"rect");return g.setAttributeNS(null,"x",s.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",d.toString()),g.setAttributeNS(null,"width",m.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Ws.QUIET_ZONE_SIZE=4,Ws.SVG_NS="http://www.w3.org/2000/svg";class Ri{encode(s,c,d,m,g){if(s.length===0)throw new A("Found empty contents");if(c!==Ne.QR_CODE)throw new A("Can only encode QR_CODE, but got "+c);if(d<0||m<0)throw new A(`Requested dimensions are too small: ${d}x${m}`);let b=lt.L,_=Ri.QUIET_ZONE_SIZE;g!==null&&(g.get(_n.ERROR_CORRECTION)!==void 0&&(b=lt.fromString(g.get(_n.ERROR_CORRECTION).toString())),g.get(_n.MARGIN)!==void 0&&(_=Number.parseInt(g.get(_n.MARGIN).toString(),10)));const S=Qt.encode(s,b,g);return Ri.renderResult(S,d,m,_)}static renderResult(s,c,d,m){const g=s.getMatrix();if(g===null)throw new ua;const b=g.getWidth(),_=g.getHeight(),S=b+m*2,E=_+m*2,D=Math.max(c,S),L=Math.max(d,E),P=Math.min(Math.floor(D/S),Math.floor(L/E)),V=Math.floor((D-b*P)/2),X=Math.floor((L-_*P)/2),Z=new et(D,L);for(let ae=0,ue=X;ae<_;ae++,ue+=P)for(let Ce=0,ve=V;Ce<b;Ce++,ve+=P)g.get(Ce,ae)===1&&Z.setRegion(ve,ue,P,P);return Z}}Ri.QUIET_ZONE_SIZE=4;class Sh{encode(s,c,d,m,g){let b;if(c===Ne.QR_CODE)b=new Ri;else throw new A("No encoder available for format "+c);return b.encode(s,c,d,m,g)}}class Wa extends Le{constructor(s,c,d,m,g,b,_,S){if(super(b,_),this.yuvData=s,this.dataWidth=c,this.dataHeight=d,this.left=m,this.top=g,m+b>c||g+_>d)throw new A("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(b,_)}getRow(s,c){if(s<0||s>=this.getHeight())throw new A("Requested row is outside the image: "+s);const d=this.getWidth();(c==null||c.length<d)&&(c=new Uint8ClampedArray(d));const m=(s+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,m,c,0,d),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.yuvData;const d=s*c,m=new Uint8ClampedArray(d);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return k.arraycopy(this.yuvData,g,m,0,d),m;for(let b=0;b<c;b++){const _=b*s;k.arraycopy(this.yuvData,g,m,_,s),g+=this.dataWidth}return m}isCropSupported(){return!0}crop(s,c,d,m){return new Wa(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+c,d,m,!1)}renderThumbnail(){const s=this.getWidth()/Wa.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/Wa.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(s*c),m=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let b=0;b<c;b++){const _=b*s;for(let S=0;S<s;S++){const E=m[g+S*Wa.THUMBNAIL_SCALE_FACTOR]&255;d[_+S]=4278190080|E*65793}g+=this.dataWidth*Wa.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Wa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,c){const d=this.yuvData;for(let m=0,g=this.top*this.dataWidth+this.left;m<c;m++,g+=this.dataWidth){const b=g+s/2;for(let _=g,S=g+s-1;_<b;_++,S--){const E=d[_];d[_]=d[S],d[S]=E}}}invert(){return new Ge(this)}}Wa.THUMBNAIL_SCALE_FACTOR=2;class No extends Le{constructor(s,c,d,m,g,b,_){if(super(c,d),this.dataWidth=m,this.dataHeight=g,this.left=b,this.top=_,s.BYTES_PER_ELEMENT===4){const S=c*d,E=new Uint8ClampedArray(S);for(let D=0;D<S;D++){const L=s[D],P=L>>16&255,V=L>>7&510,X=L&255;E[D]=(P+V+X)/4&255}this.luminances=E}else this.luminances=s;if(m===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=d),b===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+d>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(s,c){if(s<0||s>=this.getHeight())throw new A("Requested row is outside the image: "+s);const d=this.getWidth();(c==null||c.length<d)&&(c=new Uint8ClampedArray(d));const m=(s+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,m,c,0,d),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.luminances;const d=s*c,m=new Uint8ClampedArray(d);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return k.arraycopy(this.luminances,g,m,0,d),m;for(let b=0;b<c;b++){const _=b*s;k.arraycopy(this.luminances,g,m,_,s),g+=this.dataWidth}return m}isCropSupported(){return!0}crop(s,c,d,m){return new No(this.luminances,d,m,this.dataWidth,this.dataHeight,this.left+s,this.top+c)}invert(){return new Ge(this)}}class su extends q{static forName(s){return this.getCharacterSetECIByName(s)}}class Er{}Er.ISO_8859_1=q.ISO8859_1;class Li{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class iu{static singletonList(s){return[s]}static min(s,c){return s.sort(c)[0]}}class ru{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Xs extends ru{constructor(s,c,d){super(s),this.value=c,this.bitCount=d}appendTo(s,c){s.appendBits(this.value,this.bitCount)}add(s,c){return new Xs(this,s,c)}addBinaryShift(s,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Xs(this,s,c)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+G.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class gl extends Xs{constructor(s,c,d){super(s,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=d}appendTo(s,c){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):d===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(c[this.binaryShiftStart+d],8)}addBinaryShift(s,c){return new gl(this,s,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function lu(R,s,c){return new gl(R,s,c)}function Bi(R,s,c){return new Xs(R,s,c)}const Pi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Es=0,xl=1,ma=2,Ao=3,ja=4,Tr=new Xs(null,0,0),qs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ch(R){for(let s of R)H.fill(s,-1);return R[Es][ja]=0,R[xl][ja]=0,R[xl][Es]=28,R[Ao][ja]=0,R[ma][ja]=0,R[ma][Es]=15,R}const jr=Ch(H.createInt32Array(6,6));class Ma{constructor(s,c,d,m){this.token=s,this.mode=c,this.binaryShiftByteCount=d,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,c){let d=this.bitCount,m=this.token;if(s!==this.mode){let b=qs[this.mode][s];m=Bi(m,b&65535,b>>16),d+=b>>16}let g=s===ma?4:5;return m=Bi(m,c,g),new Ma(m,s,0,d+g)}shiftAndAppend(s,c){let d=this.token,m=this.mode===ma?4:5;return d=Bi(d,jr[this.mode][s],m),d=Bi(d,c,5),new Ma(d,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(s){let c=this.token,d=this.mode,m=this.bitCount;if(this.mode===ja||this.mode===ma){let _=qs[d][Es];c=Bi(c,_&65535,_>>16),m+=_>>16,d=Es}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new Ma(c,d,this.binaryShiftByteCount+1,m+g);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(s+1)),b}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=lu(c,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ma(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let c=this.bitCount+(qs[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?c+=Ma.calculateBinaryShiftCost(s)-Ma.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(c+=10),c<=s.bitCount}toBitArray(s){let c=[];for(let m=this.endBinaryShift(s.length).token;m!==null;m=m.getPrevious())c.unshift(m);let d=new K;for(const m of c)m.appendTo(d,s);return d}toString(){return me.format("%s bits=%d bytes=%d",Pi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ma.INITIAL_STATE=new Ma(Tr,Es,0,0);function ou(R){const s=me.getCharCode(" "),c=me.getCharCode("."),d=me.getCharCode(",");R[Es][s]=1;const m=me.getCharCode("Z"),g=me.getCharCode("A");for(let P=g;P<=m;P++)R[Es][P]=P-g+2;R[xl][s]=1;const b=me.getCharCode("z"),_=me.getCharCode("a");for(let P=_;P<=b;P++)R[xl][P]=P-_+2;R[ma][s]=1;const S=me.getCharCode("9"),E=me.getCharCode("0");for(let P=E;P<=S;P++)R[ma][P]=P-E+2;R[ma][d]=12,R[ma][c]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<D.length;P++)R[Ao][me.getCharCode(D[P])]=P;const L=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<L.length;P++)me.getCharCode(L[P])>0&&(R[ja][me.getCharCode(L[P])]=P);return R}const Mr=ou(H.createInt32Array(5,256));class Ks{constructor(s){this.text=s}encode(){const s=me.getCharCode(" "),c=me.getCharCode(`
`);let d=iu.singletonList(Ma.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let b,_=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case me.getCharCode("\r"):b=_===c?2:0;break;case me.getCharCode("."):b=_===s?3:0;break;case me.getCharCode(","):b=_===s?4:0;break;case me.getCharCode(":"):b=_===s?5:0;break;default:b=0}b>0?(d=Ks.updateStateListForPair(d,g,b),g++):d=this.updateStateListForChar(d,g)}return iu.min(d,(g,b)=>g.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,c){const d=[];for(let m of s)this.updateStateForChar(m,c,d);return Ks.simplifyStates(d)}updateStateForChar(s,c,d){let m=this.text[c]&255,g=Mr[s.getMode()][m]>0,b=null;for(let _=0;_<=ja;_++){let S=Mr[_][m];if(S>0){if(b==null&&(b=s.endBinaryShift(c)),!g||_===s.getMode()||_===ma){const E=b.latchAndAppend(_,S);d.push(E)}if(!g&&jr[s.getMode()][_]>=0){const E=b.shiftAndAppend(_,S);d.push(E)}}}if(s.getBinaryShiftByteCount()>0||Mr[s.getMode()][m]===0){let _=s.addBinaryShiftChar(c);d.push(_)}}static updateStateListForPair(s,c,d){const m=[];for(let g of s)this.updateStateForPair(g,c,d,m);return this.simplifyStates(m)}static updateStateForPair(s,c,d,m){let g=s.endBinaryShift(c);if(m.push(g.latchAndAppend(ja,d)),s.getMode()!==ja&&m.push(g.shiftAndAppend(ja,d)),d===3||d===4){let b=g.latchAndAppend(ma,16-d).latchAndAppend(ma,1);m.push(b)}if(s.getBinaryShiftByteCount()>0){let b=s.addBinaryShiftChar(c).addBinaryShiftChar(c+1);m.push(b)}}static simplifyStates(s){let c=[];for(const d of s){let m=!0;for(const g of c){if(g.isBetterThanOrEqualTo(d)){m=!1;break}d.isBetterThanOrEqualTo(g)&&(c=c.filter(b=>b!==g))}m&&c.push(d)}return c}}class ft{constructor(){}static encodeBytes(s){return ft.encode(s,ft.DEFAULT_EC_PERCENT,ft.DEFAULT_AZTEC_LAYERS)}static encode(s,c,d){let m=new Ks(s).encode(),g=G.truncDivision(m.getSize()*c,100)+11,b=m.getSize()+g,_,S,E,D,L;if(d!==ft.DEFAULT_AZTEC_LAYERS){if(_=d<0,S=Math.abs(d),S>(_?ft.MAX_NB_BITS_COMPACT:ft.MAX_NB_BITS))throw new A(me.format("Illegal value %s for layers",d));E=ft.totalBitsInLayer(S,_),D=ft.WORD_SIZE[S];let _e=E-E%D;if(L=ft.stuffBits(m,D),L.getSize()+g>_e)throw new A("Data to large for user specified layer");if(_&&L.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,L=null;for(let _e=0;;_e++){if(_e>ft.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(_=_e<=3,S=_?_e+1:_e,E=ft.totalBitsInLayer(S,_),b>E)continue;(L==null||D!==ft.WORD_SIZE[S])&&(D=ft.WORD_SIZE[S],L=ft.stuffBits(m,D));let it=E-E%D;if(!(_&&L.getSize()>D*64)&&L.getSize()+g<=it)break}}let P=ft.generateCheckWords(L,E,D),V=L.getSize()/D,X=ft.generateModeMessage(_,S,V),Z=(_?11:14)+S*4,ae=new Int32Array(Z),ue;if(_){ue=Z;for(let _e=0;_e<ae.length;_e++)ae[_e]=_e}else{ue=Z+1+2*G.truncDivision(G.truncDivision(Z,2)-1,15);let _e=G.truncDivision(Z,2),it=G.truncDivision(ue,2);for(let Qe=0;Qe<_e;Qe++){let gn=Qe+G.truncDivision(Qe,15);ae[_e-Qe-1]=it-gn-1,ae[_e+Qe]=it+gn+1}}let Ce=new et(ue);for(let _e=0,it=0;_e<S;_e++){let Qe=(S-_e)*4+(_?9:12);for(let gn=0;gn<Qe;gn++){let ga=gn*2;for(let Wn=0;Wn<2;Wn++)P.get(it+ga+Wn)&&Ce.set(ae[_e*2+Wn],ae[_e*2+gn]),P.get(it+Qe*2+ga+Wn)&&Ce.set(ae[_e*2+gn],ae[Z-1-_e*2-Wn]),P.get(it+Qe*4+ga+Wn)&&Ce.set(ae[Z-1-_e*2-Wn],ae[Z-1-_e*2-gn]),P.get(it+Qe*6+ga+Wn)&&Ce.set(ae[Z-1-_e*2-gn],ae[_e*2+Wn])}it+=Qe*8}if(ft.drawModeMessage(Ce,_,ue,X),_)ft.drawBullsEye(Ce,G.truncDivision(ue,2),5);else{ft.drawBullsEye(Ce,G.truncDivision(ue,2),7);for(let _e=0,it=0;_e<G.truncDivision(Z,2)-1;_e+=15,it+=16)for(let Qe=G.truncDivision(ue,2)&1;Qe<ue;Qe+=2)Ce.set(G.truncDivision(ue,2)-it,Qe),Ce.set(G.truncDivision(ue,2)+it,Qe),Ce.set(Qe,G.truncDivision(ue,2)-it),Ce.set(Qe,G.truncDivision(ue,2)+it)}let ve=new Li;return ve.setCompact(_),ve.setSize(ue),ve.setLayers(S),ve.setCodeWords(V),ve.setMatrix(Ce),ve}static drawBullsEye(s,c,d){for(let m=0;m<d;m+=2)for(let g=c-m;g<=c+m;g++)s.set(g,c-m),s.set(g,c+m),s.set(c-m,g),s.set(c+m,g);s.set(c-d,c-d),s.set(c-d+1,c-d),s.set(c-d,c-d+1),s.set(c+d,c-d),s.set(c+d,c-d+1),s.set(c+d,c+d-1)}static generateModeMessage(s,c,d){let m=new K;return s?(m.appendBits(c-1,2),m.appendBits(d-1,6),m=ft.generateCheckWords(m,28,4)):(m.appendBits(c-1,5),m.appendBits(d-1,11),m=ft.generateCheckWords(m,40,4)),m}static drawModeMessage(s,c,d,m){let g=G.truncDivision(d,2);if(c)for(let b=0;b<7;b++){let _=g-3+b;m.get(b)&&s.set(_,g-5),m.get(b+7)&&s.set(g+5,_),m.get(20-b)&&s.set(_,g+5),m.get(27-b)&&s.set(g-5,_)}else for(let b=0;b<10;b++){let _=g-5+b+G.truncDivision(b,5);m.get(b)&&s.set(_,g-7),m.get(b+10)&&s.set(g+7,_),m.get(29-b)&&s.set(_,g+7),m.get(39-b)&&s.set(g-7,_)}}static generateCheckWords(s,c,d){let m=s.getSize()/d,g=new Cr(ft.getGF(d)),b=G.truncDivision(c,d),_=ft.bitsToWords(s,d,b);g.encode(_,b-m);let S=c%d,E=new K;E.appendBits(0,S);for(const D of Array.from(_))E.appendBits(D,d);return E}static bitsToWords(s,c,d){let m=new Int32Array(d),g,b;for(g=0,b=s.getSize()/c;g<b;g++){let _=0;for(let S=0;S<c;S++)_|=s.get(g*c+S)?1<<c-S-1:0;m[g]=_}return m}static getGF(s){switch(s){case 4:return _t.AZTEC_PARAM;case 6:return _t.AZTEC_DATA_6;case 8:return _t.AZTEC_DATA_8;case 10:return _t.AZTEC_DATA_10;case 12:return _t.AZTEC_DATA_12;default:throw new A("Unsupported word size "+s)}}static stuffBits(s,c){let d=new K,m=s.getSize(),g=(1<<c)-2;for(let b=0;b<m;b+=c){let _=0;for(let S=0;S<c;S++)(b+S>=m||s.get(b+S))&&(_|=1<<c-1-S);(_&g)===g?(d.appendBits(_&g,c),b--):(_&g)===0?(d.appendBits(_|1,c),b--):d.appendBits(_,c)}return d}static totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}ft.DEFAULT_EC_PERCENT=33,ft.DEFAULT_AZTEC_LAYERS=0,ft.MAX_NB_BITS=32,ft.MAX_NB_BITS_COMPACT=4,ft.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Dr{encode(s,c,d,m){return this.encodeWithHints(s,c,d,m,null)}encodeWithHints(s,c,d,m,g){let b=Er.ISO_8859_1,_=ft.DEFAULT_EC_PERCENT,S=ft.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(_n.CHARACTER_SET)&&(b=su.forName(g.get(_n.CHARACTER_SET).toString())),g.has(_n.ERROR_CORRECTION)&&(_=G.parseInt(g.get(_n.ERROR_CORRECTION).toString())),g.has(_n.AZTEC_LAYERS)&&(S=G.parseInt(g.get(_n.AZTEC_LAYERS).toString()))),Dr.encodeLayers(s,c,d,m,b,_,S)}static encodeLayers(s,c,d,m,g,b,_){if(c!==Ne.AZTEC)throw new A("Can only encode AZTEC, but got "+c);let S=ft.encode(me.getBytes(s,g),b,_);return Dr.renderResult(S,d,m)}static renderResult(s,c,d){let m=s.getMatrix();if(m==null)throw new ua;let g=m.getWidth(),b=m.getHeight(),_=Math.max(c,g),S=Math.max(d,b),E=Math.min(_/g,S/b),D=(_-g*E)/2,L=(S-b*E)/2,P=new et(_,S);for(let V=0,X=L;V<b;V++,X+=E)for(let Z=0,ae=D;Z<g;Z++,ae+=E)m.get(Z,V)&&P.setRegion(ae,X,E,E);return P}}n.AbstractExpandedDecoder=bn,n.ArgumentException=N,n.ArithmeticException=Ai,n.AztecCode=Li,n.AztecCodeReader=il,n.AztecCodeWriter=Dr,n.AztecDecoder=Ot,n.AztecDetector=fo,n.AztecDetectorResult=qc,n.AztecEncoder=ft,n.AztecHighLevelEncoder=Ks,n.AztecPoint=Yn,n.BarcodeFormat=Ne,n.Binarizer=M,n.BinaryBitmap=T,n.BitArray=K,n.BitMatrix=et,n.BitSource=Ea,n.BrowserAztecCodeReader=yh,n.BrowserBarcodeReader=bh,n.BrowserCodeReader=je,n.BrowserDatamatrixCodeReader=ol,n.BrowserMultiFormatReader=au,n.BrowserPDF417Reader=vh,n.BrowserQRCodeReader=Nh,n.BrowserQRCodeSvgWriter=Ws,n.CharacterSetECI=q,n.ChecksumException=j,n.Code128Reader=Ee,n.Code39Reader=Vt,n.DataMatrixDecodedBitStreamParser=os,n.DataMatrixReader=cs,n.DecodeHintType=te,n.DecoderResult=qt,n.DefaultGridSampler=ho,n.DetectorResult=sl,n.EAN13Reader=Ha,n.EncodeHintType=_n,n.Exception=y,n.FormatException=Y,n.GenericGF=_t,n.GenericGFPoly=In,n.GlobalHistogramBinarizer=se,n.GridSampler=uo,n.GridSamplerInstance=Aa,n.HTMLCanvasElementLuminanceSource=$e,n.HybridBinarizer=fe,n.ITFReader=nt,n.IllegalArgumentException=A,n.IllegalStateException=ua,n.InvertedLuminanceSource=Ge,n.LuminanceSource=Le,n.MathUtils=ot,n.MultiFormatOneDReader=Ca,n.MultiFormatReader=nu,n.MultiFormatWriter=Sh,n.NotFoundException=ie,n.OneDReader=$t,n.PDF417DecodedBitStreamParser=de,n.PDF417DecoderErrorCorrection=ds,n.PDF417Reader=Bn,n.PDF417ResultMetadata=Oi,n.PerspectiveTransform=da,n.PlanarYUVLuminanceSource=Wa,n.QRCodeByteMatrix=ml,n.QRCodeDataMask=ia,n.QRCodeDecodedBitStreamParser=Kt,n.QRCodeDecoderErrorCorrectionLevel=lt,n.QRCodeDecoderFormatInformation=Sn,n.QRCodeEncoder=Qt,n.QRCodeEncoderQRCode=Gs,n.QRCodeMaskUtil=ln,n.QRCodeMatrixUtil=Xe,n.QRCodeMode=Ve,n.QRCodeReader=us,n.QRCodeVersion=ze,n.QRCodeWriter=Ri,n.RGBLuminanceSource=No,n.RSS14Reader=Mt,n.RSSExpandedReader=be,n.ReaderException=fl,n.ReedSolomonDecoder=Vs,n.ReedSolomonEncoder=Cr,n.ReedSolomonException=ca,n.Result=Me,n.ResultMetadataType=wt,n.ResultPoint=Be,n.StringUtils=me,n.UnsupportedOperationException=we,n.VideoInputDevice=Q,n.WhiteRectangleDetector=un,n.WriterException=Dt,n.ZXingArrays=H,n.ZXingCharset=su,n.ZXingInteger=G,n.ZXingStandardCharsets=Er,n.ZXingStringBuilder=Re,n.ZXingStringEncoding=Ae,n.ZXingSystem=k,n.createAbstractExpandedDecoder=Ei,Object.defineProperty(n,"__esModule",{value:!0})}))})(wc,wc.exports)),wc.exports}var dn=PT();const zT=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var H2=(function(){function t(e,n,i){if(this.formatMap=new Map([[Oe.QR_CODE,dn.BarcodeFormat.QR_CODE],[Oe.AZTEC,dn.BarcodeFormat.AZTEC],[Oe.CODABAR,dn.BarcodeFormat.CODABAR],[Oe.CODE_39,dn.BarcodeFormat.CODE_39],[Oe.CODE_93,dn.BarcodeFormat.CODE_93],[Oe.CODE_128,dn.BarcodeFormat.CODE_128],[Oe.DATA_MATRIX,dn.BarcodeFormat.DATA_MATRIX],[Oe.MAXICODE,dn.BarcodeFormat.MAXICODE],[Oe.ITF,dn.BarcodeFormat.ITF],[Oe.EAN_13,dn.BarcodeFormat.EAN_13],[Oe.EAN_8,dn.BarcodeFormat.EAN_8],[Oe.PDF_417,dn.BarcodeFormat.PDF_417],[Oe.RSS_14,dn.BarcodeFormat.RSS_14],[Oe.RSS_EXPANDED,dn.BarcodeFormat.RSS_EXPANDED],[Oe.UPC_A,dn.BarcodeFormat.UPC_A],[Oe.UPC_E,dn.BarcodeFormat.UPC_E],[Oe.UPC_EAN_EXTENSION,dn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!zT)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var o=this.createZXingFormats(e),u=new Map;u.set(dn.DecodeHintType.POSSIBLE_FORMATS,o),u.set(dn.DecodeHintType.TRY_HARDER,!1),this.hints=u}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(i,o){try{i(n.decode(e))}catch(u){o(u)}})},t.prototype.decode=function(e){var n=new dn.MultiFormatReader(this.verbose,this.hints),i=new dn.HTMLCanvasElementLuminanceSource(e),o=new dn.BinaryBitmap(new dn.HybridBinarizer(i)),u=n.decode(o);return{text:u.text,format:$b.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,o){e.set(n,i)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var u=o[i];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),FT=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},UT=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},V2=(function(){function t(e,n,i){if(this.formatMap=new Map([[Oe.QR_CODE,"qr_code"],[Oe.AZTEC,"aztec"],[Oe.CODABAR,"codabar"],[Oe.CODE_39,"code_39"],[Oe.CODE_93,"code_93"],[Oe.CODE_128,"code_128"],[Oe.DATA_MATRIX,"data_matrix"],[Oe.ITF,"itf"],[Oe.EAN_13,"ean_13"],[Oe.EAN_8,"ean_8"],[Oe.PDF_417,"pdf417"],[Oe.UPC_A,"upc_a"],[Oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var o=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return FT(this,void 0,void 0,function(){var n,i;return UT(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:$b.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,i=0,o=0,u=e;o<u.length;o++){var f=u[o],p=f.boundingBox.width*f.boundingBox.height;p>i&&(i=p,n=f)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var u=o[i];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,i,o){e.set(n,i)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),Y2=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},G2=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},HT=(function(){function t(e,n,i,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&V2.isSupported()?(this.primaryDecoder=new V2(e,i,o),this.secondaryDecoder=new H2(e,i,o)):this.primaryDecoder=new H2(e,i,o)}return t.prototype.decodeAsync=function(e){return Y2(this,void 0,void 0,function(){var n;return G2(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Y2(this,void 0,void 0,function(){var n,i;return G2(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,o.sent()];case 3:if(i=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,i=this.executionResults;n<i.length;n++){var o=i[n];e+=o}var u=e/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),Gm=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Kd=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},Zd=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},aw=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),VT=(function(t){Gm(e,t);function e(n,i){return t.call(this,n,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var i={};i[this.name]=n;var o={advanced:[i]};return this.track.applyConstraints(o)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(aw),YT=(function(t){Gm(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(VT),GT=(function(t){Gm(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(aw),WT=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new YT(this.track)},t.prototype.torchFeature=function(){return new GT(this.track)},t})(),XT=(function(){function t(e,n,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=e.surface.clientWidth,o=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,o),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,i,o){return Kd(this,void 0,void 0,function(){var u,f;return Zd(this,function(p){switch(p.label){case 0:return u=new t(e,n,o),i.aspectRatio?(f={aspectRatio:i.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:p.sent(),p.label=2;case 2:return u.setupSurface(),[2,u]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,i=function(){setTimeout(e,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Kd(this,void 0,void 0,function(){return Zd(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,i){var o=e.mediaStream.getVideoTracks(),u=o.length,f=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++f,f>=u&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new WT(this.getFirstTrackOrFail())},t})(),qT=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,i){return Kd(this,void 0,void 0,function(){return Zd(this,function(o){return[2,XT.create(e,this.mediaStream,n,i)]})})},t.create=function(e){return Kd(this,void 0,void 0,function(){var n,i;return Zd(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=o.sent(),[2,new t(i)]}})})},t})(),W2=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},X2=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},KT=(function(){function t(){}return t.failIfNotSupported=function(){return W2(this,void 0,void 0,function(){return X2(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return W2(this,void 0,void 0,function(){return X2(this,function(n){return[2,qT.create(e)]})})},t})(),ZT=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},QT=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},JT=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Zl.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Zl.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return ZT(this,void 0,void 0,function(){var e,n,i,o,u,f,p;return QT(this,function(w){switch(w.label){case 0:return e=function(y){for(var N=y.getVideoTracks(),A=0,T=N;A<T.length;A++){var j=T[A];j.enabled=!1,j.stop(),y.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=w.sent(),o=[],u=0,f=i;u<f.length;u++)p=f[u],p.kind==="videoinput"&&o.push({id:p.deviceId,label:p.label});return e(n),[2,o]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var i=function(u){for(var f=[],p=0,w=u;p<w.length;p++){var y=w[p];y.kind==="video"&&f.push({id:y.id,label:y.label})}e(f)},o=MediaStreamTrack;o.getSources(i)})},t})(),yn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(yn||(yn={}));var $T=(function(){function t(){this.state=yn.NOT_STARTED,this.onGoingTransactionNewState=yn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===yn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=yn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===yn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=yn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==yn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case yn.UNKNOWN:throw"Transition from unknown is not allowed";case yn.NOT_STARTED:this.failIfNewStateIs(e,[yn.PAUSED]);break;case yn.SCANNING:break;case yn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];if(e===u)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),e8=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===yn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==yn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===yn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===yn.PAUSED},t})(),t8=(function(){function t(){}return t.create=function(){return new e8(new $T)},t})(),n8=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),Ba=(function(t){n8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(ps),a8=(function(){function t(e,n){this.logger=n,this.fps=Ba.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ba.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?nw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Bs(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),q2=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new tw(this.verbose),this.qrcode=new HT(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=t8.create()}return t.prototype.start=function(e,n,i,o){var u=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;o?f=o:f=this.verbose?this.logger.log:function(){};var p=a8.create(n,this.logger);this.clearElement();var w=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=w,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:Ba.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var A=this,T=this.stateManagerProxy.startTransition(yn.SCANNING);return new Promise(function(j,M){var k=y?p.videoConstraints:A.createVideoConstraints(e);if(!k){T.cancel(),M("videoConstraints should be defined");return}var B={};(!y||p.aspectRatio)&&(B.aspectRatio=p.aspectRatio);var F={onRenderSurfaceReady:function(H,G){A.setupUi(H,G,p),A.isScanning=!0,A.foreverScan(p,i,f)}};KT.failIfNotSupported().then(function(H){H.create(k).then(function(G){return G.render(u.element,B,F).then(function(K){A.renderedCamera=K,T.execute(),j(null)}).catch(function(K){T.cancel(),M(K)})}).catch(function(G){T.cancel(),M(Zl.errorGettingUserMedia(G))})}).catch(function(H){T.cancel(),M(Zl.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(yn.PAUSED),this.showPausedState(),(Bs(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(yn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(yn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var u=document.getElementById(Ba.SHADED_REGION_ELEMENT_ID);u&&e.element.removeChild(u)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),i(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(i){return i.decodedText})},t.prototype.scanFileV2=function(e,n){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Bs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,u){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var p=f.width,w=f.height,y=document.getElementById(i.elementId),N=y.clientWidth?y.clientWidth:Ba.DEFAULT_WIDTH,A=Math.max(y.clientHeight?y.clientHeight:w,Ba.FILE_SCAN_MIN_HEIGHT),T=i.computeCanvasDrawConfig(p,w,N,A);if(n){var j=i.createCanvasElement(N,A,"qr-canvas-visible");j.style.display="inline-block",y.appendChild(j);var M=j.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=N,M.canvas.height=A,M.drawImage(f,0,0,p,w,T.x,T.y,T.width,T.height)}var k=Ba.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(f.width,T.width),F=Math.max(f.height,T.height),H=B+2*k,G=F+2*k,K=i.createCanvasElement(H,G);y.appendChild(K);var $=K.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=H,$.canvas.height=G,$.drawImage(f,0,0,p,w,k,k,B,F);try{i.qrcode.decodeRobustlyAsync(K).then(function(te){o(z2.createFromQrcodeResult(te))}).catch(u)}catch(te){u("QR code parse error, error = ".concat(te))}},f.onerror=u,f.onabort=u,f.onstalled=u,f.onsuspend=u,f.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return JT.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!nw.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Oe.QR_CODE,Oe.AZTEC,Oe.CODABAR,Oe.CODE_39,Oe.CODE_93,Oe.CODE_128,Oe.DATA_MATRIX,Oe.MAXICODE,Oe.ITF,Oe.EAN_13,Oe.EAN_8,Oe.PDF_417,Oe.RSS_14,Oe.RSS_EXPANDED,Oe.UPC_A,Oe.UPC_E,Oe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],o=0,u=e.formatsToSupport;o<u.length;o++){var f=u[o];RT(f)?i.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Bs(e))return!0;if(!Bs(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Bs(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Bs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,i){var o=this,u=i.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(e,n,u),p=function(y){if(y<Ba.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ba.MIN_QR_BOX_SIZE,"px.")},w=function(y){return y>e&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};p(f.width),p(f.height),f.width=w(f.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return i},t.prototype.setupUi=function(e,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,i);var o=Bs(i.qrbox)?{width:e,height:n}:i.qrbox;this.validateQrboxConfig(o);var u=this.toQrdimensions(e,n,o);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=i.isShadedBoxEnabled()&&u.height<=n,p={x:0,y:0,width:e,height:n},w=f?this.getShadedRegionBounds(e,n,u):p,y=this.createCanvasElement(w.width,w.height),N={willReadFrequently:!0},A=y.getContext("2d",N);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(y),f&&this.possiblyInsertShadingElement(this.element,e,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=y},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Zl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return e(o.text,z2.createFromQrcodeResult(o)),i.possiblyUpdateShaders(!0),!0}).catch(function(o){i.possiblyUpdateShaders(!1);var u=Zl.codeParseError(o);return n(u,ew.createFrom(u)),!1})},t.prototype.foreverScan=function(e,n,i){var o=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),f=u.videoWidth/u.clientWidth,p=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*f,y=this.qrRegion.height*p,N=this.qrRegion.x*f,A=this.qrRegion.y*p;this.context.drawImage(u,N,A,w,y,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(e,n,i)},o.getTimeoutFps(e.fps))};this.scanContext(n,i).then(function(j){!j&&e.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,i).finally(function(){T()})):T()}).catch(function(j){o.logger.logError("Error happend while scanning context",j),T()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",i="deviceId",o={user:!0,environment:!0},u="exact",f=function(M){if(M in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var w=Object.keys(e)[0];if(w!==n&&w!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(w===n){var y=e.facingMode;if(typeof y=="string"){if(f(y))return{facingMode:y}}else if(typeof y=="object")if(u in y){if(f(y["".concat(u)]))return{facingMode:{exact:y["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var N=typeof y;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(u in A)return{deviceId:{exact:A["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var T=typeof A;throw"Invalid type of 'deviceId' = ".concat(T)}}}var j=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},t.prototype.computeCanvasDrawConfig=function(e,n,i,o){if(e<=i&&n<=o){var u=(i-e)/2,f=(o-n)/2;return{x:u,y:f,width:e,height:n}}else{var p=e,w=n;return e>i&&(n=i/e*n,e=i),n>o&&(e=o/n*e,n=o),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(w)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,i,o)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Ba.BORDER_SHADER_MATCH_COLOR:Ba.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,i){var o=e,u=n,f=document.createElement("canvas");return f.style.width="".concat(o,"px"),f.style.height="".concat(u,"px"),f.style.display="none",f.id=Bs(i)?"qr-canvas":i,f},t.prototype.getShadedRegionBounds=function(e,n,i){if(i.width>e||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},t.prototype.possiblyInsertShadingElement=function(e,n,i,o){if(!(n-o.width<1||i-o.height<1)){var u=document.createElement("div");u.style.position="absolute";var f=(n-o.width)/2,p=(i-o.height)/2;if(u.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(Ba.SHADED_REGION_ELEMENT_ID),n-o.width<11||i-o.height<11)this.hasBorderShaders=!1;else{var w=5,y=40;this.insertShaderBorders(u,y,w,-w,null,0,!0),this.insertShaderBorders(u,y,w,-w,null,0,!1),this.insertShaderBorders(u,y,w,null,-w,0,!0),this.insertShaderBorders(u,y,w,null,-w,0,!1),this.insertShaderBorders(u,w,y+w,-w,null,-w,!0),this.insertShaderBorders(u,w,y+w,null,-w,-w,!0),this.insertShaderBorders(u,w,y+w,-w,null,-w,!1),this.insertShaderBorders(u,w,y+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(u)}},t.prototype.insertShaderBorders=function(e,n,i,o,u,f,p){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Ba.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(n,"px"),w.style.height="".concat(i,"px"),o!==null&&(w.style.top="".concat(o,"px")),u!==null&&(w.style.bottom="".concat(u,"px")),p?w.style.left="".concat(f,"px"):w.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),Wm="data:image/svg+xml;base64,",s8=Wm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",i8=Wm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",K2=Wm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",r8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Z2=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),l8=(function(){function t(){this.data=Z2.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Z2.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),o8=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=F2.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(o);var u=document.createElement("a");u.innerText=F2.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),c8=(function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=K2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=r8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=K2,this.infoIcon.style.opacity="0.6")},t})(),u8=(function(){function t(){var e=this;this.infoDiv=new o8,this.infoIcon=new c8(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),d8=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},h8=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Q2=(function(){function t(){}return t.hasPermissions=function(){return d8(this,void 0,void 0,function(){var e,n,i,o;return h8(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=u.sent(),n=0,i=e;n<i.length;n++)if(o=i[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},t})(),cr=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var i=n[e];if(t.isCameraScanType(i))return!0}return!1},t.isCameraScanType=function(e){return e===yr.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===yr.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ps.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ps.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,o=e;i<o.length;i++){var u=o[i];if(!ps.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return e},t})(),Fa=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),bi=(function(){function t(){}return t.createElement=function(e,n){var i=document.createElement(e);return i.id=n,i.classList.add(Fa.ALL_ELEMENT_CLASS),e==="button"&&i.setAttribute("type","button"),i},t})(),sw=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function p(N){try{y(i.next(N))}catch(A){f(A)}}function w(N){try{y(i.throw(N))}catch(A){f(A)}}function y(N){N.done?u(N.value):o(N.value).then(p,w)}y((i=i.apply(t,e||[])).next())})},iw=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(N){return w([y,N])}}function w(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(n=0)),n;)try{if(i=1,o&&(u=y[0]&2?o.return:y[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,y[1])).done)return u;switch(o=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,o=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){n.label=y[1];break}if(y[0]===6&&n.label<u[1]){n.label=u[1],u=y;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(y);break}u[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(t,n)}catch(N){y=[6,N],o=0}finally{i=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},J2=(function(){function t(e,n,i){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=i}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return sw(this,void 0,void 0,function(){var e,n;return iw(this,function(i){switch(i.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=i.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?zt.torchOffButton():zt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var i=e?zt.torchOnFailedMessage():zt.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),f8=(function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=bi.createElement("button",Fa.TORCH_BUTTON_ID),this.torchController=new J2(e,this,n)}return t.prototype.render=function(e,n){var i=this;this.torchButton.innerText=zt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(u){return sw(i,void 0,void 0,function(){return iw(this,function(f){switch(f.label){case 0:return[4,o.torchController.flipState()];case 1:return f.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(Fa.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(Fa.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(Fa.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(Fa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new J2(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=zt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,i,o){var u=new t(n,o);return u.render(e,i),u},t})(),m8=(function(){function t(e,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=bi.createElement("button",Fa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=bi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var w=p.target;if(!(w.files&&w.files.length===0)){var y=w.files,N=y[0],A=N.name;u.setImageNameToButton(A),i(N)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(p){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var w=p.dataTransfer;if(w){var y=w.files;if(!y||y.length===0)return;for(var N=!1,A=0;A<y.length;++A){var T=y.item(A);if(T){var j=/image.*/;if(T.type.match(j)){N=!0;var M=T.name;u.setImageNameToButton(M),i(T),f.innerText=zt.dragAndDropMessage();break}}}N||(f.innerText=zt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=zt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var i=e.substring(0,8),o=e.length,u=e.substring(o-8,o);e="".concat(i,"....").concat(u)}var f=zt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=f},t.prototype.setInitialValueToButton=function(){var e=zt.fileSelectionChooseImage()+" - "+zt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,i){var o=new t(e,n,i);return o},t})(),g8=(function(){function t(e){this.selectElement=bi.createElement("select",Fa.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var o=zt.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var u=1,f=0,p=this.cameras;f<p.length;f++){var w=p[f],y=w.id,N=w.label==null?y:w.label;(!N||N==="")&&(N=[zt.anonymousCameraPrefix(),u++].join(" "));var A=document.createElement("option");A.value=y,A.innerText=N,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,i=this.options;n<i.length;n++){var o=i[n];if(o.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var i=new t(n);return i.render(e),i},t})(),x8=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=bi.createElement("input",Fa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,i,o){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var i=new t;return i.render(e,n),i},t})(),Pa;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Pa||(Pa={}));function p8(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function y8(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var b8=(function(){function t(e,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new cr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new tw(this.verbose),this.persistedDataManager=new l8,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,f){if(e)e(u,f);else{if(i.lastMatchFound===u)return;i.lastMatchFound=u,i.setHeaderMessage(zt.lastMatch(u),Pa.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,f){n&&n(u,f)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new q2(this.getScanRegionId(),y8(this.config,this.verbose))},t.prototype.pause=function(e){(Bs(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var i=document.getElementById(e.elementId);i&&(i.innerHTML="",e.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,o){if(!e.html5Qrcode){i();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(u){if(!e.html5Qrcode){i();return}e.html5Qrcode.clear(),n(),i()}).catch(function(u){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",u),o(u)}):(e.html5Qrcode.clear(),n(),i())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ps.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ps.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ps.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ps.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ps.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ps.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ps.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),cr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),u=this.getDashboardId();o.id=u,o.style.width="100%",e.appendChild(o),this.setupInitialDashboard(o)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var i=new u8;i.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,i){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(zt.cameraPermissionRequesting());var u=function(){i||o.createPermissionButton(e,n)};q2.getCameras().then(function(f){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),f&&f.length>0?(e.removeChild(n),o.renderCameraSelection(f)):(o.setHeaderMessage(zt.noCameraFound(),Pa.STATUS_WARNING),u())}).catch(function(f){o.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:u(),o.setHeaderMessage(f,Pa.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var i=this,o=bi.createElement("button",this.getCameraPermissionButtonId());o.innerText=zt.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,i.createCameraListUi(e,n,o)}),n.appendChild(o)},t.prototype.createPermissionsUi=function(e,n){var i=this;if(cr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Q2.hasPermissions().then(function(o){o?i.createCameraListUi(e,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(e,n))}).catch(function(o){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=cr.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var o=document.createElement("div");o.style.textAlign="center",i.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,o),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=cr.isFileScanType(this.currentScanType),i=this,o=function(u){if(!i.html5Qrcode)throw"html5Qrcode not defined";cr.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(zt.loadingImage()),i.html5Qrcode.scanFileV2(u,!0).then(function(f){i.resetHeaderMessage(),i.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){i.setHeaderMessage(f,Pa.STATUS_WARNING),i.qrCodeErrorCallback(f,ew.createFrom(f))}))};this.fileSelectionUi=m8.create(e,n,o)},t.prototype.renderCameraSelection=function(e){var n=this,i=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var u=x8.create(o,!1),f=function(k){var B=k.zoomFeature();if(B.isSupported()){u.setOnCameraZoomValueChangeCallback(function(H){B.apply(H)});var F=1;n.config.defaultZoomValueIfSupported&&(F=n.config.defaultZoomValueIfSupported),F=LT(F,B.min(),B.max()),u.setValues(B.min(),B.max(),F,B.step()),u.show()}},p=g8.create(o,e),w=document.createElement("span"),y=bi.createElement("button",Fa.CAMERA_START_BUTTON_ID);y.innerText=zt.scanButtonStartScanningText(),w.appendChild(y);var N=bi.createElement("button",Fa.CAMERA_STOP_BUTTON_ID);N.innerText=zt.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,w.appendChild(N);var A,T=function(k){if(!k.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(k.torchFeature()):A=f8.create(w,k.torchFeature(),{display:"none",marginLeft:"5px"},function(B){i.setHeaderMessage(B,Pa.STATUS_WARNING)}),A.show()};o.appendChild(w);var j=function(k){k||(y.style.display="none"),y.innerText=zt.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,k&&(y.style.display="inline-block")};if(y.addEventListener("click",function(k){y.innerText=zt.scanButtonScanningStarting(),p.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var B=p.getValue();i.persistedDataManager.setLastUsedCameraId(B),i.html5Qrcode.start(B,p8(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(F){N.disabled=!1,N.style.display="inline-block",j(!1);var H=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&T(H),n.config.showZoomSliderIfSupported===!0&&f(H)}).catch(function(F){i.showHideScanTypeSwapLink(!0),p.enable(),j(!0),i.setHeaderMessage(F,Pa.STATUS_WARNING)})}),p.hasSingleItem()&&y.click(),N.addEventListener("click",function(k){if(!i.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,i.html5Qrcode.stop().then(function(B){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),p.enable(),y.disabled=!1,N.style.display="none",y.style.display="inline-block",A&&(A.reset(),A.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(B){N.disabled=!1,i.setHeaderMessage(B,Pa.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var M=i.persistedDataManager.getLastUsedCameraId();p.hasValue(M)?(p.setValue(M),y.click()):i.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=zt.textIfCameraScanSelected(),i=zt.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var f=bi.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=cr.isCameraScanType(this.currentScanType)?n:i,f.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,cr.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),f.innerText=i,e.currentScanType=yr.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),f.innerText=n,e.currentScanType=yr.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),u.appendChild(f),o.appendChild(u)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Q2.hasPermissions().then(function(i){if(i){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Pa.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=e,i.style.display="block",n){case Pa.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case Pa.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case Pa.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=s8,this.cameraScanImage.alt=zt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=i8,this.fileScanImage.alt=zt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Fa.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Fa.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();const w8=()=>{const[t,e]=O.useState("scan");return l.jsxs("div",{className:"p-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Bayar / Terima QR"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"flex border-b",children:[l.jsx($2,{id:"scan",activeTab:t,setActiveTab:e,icon:l.jsx(Gy,{}),children:"Bayar (Scan)"}),l.jsx($2,{id:"my_qr",activeTab:t,setActiveTab:e,icon:l.jsx($y,{}),children:"Terima Uang"})]}),l.jsx("div",{className:"p-4",children:t==="scan"?l.jsx(_8,{}):l.jsx(v8,{})})]})]})},$2=({id:t,activeTab:e,setActiveTab:n,icon:i,children:o})=>l.jsxs("button",{onClick:()=>n(t),className:`flex-1 p-3 font-semibold text-sm flex items-center justify-center gap-2 ${e===t?"border-b-2 border-taskora-green-700 text-taskora-green-700":"text-gray-500"}`,children:[i," ",o]}),_8=()=>{const t=Un(),e=yt(),n=O.useRef(!1);return O.useEffect(()=>{const i=new b8("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1),o=f=>{if(!n.current){n.current=!0,i.clear();try{const p=JSON.parse(f);if(p.iss!=="bank.taskora.id"||!p.acc)throw new Error("QR Code tidak valid atau bukan QR Bank Taskora.");t("/transfer",{state:{qrData:p}})}catch(p){e.showAlert({title:"Error",message:p.message||"Gagal memindai QR code.",type:"warning"})}}},u=f=>{};return i.render(o,u),()=>{i.clear().catch(f=>{})}},[t,e]),l.jsxs("div",{children:[l.jsx("p",{className:"text-center text-gray-600 mb-4",children:"Arahkan kamera ke QR Code untuk melakukan pembayaran."}),l.jsx("div",{id:"qr-reader",className:"w-full max-w-xs mx-auto"})]})},v8=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState(""),[u,f]=O.useState(""),p=async()=>{const w=await n("user_payment_qr_generate.php","POST",{amount:i});w&&w.status==="success"&&f(w.data.qr_base64)};return l.jsx("div",{className:"text-center",children:u?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:u,alt:"QR Code Pembayaran",className:"mx-auto"}),l.jsx("p",{className:"font-bold text-lg mt-2",children:"Pindai untuk Membayar"}),l.jsx(Te,{onClick:()=>f(""),className:"mt-4 bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Buat QR Baru"})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Masukkan jumlah (opsional) untuk ditampilkan di QR Code."}),l.jsx(Se,{type:"number",placeholder:"Rp 0 (Opsional)",value:i,onChange:w=>o(w.target.value)}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:e}),l.jsx(Te,{onClick:p,disabled:t,fullWidth:!0,className:"mt-4",children:t?"Membuat...":"Tampilkan QR Code"})]})})},N8=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),A8=()=>{const t=Un(),e=yt(),n=ys(),{loading:i,error:o,callApi:u}=ke(),[f,p]=O.useState(1),[w,y]=O.useState(""),[N,A]=O.useState(""),[T,j]=O.useState(""),[M,k]=O.useState(""),[B,F]=O.useState(null);O.useEffect(()=>{const K=n.state?.qrData;K&&(y(K.acc),F(K.name),A(K.amt||""),j(`Pembayaran QR ke ${K.name}`),p(2))},[n.state]);const H=async K=>{K.preventDefault();const $=await u("transfer_internal_inquiry.php","POST",{destination_account_number:w});$&&$.status==="success"&&(F($.data.recipient_name),j(`Transfer ke ${$.data.recipient_name}`),p(2))},G=async K=>{if(K.preventDefault(),await e.showConfirmation({title:"Konfirmasi Transfer",message:`Anda akan mentransfer ${N8(N)} ke ${B}. Lanjutkan?`})){const te=await u("transfer_internal_execute.php","POST",{destination_account_number:w,amount:N,description:T,pin:M});te&&te.status==="success"&&(await e.showAlert({title:"Berhasil",message:te.message,type:"success"}),t("/"))}};return l.jsxs("div",{className:"p-4",children:[l.jsxs(Fe,{to:"/",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Transfer Dana"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[f===1&&l.jsxs("form",{onSubmit:H,children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Langkah 1: Masukkan Rekening Tujuan"}),l.jsx(Se,{id:"accountNumber",name:"accountNumber",label:"Nomor Rekening",value:w,onChange:K=>y(K.target.value),required:!0}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4",children:o}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:i,children:i?"Mengecek...":"Lanjutkan"})})]}),f===2&&l.jsxs("form",{onSubmit:G,children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Langkah 2: Konfirmasi & Jumlah"}),l.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Penerima"}),l.jsx("p",{className:"font-bold text-lg",children:B}),l.jsx("p",{className:"text-sm text-gray-700",children:w})]}),l.jsx(Se,{id:"amount",name:"amount",type:"number",label:"Jumlah Transfer (Rp)",value:N,onChange:K=>A(K.target.value),required:!0}),l.jsx("div",{className:"mt-4",children:l.jsx(Se,{id:"description",name:"description",label:"Deskripsi (Opsional)",value:T,onChange:K=>j(K.target.value)})}),l.jsx("div",{className:"mt-4",children:l.jsx(Se,{id:"pin",name:"pin",type:"password",label:"Masukkan PIN Transaksi",value:M,onChange:K=>k(K.target.value),required:!0})}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:o}),l.jsxs("div",{className:"mt-6 flex gap-2",children:[l.jsx(Te,{type:"button",onClick:()=>{p(1),t("/transfer",{replace:!0})},className:"bg-gray-200 text-gray-800 hover:bg-gray-300 w-1/3",children:"Kembali"}),l.jsx(Te,{type:"submit",fullWidth:!0,disabled:i,children:i?"Memproses...":"Transfer Sekarang"})]})]})]})]})},ey=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),S8=t=>{const n={HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"}[t.tenor_unit]||t.tenor_unit;return`${t.min_tenor} - ${t.max_tenor} ${n}`},C8=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),u=O.useCallback(async()=>{const f=await n("user_loan_products_get.php");f&&f.status==="success"&&o(f.data)},[n]);return O.useEffect(()=>{u()},[u]),l.jsxs("div",{children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pilih Produk Pinjaman"})]}),t&&l.jsx("p",{children:"Memuat produk..."}),e&&l.jsx("p",{className:"text-red-500",children:e}),l.jsx("div",{className:"space-y-4",children:i.map(f=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("div",{className:"p-2 bg-taskora-green-100 rounded-full mr-3",children:l.jsx(Hc,{className:"text-taskora-green-700",size:20})}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:f.product_name})]}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Bunga:"})," ",f.interest_rate_pa,"% per tahun"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Plafon:"})," ",ey(f.min_amount)," - ",ey(f.max_amount)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tenor:"})," ",S8(f)]})]}),l.jsx("div",{className:"mt-4",children:l.jsx(Fe,{to:`/loan-application/${f.id}`,children:l.jsx(Te,{fullWidth:!0,children:"Ajukan Sekarang"})})})]},f.id))})]})},E8=()=>{const{productId:t}=br(),e=Un(),n=yt(),{loading:i,error:o,callApi:u}=ke(),[f,p]=O.useState(null),[w,y]=O.useState({amount:"",tenor:"",purpose:""});O.useEffect(()=>{(async()=>{const M=await u("user_loan_products_get.php");if(M&&M.status==="success"){const k=M.data.find(B=>B.id.toString()===t);k&&(p(k),y(B=>({...B,amount:k.min_amount||"",tenor:k.min_tenor||""})))}})()},[u,t]);const N=j=>{const{name:M,value:k}=j.target;y(B=>({...B,[M]:k}))},A=async j=>{j.preventDefault();const M={loan_product_id:t,amount:w.amount,tenor:w.tenor,purpose:w.purpose},k=await u("user_loan_application_create.php","POST",M);k&&k.status==="success"&&(await n.showAlert({title:"Berhasil",message:k.message,type:"success"}),e("/my-loans"))};if(i&&!f)return l.jsx("p",{className:"text-center p-8",children:"Memuat detail produk..."});if(!f)return l.jsx("p",{className:"text-center p-8",children:"Produk pinjaman tidak ditemukan."});const T=()=>{const M={HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"}[f.tenor_unit]||f.tenor_unit;return`Tenor (${f.min_tenor} - ${f.max_tenor} ${M})`};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/loan-products",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Form Pengajuan Pinjaman"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1",children:f?.product_name}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Silakan isi jumlah dan tenor pinjaman yang Anda inginkan."}),l.jsxs("form",{onSubmit:A,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"amount",type:"number",label:`Jumlah Pinjaman (min: ${f?.min_amount}, max: ${f?.max_amount})`,value:w.amount,onChange:N,required:!0}),l.jsx(Se,{name:"tenor",type:"number",label:T(),value:w.tenor,onChange:N,required:!0}),l.jsx(Se,{name:"purpose",label:"Tujuan Pinjaman",value:w.purpose,onChange:N,placeholder:"Contoh: Modal Usaha, Renovasi Rumah",required:!0})]}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:o}),l.jsx("div",{className:"mt-6 border-t pt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:i,children:i?"Mengirim...":"Kirim Pengajuan"})})]})]})]})},T8=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),j8=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),u=O.useCallback(async()=>{const f=await n("user_get_loans.php");f&&f.status==="success"&&o(f.data)},[n]);return O.useEffect(()=>{u()},[u]),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pinjaman Saya"})]}),l.jsx(Fe,{to:"/loan-products",children:l.jsxs(Te,{className:"py-2 px-4 text-sm flex items-center gap-2",children:[l.jsx(bs,{size:18}),l.jsx("span",{children:"Ajukan Pinjaman"})]})})]}),t&&l.jsx("p",{children:"Memuat data pinjaman..."}),e&&l.jsx("p",{className:"text-red-500",children:e}),l.jsx("div",{className:"space-y-4",children:i.length>0?i.map(f=>l.jsx(Fe,{to:`/my-loans/${f.id}`,className:"block bg-white rounded-lg shadow-md p-4 border border-gray-200 hover:bg-gray-50",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:f.product_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Total Pinjaman: ",T8(f.loan_amount)]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Dicairkan pada: ",new Date(f.disbursement_date).toLocaleDateString("id-ID")]})]}),l.jsx(vi,{className:"text-gray-400"})]})},f.id)):!t&&l.jsxs("div",{className:"text-center text-gray-500 py-8",children:[l.jsx(Uc,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{children:"Anda tidak memiliki pinjaman aktif saat ini."})]})})]})},Gl=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),M8=t=>({HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"})[t]||t,D8=()=>{const{loanId:t}=br(),{loading:e,error:n,callApi:i}=ke(),o=yt(),[u,f]=O.useState(null),p=O.useCallback(async()=>{const N=await i(`user_get_loan_detail.php?id=${t}`);N&&N.status==="success"&&f(N.data)},[i,t]);O.useEffect(()=>{p()},[p]);const w=async N=>{const A=parseFloat(N.amount_due)+parseFloat(N.penalty_amount||0);if(await o.showConfirmation({title:"Konfirmasi Pembayaran",message:`Anda akan membayar angsuran sebesar ${Gl(A)} (termasuk denda jika ada). Lanjutkan?`,confirmText:"Ya, Bayar Sekarang"})){const j=await i("user_pay_installment.php","POST",{installment_id:N.id});j&&j.status==="success"?(await o.showAlert({title:"Berhasil",message:j.message,type:"success"}),p()):await o.showAlert({title:"Gagal",message:n||j?.message,type:"warning"})}};if(e&&!u)return l.jsx("div",{className:"p-4 text-center",children:"Memuat detail pinjaman..."});if(n)return l.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",n]});if(!u)return l.jsx("div",{className:"p-4 text-center",children:"Data pinjaman tidak ditemukan."});const y=u.installments?.find(N=>N.status==="PENDING"||N.status==="OVERDUE");return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/my-loans",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detail Pinjaman"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6 p-4",children:[l.jsx("h2",{className:"font-bold text-lg",children:u.product_name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Total Pinjaman: ",Gl(u.loan_amount)]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Tenor: ",u.tenor," ",M8(u.tenor_unit)]})]}),y&&l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6 p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:"Angsuran Berikutnya"}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-xl text-taskora-green-700",children:Gl(parseFloat(y.amount_due)+parseFloat(y.penalty_amount||0))}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Jatuh tempo: ",new Date(y.due_date).toLocaleDateString("id-ID")]}),parseFloat(y.penalty_amount||0)>0&&l.jsxs("p",{className:"text-xs text-red-600",children:["Termasuk denda ",Gl(y.penalty_amount)]})]}),l.jsx(Te,{onClick:()=>w(y),disabled:e,children:"Bayar Sekarang"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Riwayat Angsuran"}),l.jsx("ul",{className:"divide-y divide-gray-200",children:u.installments?.length>0?u.installments.map(N=>l.jsxs("li",{className:"py-3 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:["Angsuran ke-",N.installment_number]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Jatuh tempo: ",new Date(N.due_date).toLocaleDateString("id-ID")]})]}),N.status==="PAID"?l.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600 font-semibold",children:[l.jsx(th,{size:16})," Lunas"]}):l.jsxs("div",{className:"text-right",children:[l.jsxs("span",{className:"flex items-center justify-end gap-1 text-sm text-yellow-600 font-semibold",children:[l.jsx(ah,{size:16})," ",Gl(N.amount_due)]}),parseFloat(N.penalty_amount||0)>0&&l.jsxs("p",{className:"text-xs text-red-600",children:["+ Denda ",Gl(N.penalty_amount)]})]})]},N.id)):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Jadwal angsuran belum tersedia."})})]})]})},k8=()=>{const t=JSON.parse(localStorage.getItem("authUser")||"{}"),{notificationStatus:e,subscribeToNotifications:n}=_S(),[i,o]=O.useState(!1),u=async()=>{o(!0),n&&await n(),o(!1)},f=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),window.location.href="/"},p=[{icon:l.jsx(oo,{}),text:"Informasi Pribadi",path:"/profile/info"},{icon:l.jsx(Fc,{}),text:"Manajemen Kartu",path:"/profile/cards"},{icon:l.jsx(BN,{}),text:"Rekening Penarikan",path:"/profile/withdrawal-accounts"},{icon:l.jsx(Yc,{}),text:"Daftar Penerima",path:"/profile/beneficiaries"},{icon:l.jsx(Ky,{}),text:"Ubah Password",path:"/profile/change-password"},{icon:l.jsx(vm,{}),text:"Ubah PIN Transaksi",path:"/profile/change-pin"},{icon:l.jsx(zc,{}),text:"Riwayat Notifikasi",path:"/notifications"}],w=()=>{switch(e){case"loading":return l.jsxs("div",{className:"flex items-center p-4 text-gray-500",children:[l.jsx(Na,{className:"animate-spin"}),l.jsx("span",{className:"ml-4 font-medium",children:"Mengecek status notifikasi..."})]});case"granted":return l.jsxs("div",{className:"flex items-center p-4 text-green-800 bg-green-50",children:[l.jsx(fp,{className:"text-green-600"}),l.jsx("span",{className:"ml-4 font-medium",children:"Notifikasi Push Aktif"})]});case"denied":return l.jsxs("div",{className:"flex items-center p-4 text-bpn-red bg-red-50",children:[l.jsx(hp,{className:"text-red-600"}),l.jsx("span",{className:"ml-4 font-medium",children:"Notifikasi Diblokir oleh Browser"})]});case"unsupported":return l.jsxs("div",{className:"flex items-center p-4 text-gray-500 bg-gray-100",children:[l.jsx(hp,{}),l.jsx("span",{className:"ml-4 font-medium",children:"Browser Tidak Mendukung Notifikasi"})]});case"error_checking":return l.jsxs("div",{className:"flex items-center p-4 text-bpn-yellow bg-yellow-50",children:[l.jsx(rh,{className:"text-yellow-600"}),l.jsx("span",{className:"ml-4 font-medium",children:"Gagal memuat status notifikasi."})]});default:return l.jsxs("button",{onClick:u,disabled:i,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors disabled:opacity-50",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"text-bpn-blue",children:l.jsx(fp,{})}),l.jsx("span",{className:"ml-4 text-gray-700 font-medium",children:"Aktifkan Notifikasi Push"})]}),i?l.jsx(Na,{className:"animate-spin text-gray-400"}):l.jsx(vi,{className:"text-gray-400"})]})}};return l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex flex-col items-center mb-8",children:[l.jsx("div",{className:`w-24 h-24 rounded-full ${Ht.theme.bgPrimary} text-white flex items-center justify-center font-bold text-4xl mb-4`,children:t.fullName?t.fullName.charAt(0):"?"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.email})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md divide-y",children:[p.map(y=>l.jsxs(Fe,{to:y.path,className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"text-bpn-blue",children:y.icon}),l.jsx("span",{className:"ml-4 text-gray-700 font-medium",children:y.text})]}),l.jsx(vi,{className:"text-gray-400"})]},y.text)),w()]}),l.jsx("div",{className:"mt-8",children:l.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center p-4 bg-white rounded-lg shadow-md text-bpn-red font-semibold hover:bg-red-50 transition-colors",children:[l.jsx(Zy,{className:"mr-3"}),"Logout"]})})]})},I8=()=>{const t=Un(),e=yt(),{loading:n,error:i,callApi:o}=ke(),[u,f]=O.useState({old_pin:"",new_pin:"",confirm_pin:""}),p=y=>{const{name:N,value:A}=y.target;/^\d*$/.test(A)&&A.length<=6&&f(T=>({...T,[N]:A}))},w=async y=>{y.preventDefault();const N=await o("user_security_update_pin.php","POST",u);N&&N.status==="success"&&(await e.showAlert({title:"Berhasil",message:"PIN Anda telah berhasil diperbarui.",type:"success"}),t("/profile"))};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ubah PIN Transaksi"})]}),l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:l.jsxs("form",{onSubmit:w,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"old_pin",type:"password",label:"PIN Lama (Kosongkan jika baru pertama kali)",value:u.old_pin,onChange:p,placeholder:"6 digit PIN lama"}),l.jsx(Se,{name:"new_pin",type:"password",label:"PIN Baru",value:u.new_pin,onChange:p,placeholder:"6 digit PIN baru",required:!0}),l.jsx(Se,{name:"confirm_pin",type:"password",label:"Konfirmasi PIN Baru",value:u.confirm_pin,onChange:p,placeholder:"Ketik ulang 6 digit PIN baru",required:!0})]}),i&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:i}),l.jsx("div",{className:"mt-6 border-t pt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:n,children:n?"Menyimpan...":"Simpan PIN"})})]})})]})},O8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState(!1),[w,y]=O.useState(null),[N,A]=O.useState({accountNumber:"",nickname:""}),T=O.useCallback(async()=>{const F=await n("beneficiaries_get_list.php");F&&F.status==="success"&&u(F.data)},[n]);O.useEffect(()=>{T()},[T]);const j=F=>{A({...N,accountNumber:F.target.value}),y(null)},M=async()=>{if(!N.accountNumber)return;const F=await n("transfer_internal_inquiry.php","POST",{destination_account_number:N.accountNumber});F&&F.status==="success"&&y(F.data.recipient_name)},k=async F=>{F.preventDefault();const H=await n("beneficiaries_add.php","POST",{account_number:N.accountNumber,nickname:N.nickname});H&&H.status==="success"&&(i.showAlert({title:"Berhasil",message:"Penerima baru telah ditambahkan.",type:"success"}),p(!1),A({accountNumber:"",nickname:""}),y(null),T())},B=async F=>{if(await i.showConfirmation({title:"Konfirmasi Hapus",message:"Apakah Anda yakin ingin menghapus penerima ini dari daftar?",confirmText:"Ya, Hapus"})){const G=await n("beneficiaries_delete.php","POST",{id:F});G&&G.status==="success"&&(i.showAlert({title:"Berhasil",message:"Penerima telah dihapus.",type:"success"}),T())}};return l.jsxs("div",{className:"p-4",children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Daftar Penerima"})]}),f?l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[l.jsx("h2",{className:"font-bold mb-4",children:"Tambah Penerima Baru"}),l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("div",{className:"flex-grow",children:l.jsx(Se,{label:"Nomor Rekening",name:"accountNumber",value:N.accountNumber,onChange:j,required:!0})}),l.jsx(Te,{type:"button",onClick:M,disabled:t,className:"py-2 px-4 h-10",children:"Cek"})]}),w&&l.jsxs("div",{className:"p-2 bg-green-50 text-green-800 rounded-md text-sm",children:["Nama: ",l.jsx("strong",{children:w})]}),l.jsx(Se,{label:"Nama Panggilan",name:"nickname",value:N.nickname,onChange:F=>A({...N,nickname:F.target.value}),required:!0})]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[l.jsx(Te,{type:"button",onClick:()=>p(!1),className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:!w||t,children:t?"Menyimpan...":"Simpan"})]})]})]}):l.jsx("div",{className:"mb-6",children:l.jsxs(Te,{onClick:()=>p(!0),fullWidth:!0,children:[l.jsx(bs,{size:20,className:"mr-2"})," Tambah Penerima Baru"]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md",children:l.jsx("ul",{className:"divide-y divide-gray-200",children:t&&o.length===0?l.jsx("li",{className:"p-4 text-center text-gray-500",children:"Memuat daftar..."}):o.length>0?o.map(F=>l.jsxs("li",{className:"p-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center mr-3",children:l.jsx(oo,{className:"text-gray-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:F.nickname}),l.jsxs("p",{className:"text-sm text-gray-500",children:[F.beneficiary_name," - ",F.beneficiary_account_number]})]})]}),l.jsx("button",{onClick:()=>B(F.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full",children:l.jsx(no,{size:18})})]},F.id)):l.jsxs("li",{className:"p-8 text-center text-gray-500",children:[l.jsx(rA,{size:32,className:"mx-auto text-gray-300 mb-2"}),"Anda belum memiliki daftar penerima."]})})})]})},R8=({card:t})=>{const e=t.expiry_date?new Date(t.expiry_date).toLocaleDateString("id-ID",{month:"2-digit",year:"2-digit"}).replace(".","/"):"N/A",n=t.status==="BLOCKED",i=n?"from-gray-500 to-gray-700":"from-bpn-blue to-bpn-blue-dark";return l.jsxs("div",{className:`w-full max-w-sm mx-auto bg-gradient-to-br ${i} text-white rounded-2xl shadow-lg p-6 flex flex-col justify-between h-56 relative overflow-hidden transition-all duration-300`,children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:l.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"p",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M20-20v80M-20 20h80",stroke:"currentColor",strokeWidth:"0.5",shapeRendering:"crispEdges"})})}),l.jsx("rect",{width:"100%",height:"100%",fill:"url(#p)"})]})}),l.jsxs("div",{className:"flex justify-between items-start z-10",children:[l.jsx("img",{src:Ht.brand.logoWhite,alt:"A2U Bank Digital Logo",className:"h-7"}),l.jsx(pS,{size:24,className:"transform rotate-90"})]}),l.jsxs("div",{className:"z-10",children:[l.jsx("div",{className:"w-14 h-10 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-md mb-3 flex items-center justify-center shadow-inner",children:l.jsx("div",{className:"w-12 h-8 bg-gradient-to-br from-yellow-200 to-yellow-400 rounded-sm"})}),l.jsx("p",{className:"font-mono text-2xl tracking-widest",children:t.card_number_masked.replace(/-/g," ")})]}),l.jsxs("div",{className:"flex justify-between items-end z-10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase opacity-70",children:"Pemegang Kartu"}),l.jsx("p",{className:"font-medium tracking-wider text-lg",children:t.full_name})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase opacity-70 text-right",children:"Berlaku s/d"}),l.jsx("p",{className:"font-medium font-mono",children:e})]})]}),n&&l.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center z-20 backdrop-blur-sm",children:l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold",children:[l.jsx(vm,{size:24}),l.jsx("span",{children:"TERBLOKIR"})]})})]})},L8=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),ty=({onClick:t,icon:e,children:n,className:i=""})=>l.jsxs("button",{onClick:t,className:`flex-1 flex items-center justify-center gap-2 py-3 text-sm font-semibold transition-colors ${i}`,children:[e,l.jsx("span",{children:n})]}),B8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState([]),[w,y]=O.useState(!1),[N,A]=O.useState(""),[T,j]=O.useState(!1),[M,k]=O.useState(null),[B,F]=O.useState(""),H=O.useCallback(async()=>{const[Y,ne]=await Promise.all([n("user_get_cards.php"),n("user_get_all_accounts.php")]);if(Y&&Y.status==="success"&&u(Y.data),ne&&ne.status==="success"){const q=ne.data.TABUNGAN||[];p(q),q.length>0&&A(String(q[0].id))}},[n]);O.useEffect(()=>{H()},[H]);const G=async()=>{const Y=await n("user_request_card.php","POST",{account_id:N});Y&&Y.status==="success"?(i.showAlert({title:"Berhasil",message:Y.message,type:"success"}),y(!1),H()):i.showAlert({title:"Gagal",message:e||Y?.message||"Terjadi kesalahan.",type:"warning"})},K=async(Y,ne)=>{const q=ne==="BLOCKED"?"ACTIVE":"BLOCKED",we=q==="ACTIVE"?"membuka blokir":"memblokir";if(await i.showConfirmation({title:`Konfirmasi ${we} kartu`,message:`Apakah Anda yakin ingin ${we} kartu ini?`,confirmText:`Ya, ${we}`})){const me=await n("user_update_card_status.php","POST",{card_id:Y,new_status:q});me&&me.status==="success"&&(i.showAlert({title:"Berhasil",message:me.message,type:"success"}),H())}},$=Y=>{k(Y),F(String(Y.daily_limit)),j(!0)},te=async Y=>{Y.preventDefault();const ne=await n("user_set_card_limit.php","POST",{card_id:M.id,daily_limit:B});ne&&ne.status==="success"&&(i.showAlert({title:"Berhasil",message:ne.message,type:"success"}),j(!1),H())};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manajemen Kartu"})]}),t&&o.length===0&&l.jsx("div",{className:"text-center p-8",children:l.jsx(Na,{className:"animate-spin inline-block"})}),e&&!t&&l.jsx("p",{className:"text-red-500 text-center p-4",children:e}),l.jsx("div",{className:"space-y-8",children:o.map(Y=>l.jsxs("div",{className:"max-w-sm mx-auto",children:[l.jsx(R8,{card:Y}),l.jsxs("div",{className:"bg-white -mt-2 rounded-b-xl shadow-lg flex justify-around items-center border-t",children:[l.jsx(ty,{onClick:()=>$(Y),icon:l.jsx(xr,{size:16}),className:"text-gray-600 hover:bg-gray-100 rounded-bl-xl",children:"Limit"}),l.jsx(ty,{onClick:()=>K(Y.id,Y.status),icon:Y.status==="BLOCKED"?l.jsx(kA,{size:16}):l.jsx(vm,{size:16}),className:Y.status==="BLOCKED"?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50 rounded-br-xl",children:Y.status==="BLOCKED"?"Buka Blokir":"Blokir"})]})]},Y.id))}),l.jsx("div",{className:"mt-10 max-w-sm mx-auto",children:w?l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md border",children:[l.jsx("h3",{className:"font-semibold mb-2 text-center text-gray-800",children:"Pilih Rekening untuk Kartu Baru"}),l.jsx("select",{value:N,onChange:Y=>A(Y.target.value),className:"w-full px-4 py-2 mb-4 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",children:f.map(Y=>l.jsxs("option",{value:String(Y.id),children:[Y.account_number," - ",L8(Y.balance)]},Y.id))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Te,{onClick:()=>y(!1),className:"bg-gray-200 text-gray-800 w-1/3",children:"Batal"}),l.jsx(Te,{onClick:G,fullWidth:!0,disabled:t,children:t?"Memproses...":"Kirim Pengajuan"})]})]}):l.jsxs(Te,{onClick:()=>y(!0),fullWidth:!0,className:"py-2.5 bg-gray-700 hover:bg-gray-800",children:[l.jsx(bs,{size:20,className:"mr-2"})," Ajukan Kartu Baru"]})}),T&&M&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Ubah Limit Harian"}),l.jsxs("form",{onSubmit:te,children:[l.jsx(Se,{name:"new_limit",type:"number",label:"Limit Baru (Rp)",value:B,onChange:Y=>F(Y.target.value),required:!0}),l.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[l.jsx(Te,{type:"button",onClick:()=>j(!1),className:"bg-gray-200 text-gray-800",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:t,children:t?"Menyimpan...":"Simpan"})]})]})]})})]})},P8=({notification:t})=>l.jsx("div",{className:`p-4 border-l-4 ${t.is_read?"bg-white":"bg-green-50"} ${t.is_read?"border-transparent":"border-taskora-green-500"}`,children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 pt-1",children:l.jsx(zc,{className:`w-5 h-5 ${t.is_read?"text-gray-400":"text-taskora-green-700"}`})}),l.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.title}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.message}),l.jsx("p",{className:"mt-1 text-xs text-gray-400",children:new Date(t.created_at).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"})})]})]})}),z8=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),u=O.useCallback(async()=>{const w=await n("notifications_get_list.php");w&&w.status==="success"&&o(w.data)},[n]);O.useEffect(()=>{u()},[u]);const f=async()=>{const w=await n("user_mark_notification_read.php","POST",{notification_id:"all"});w&&w.status==="success"&&u()},p=i.some(w=>!w.is_read);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifikasi"})]}),l.jsxs(Te,{onClick:f,disabled:t||!p,className:"py-2 px-4 text-sm bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 disabled:bg-gray-50 disabled:text-gray-400 flex items-center gap-2",children:[l.jsx(th,{size:16}),l.jsx("span",{children:"Tandai Semua Dibaca"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t&&l.jsx("p",{className:"p-4 text-center",children:"Memuat notifikasi..."}),e&&l.jsx("p",{className:"p-4 text-center text-red-500",children:e}),l.jsx("div",{className:"divide-y divide-gray-200",children:!t&&i.length>0?i.map(w=>l.jsx(P8,{notification:w},w.id)):!t&&l.jsx("p",{className:"p-8 text-center text-gray-500",children:"Tidak ada notifikasi baru."})})]})]})},Wl=({label:t,value:e})=>l.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e||"-"})]}),F8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState(null),[f,p]=O.useState({address_domicile:"",occupation:""}),w=O.useCallback(async()=>{const A=await n("user_profile_get.php");A&&A.status==="success"&&(u(A.data),p({address_domicile:A.data.address_domicile||"",occupation:A.data.occupation||""}))},[n]);O.useEffect(()=>{w()},[w]);const y=A=>{const{name:T,value:j}=A.target;p(M=>({...M,[T]:j}))},N=async A=>{A.preventDefault();const T=await n("user_profile_update.php","POST",f);T&&T.status==="success"&&(i.showAlert({title:"Berhasil",message:"Informasi profil Anda telah diperbarui.",type:"success"}),w())};return t&&!o?l.jsx("div",{className:"p-4 text-center",children:"Memuat profil..."}):l.jsxs("div",{children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Informasi Pribadi"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("h3",{className:"text-lg font-medium",children:"Data Terdaftar"})}),l.jsx("div",{className:"p-4",children:o?l.jsxs("dl",{className:"divide-y divide-gray-200",children:[l.jsx(Wl,{label:"Nama Lengkap",value:o.full_name}),l.jsx(Wl,{label:"Email",value:o.email}),l.jsx(Wl,{label:"Nomor Telepon",value:o.phone_number}),l.jsx(Wl,{label:"NIK",value:o.nik}),l.jsx(Wl,{label:"Nama Ibu Kandung",value:o.mother_maiden_name}),l.jsx(Wl,{label:"Tanggal Lahir",value:o.dob?new Date(o.dob).toLocaleDateString("id-ID"):"-"})]}):l.jsx("p",{children:"Gagal memuat data."})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("h3",{className:"text-lg font-medium",children:"Data yang Dapat Diubah"})}),l.jsxs("form",{onSubmit:N,className:"p-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"address_domicile",label:"Alamat Domisili",value:f.address_domicile,onChange:y,placeholder:"Masukkan alamat tinggal Anda saat ini"}),l.jsx(Se,{name:"occupation",label:"Pekerjaan",value:f.occupation,onChange:y,placeholder:"Contoh: Karyawan Swasta"})]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx(Te,{type:"submit",disabled:t,children:t?"Menyimpan...":"Simpan Perubahan"})})]})]})]})},U8=()=>{const t=Un(),e=yt(),{loading:n,error:i,callApi:o}=ke(),[u,f]=O.useState({current_password:"",new_password:"",confirm_password:""}),p=y=>{const{name:N,value:A}=y.target;f(T=>({...T,[N]:A}))},w=async y=>{if(y.preventDefault(),u.new_password!==u.confirm_password){e.showAlert({title:"Error",message:"Password baru dan konfirmasi tidak cocok.",type:"warning"});return}const N=await o("user_security_update_password.php","POST",{current_password:u.current_password,new_password:u.new_password});N&&N.status==="success"&&(await e.showAlert({title:"Berhasil",message:"Password Anda telah berhasil diperbarui.",type:"success"}),t("/profile"))};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ubah Password"})]}),l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:l.jsxs("form",{onSubmit:w,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"current_password",type:"password",label:"Password Saat Ini",value:u.current_password,onChange:p,placeholder:"Masukkan password Anda saat ini",required:!0}),l.jsx(Se,{name:"new_password",type:"password",label:"Password Baru",value:u.new_password,onChange:p,placeholder:"Minimal 8 karakter",required:!0}),l.jsx(Se,{name:"confirm_password",type:"password",label:"Konfirmasi Password Baru",value:u.confirm_password,onChange:p,placeholder:"Ketik ulang password baru",required:!0})]}),i&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:i}),l.jsx("div",{className:"mt-6 border-t pt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:n,children:n?"Menyimpan...":"Simpan Password"})})]})})]})},H8=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),V8=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),u=O.useCallback(async()=>{const f=await n("user_get_deposits.php");f&&f.status==="success"&&o(f.data)},[n]);return O.useEffect(()=>{u()},[u]),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Deposito Saya"})]}),l.jsx(Fe,{to:"/deposits/open",children:l.jsxs(Te,{className:"py-2 px-4 text-sm flex items-center gap-2",children:[l.jsx(bs,{size:18}),l.jsx("span",{children:"Buka Deposito"})]})})]}),t&&l.jsx("p",{className:"text-center p-4",children:"Memuat data deposito..."}),e&&l.jsx("p",{className:"text-center p-4 text-red-500",children:e}),l.jsx("div",{className:"space-y-4",children:i.length>0?i.map(f=>l.jsx(Fe,{to:`/deposits/${f.id}`,className:"block bg-white rounded-lg shadow-md p-4 border border-gray-200 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:f.product_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Pokok: ",H8(f.balance)]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Jatuh Tempo: ",new Date(f.maturity_date).toLocaleDateString("id-ID")]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full mr-4 ${f.status==="ACTIVE"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:f.status}),l.jsx(vi,{className:"text-gray-400"})]})]})},f.id)):!t&&l.jsxs("div",{className:"text-center text-gray-500 py-8",children:[l.jsx(sh,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{children:"Anda belum memiliki rekening deposito."})]})})]})},ny=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),Y8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),o=Un(),[u,f]=O.useState([]),[p,w]=O.useState(""),[y,N]=O.useState("");O.useEffect(()=>{(async()=>{const M=await n("deposit_products_get_list.php");M&&M.status==="success"&&(f(M.data),M.data.length>0&&w(M.data[0].id))})()},[n]);const A=u.find(j=>j.id.toString()===p.toString()),T=async j=>{if(j.preventDefault(),!A)return;if(await i.showConfirmation({title:"Konfirmasi Pembukaan Deposito",message:`Anda akan menempatkan dana sebesar ${ny(y)} pada produk ${A.product_name}. Dana akan diambil dari rekening tabungan Anda. Lanjutkan?`,confirmText:"Ya, Lanjutkan"})){const B=await n("deposit_account_create.php","POST",{product_id:p,amount:y});B&&B.status==="success"?(await i.showAlert({title:"Berhasil",message:B.message,type:"success"}),o("/deposits")):i.showAlert({title:"Gagal",message:e||B?.message,type:"warning"})}};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/deposits",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Buka Deposito Baru"})]}),l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:l.jsxs("form",{onSubmit:T,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"product_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Pilih Produk"}),l.jsx("select",{id:"product_id",name:"product_id",value:p,onChange:j=>w(j.target.value),className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-taskora-green-300",children:u.map(j=>l.jsxs("option",{value:j.id,children:[j.product_name," (",j.interest_rate_pa,"% p.a)"]},j.id))})]}),A&&l.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-md",children:["Tenor: ",A.tenor_months," bulan | Minimum: ",ny(A.min_amount)]}),l.jsx(Se,{name:"amount",type:"number",label:"Jumlah Penempatan Dana (Rp)",value:y,onChange:j=>N(j.target.value),placeholder:"Contoh: 5000000",required:!0})]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-6 border-t pt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t||!p,children:t?"Memproses...":"Buka Deposito"})})]})})]})},ay=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:2}).format(t),Xl=({label:t,value:e})=>l.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e||"-"})]}),G8=()=>{const{depositId:t}=br(),{loading:e,error:n,callApi:i}=ke(),o=yt(),[u,f]=O.useState(null),p=O.useCallback(async()=>{const N=await i(`user_get_deposit_detail.php?id=${t}`);N&&N.status==="success"&&f(N.data)},[i,t]);O.useEffect(()=>{p()},[p]);const w=async()=>{if(await o.showConfirmation({title:"Konfirmasi Pencairan Deposito",message:"Anda akan mencairkan dana pokok beserta bunga ke rekening tabungan Anda. Lanjutkan?",confirmText:"Ya, Cairkan Dana"})){const A=await i("deposit_account_disburse.php","POST",{deposit_id:t});A&&A.status==="success"?(await o.showAlert({title:"Berhasil",message:A.message,type:"success"}),p()):o.showAlert({title:"Gagal",message:n||A?.message,type:"warning"})}};if(e&&!u)return l.jsx("div",{className:"p-4 text-center",children:"Memuat detail..."});if(n)return l.jsx("div",{className:"p-4 text-center text-red-500",children:n});if(!u)return l.jsx("div",{className:"p-4 text-center",children:"Data tidak ditemukan."});const y=new Date(u.maturity_date)<=new Date;return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/deposits",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detail Deposito"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:u.product_name}),l.jsx("p",{className:"text-sm text-gray-500",children:u.account_number})]}),l.jsx("div",{className:"p-4",children:l.jsxs("dl",{className:"divide-y divide-gray-200",children:[l.jsx(Xl,{label:"Status",value:u.status}),l.jsx(Xl,{label:"Pokok Penempatan",value:ay(u.principal)}),l.jsx(Xl,{label:"Suku Bunga",value:`${u.interest_rate_pa}% per tahun`}),l.jsx(Xl,{label:"Tanggal Penempatan",value:new Date(u.placement_date).toLocaleDateString("id-ID")}),l.jsx(Xl,{label:"Tanggal Jatuh Tempo",value:new Date(u.maturity_date).toLocaleDateString("id-ID")}),l.jsx(Xl,{label:"Estimasi Bunga Diperoleh",value:ay(u.interest_earned)})]})}),u.status==="ACTIVE"&&y&&l.jsx("div",{className:"p-4 bg-gray-50 border-t",children:l.jsx(Te,{onClick:w,disabled:e,fullWidth:!0,children:e?"Memproses...":"Cairkan Dana"})})]})]})},W8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),o=Un(),[u,f]=O.useState({qris_image_url:null,bank_accounts:[]}),[p,w]=O.useState(""),[y,N]=O.useState(""),[A,T]=O.useState(""),[j,M]=O.useState(null),[k,B]=O.useState(null);O.useEffect(()=>{(async()=>{const te=await n("utility_get_payment_methods.php");te&&te.status==="success"&&f(te.data)})()},[n]);const F=$=>{const te=$.target.files[0];te&&te.size<2097152?(M(te),B(URL.createObjectURL(te))):te&&i.showAlert({title:"Ukuran File Terlalu Besar",message:"Ukuran file maksimal adalah 2MB.",type:"warning"})},H=$=>{navigator.clipboard.writeText($).then(()=>{i.showAlert({title:"Berhasil",message:"Nomor rekening berhasil disalin.",type:"success"})})},G=async $=>{$.preventDefault();const te=new FormData;te.append("amount",A),te.append("payment_method",p==="bank"?`Transfer ${u.bank_accounts[y].bank_name}`:"QRIS"),te.append("proof",j);const Y=localStorage.getItem("authToken"),ne=await fetch("https://bank.taskora.id/app/user_create_topup_request.php",{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:te}),q=await ne.json();ne.ok&&q.status==="success"?(await i.showAlert({title:"Berhasil",message:q.message,type:"success"}),o("/dashboard")):i.showAlert({title:"Gagal",message:q.message||"Terjadi kesalahan.",type:"warning"})},K=u.bank_accounts[y];return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Isi Saldo"})]}),l.jsxs("form",{onSubmit:G,className:"bg-white p-6 rounded-lg shadow-md space-y-6",children:[l.jsx(Se,{label:"1. Masukkan Jumlah Isi Saldo (Rp)",type:"number",value:A,onChange:$=>T($.target.value),required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"2. Pilih Metode Pembayaran"}),l.jsxs("select",{value:p,onChange:$=>w($.target.value),className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih metode..."}),u.qris_image_url&&l.jsx("option",{value:"qris",children:"QRIS"}),u.bank_accounts.length>0&&l.jsx("option",{value:"bank",children:"Transfer Bank"})]})]}),p==="qris"&&u.qris_image_url&&l.jsxs("div",{className:"text-center p-4 border rounded-lg bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Silakan Pindai QRIS di Bawah"}),l.jsx("div",{className:"w-56 h-56 mx-auto border rounded-lg bg-white p-2 flex items-center justify-center",children:l.jsx("img",{src:u.qris_image_url,alt:"QRIS Code",className:"w-full h-full object-contain"})})]}),p==="bank"&&l.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 space-y-3",children:[l.jsx("h3",{className:"font-semibold",children:"Silakan Transfer ke Rekening Berikut"}),l.jsxs("select",{value:y,onChange:$=>N($.target.value),className:"w-full px-4 py-2 text-gray-800 bg-white border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih bank tujuan..."}),u.bank_accounts.map(($,te)=>l.jsx("option",{value:te,children:$.bank_name},te))]}),K&&l.jsxs("div",{className:"p-3 bg-white rounded-md border text-sm",children:[l.jsx("p",{children:l.jsx("strong",{children:K.bank_name})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"font-mono text-lg",children:K.account_number}),l.jsx("button",{type:"button",onClick:()=>H(K.account_number),className:"p-1 text-gray-500 hover:text-black",children:l.jsx(cA,{size:16})})]}),l.jsxs("p",{children:["a/n ",K.account_name]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"3. Unggah Bukti Pembayaran"}),l.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:l.jsxs("div",{className:"space-y-1 text-center",children:[k?l.jsx("img",{src:k,alt:"Preview",className:"w-32 h-32 mx-auto object-cover"}):l.jsx(Am,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsxs("div",{className:"flex text-sm text-gray-600",children:[l.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-taskora-green-600 hover:text-taskora-green-500",children:[l.jsx("span",{children:"Pilih file"}),l.jsx("input",{id:"file-upload",name:"proof",type:"file",className:"sr-only",onChange:F,required:!0,accept:"image/*"})]}),l.jsx("p",{className:"pl-1",children:"atau seret dan lepas"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hingga 2MB"})]})})]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t,className:"mt-4",children:t?"Mengirim...":"Kirim Konfirmasi"})]})]})},X8=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),q8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),o=Un(),[u,f]=O.useState([]),[p,w]=O.useState({withdrawal_account_id:"",amount:"",pin:""});O.useEffect(()=>{(async()=>{const T=await n("user_get_withdrawal_accounts.php");T&&T.status==="success"&&T.data.length>0&&(f(T.data),w(j=>({...j,withdrawal_account_id:T.data[0].id})))})()},[n]);const y=A=>{const{name:T,value:j}=A.target;w(M=>({...M,[T]:j}))},N=async A=>{A.preventDefault();const T=u.find(M=>M.id.toString()===p.withdrawal_account_id.toString());if(!T){i.showAlert({title:"Error",message:"Silakan pilih rekening tujuan penarikan.",type:"warning"});return}if(await i.showConfirmation({title:"Konfirmasi Penarikan",message:`Anda akan menarik dana sebesar ${X8(p.amount)} ke rekening ${T.bank_name} - ${T.account_number}. Lanjutkan?`,confirmText:"Ya, Lanjutkan"})){const M=await n("user_create_withdrawal_request.php","POST",p);M&&M.status==="success"&&(await i.showAlert({title:"Berhasil",message:M.message,type:"success"}),o("/dashboard"))}};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Tarik Saldo"})]}),l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:u.length===0?l.jsxs("div",{className:"text-center p-4",children:[l.jsx("p",{className:"text-gray-600",children:"Anda belum memiliki rekening penarikan. Silakan tambahkan terlebih dahulu di menu profil."}),l.jsx(Fe,{to:"/profile/withdrawal-accounts",children:l.jsx(Te,{className:"mt-4",children:"Tambah Rekening"})})]}):l.jsxs("form",{onSubmit:N,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Pilih Rekening Tujuan"}),l.jsx("select",{name:"withdrawal_account_id",value:p.withdrawal_account_id,onChange:y,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-taskora-green-300",children:u.map(A=>l.jsxs("option",{value:A.id,children:[A.bank_name," - ",A.account_number," (a/n ",A.account_name,")"]},A.id))})]}),l.jsx(Se,{name:"amount",type:"number",label:"Jumlah Penarikan",value:p.amount,onChange:y,required:!0}),l.jsx(Se,{name:"pin",type:"password",label:"PIN Transaksi",value:p.pin,onChange:y,maxLength:"6",required:!0}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:e}),l.jsx("div",{className:"mt-4 border-t pt-4",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t,children:t?"Memproses...":"Tarik Saldo"})})]})})]})},K8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState(!1),[w,y]=O.useState({bank_name:"",account_number:"",account_name:""}),N=O.useCallback(async()=>{const M=await n("user_get_withdrawal_accounts.php");M&&M.status==="success"&&u(M.data)},[n]);O.useEffect(()=>{N()},[N]);const A=M=>{const{name:k,value:B}=M.target;y(F=>({...F,[k]:B}))},T=async M=>{M.preventDefault();const k=await n("user_add_withdrawal_account.php","POST",w);k&&k.status==="success"&&(y({bank_name:"",account_number:"",account_name:""}),p(!1),N())},j=async M=>{await i.showConfirmation({title:"Hapus Rekening?",message:"Anda yakin ingin menghapus rekening tujuan ini?"})&&i.showAlert({title:"Info",message:"Fitur hapus belum tersedia di backend."})};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/profile",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Rekening Penarikan"})]}),!f&&l.jsxs(Te,{onClick:()=>p(!0),fullWidth:!0,className:"mb-4",children:[l.jsx(bs,{size:20,className:"mr-2"})," Tambah Rekening Baru"]}),f&&l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-4",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Form Rekening Baru"}),l.jsxs("form",{onSubmit:T,className:"space-y-3",children:[l.jsx(Se,{name:"bank_name",label:"Nama Bank",value:w.bank_name,onChange:A,required:!0}),l.jsx(Se,{name:"account_number",label:"Nomor Rekening",value:w.account_number,onChange:A,required:!0}),l.jsx(Se,{name:"account_name",label:"Nama Pemilik Rekening",value:w.account_name,onChange:A,required:!0}),e&&l.jsx("p",{className:"text-red-500 text-sm",children:e}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(Te,{type:"button",onClick:()=>p(!1),className:"bg-gray-200 text-gray-800",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:t,children:t?"Menyimpan...":"Simpan"})]})]})]}),l.jsx("div",{className:"space-y-3",children:o.map(M=>l.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:M.bank_name}),l.jsx("p",{className:"text-sm",children:M.account_number}),l.jsx("p",{className:"text-xs text-gray-500",children:M.account_name})]}),l.jsx("button",{onClick:()=>j(M.id),className:"text-red-500 hover:text-red-700 p-2",children:l.jsx(no,{size:18})})]},M.id))})]})},P0=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),Z8=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),o=Un(),[u,f]=O.useState(1),[p,w]=O.useState([]),[y,N]=O.useState({}),[A,T]=O.useState(""),[j,M]=O.useState({product_code:"",customer_no:""}),[k,B]=O.useState(null),[F,H]=O.useState(""),G=O.useCallback(async()=>{const ne=await n("utility_get_billers.php");if(ne&&ne.status==="success"&&Array.isArray(ne.data)){const q=ne.data.filter(Ae=>Ae.category!=="Games");w(q);const we=q.reduce((Ae,me)=>{const Re=me.category||"Lainnya";return Ae[Re]||(Ae[Re]=[]),Ae[Re].push(me),Ae},{});N(we)}},[n]);O.useEffect(()=>{G()},[G]);const K=ne=>{M(q=>({...q,[ne.target.name]:ne.target.value}))},$=ne=>{T(ne.target.value),M(q=>({...q,product_code:""}))},te=async ne=>{ne.preventDefault();const q=p.find(we=>we.buyer_sku_code===j.product_code);if(!q){i.showAlert({title:"Error",message:"Silakan pilih produk yang valid.",type:"warning"});return}if(q.type.toLowerCase()==="pasca"){const we=await n("bill_payment_inquiry.php","POST",j);we&&we.status==="success"&&(B({...we.data,product_code:j.product_code}),f(2))}else B({product_name:q.product_name,customer_name:"N/A",customer_no:j.customer_no,selling_price:q.price,admin_fee:0,total_amount:q.price,product_code:j.product_code,description:q.product_name}),f(2)},Y=async ne=>{ne.preventDefault();const q={pin:F,buyer_sku_code:k.product_code,customer_no:k.customer_no,amount:k.selling_price,fee:k.admin_fee,total:k.total_amount,description:k.product_name},we=await n("bill_payment_execute.php","POST",q);we&&we.status==="success"&&(await i.showAlert({title:"Permintaan Terkirim",message:we.message,type:"success"}),o("/dashboard"))};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Bayar & Beli"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mx-auto",children:[u===1&&l.jsxs("form",{onSubmit:te,className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Langkah 1: Pilih Produk & Tujuan"}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Pilih Kategori"}),l.jsxs("select",{value:A,onChange:$,className:"w-full p-2 border rounded-lg bg-gray-50",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"-- Pilih Kategori --"}),Object.keys(y).sort().map(ne=>l.jsx("option",{value:ne,children:ne},ne))]})]}),A&&l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Pilih Produk"}),l.jsxs("select",{name:"product_code",value:j.product_code,onChange:K,className:"w-full p-2 border rounded-lg bg-gray-50",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"-- Pilih Produk --"}),y[A].map(ne=>l.jsx("option",{value:ne.buyer_sku_code,children:ne.product_name},ne.buyer_sku_code))]})]}),l.jsx(Se,{name:"customer_no",label:"Nomor Tujuan / ID Pelanggan",value:j.customer_no,onChange:K,required:!0}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(Na,{className:"animate-spin mr-2"})," Mengecek..."]}):"Lanjutkan"})})]}),u===2&&k&&l.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Langkah 2: Konfirmasi Pembayaran"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-sm space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Produk"}),l.jsx("span",{className:"font-semibold text-right",children:k.product_name})]}),k.customer_name&&k.customer_name!=="N/A"&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Nama Pelanggan"}),l.jsx("span",{className:"font-semibold text-right",children:k.customer_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Nomor Tujuan"}),l.jsx("span",{className:"font-semibold text-right",children:k.customer_no})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Harga"}),l.jsx("span",{className:"font-semibold text-right",children:P0(k.selling_price)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500",children:"Biaya Admin"}),l.jsx("span",{className:"font-semibold text-right",children:P0(k.admin_fee)})]}),l.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[l.jsx("span",{children:"Total Bayar"}),l.jsx("span",{className:"text-taskora-green-700",children:P0(k.total_amount)})]})]}),l.jsx(Se,{name:"pin",type:"password",label:"Masukkan PIN",value:F,onChange:ne=>H(ne.target.value),required:!0,maxLength:"6"}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsxs("div",{className:"mt-6 flex gap-2",children:[l.jsx(Te,{type:"button",onClick:()=>f(1),className:"bg-gray-200 text-gray-800",children:"Kembali"}),l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(Na,{className:"animate-spin mr-2"})," Memproses..."]}):"Bayar Sekarang"})]})]})]})]})},sy=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Q8=t=>t>=1e9?(t/1e9).toFixed(2)+" M":t>=1e6?(t/1e6).toFixed(2)+" Jt":t>=1e3?(t/1e3).toFixed(1)+" Rb":t,J8=({stock:t})=>{const e=t.change>0,n=t.change<0,i=t.change_percent*100,o=e?"text-green-600":n?"text-red-600":"text-gray-500";return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200 hover:shadow-lg transition-shadow duration-200 flex items-center",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-bold text-gray-800 text-base",children:t.name}),l.jsx("p",{className:"text-sm text-gray-500 font-semibold",children:t.code}),l.jsxs("div",{className:"mt-2 flex items-baseline space-x-2",children:[l.jsx("p",{className:"text-xl font-bold text-gray-900",children:sy(t.price_new)}),l.jsxs("div",{className:`flex items-center text-sm font-semibold ${o}`,children:[e&&l.jsx(ih,{size:16}),n&&l.jsx(iS,{size:16}),l.jsx("span",{children:sy(t.change)})]})]})]}),l.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[l.jsxs("div",{className:`px-3 py-1.5 rounded-md text-base font-bold ${o}`,children:[i.toFixed(2),"%"]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-center justify-end gap-1",children:[l.jsx(ZN,{size:14}),l.jsx("span",{children:Q8(t.volume)})]})]})]})},$8=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState(null),p=O.useCallback(async()=>{const w=await n("utility_get_market_data.php");w&&w.status==="success"&&w.data.stocks&&(o(w.data.stocks),f(new Date(w.last_updated)))},[n]);return O.useEffect(()=>{p();const w=setInterval(p,15e3);return()=>clearInterval(w)},[p]),l.jsxs("div",{children:[l.jsxs(Fe,{to:"/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pasar Saham"})]}),t&&i.length===0&&l.jsx("p",{className:"text-center p-8",children:"Memuat data pasar..."}),e&&l.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",role:"alert",children:[l.jsx("p",{className:"font-bold",children:"Terjadi Kesalahan"}),l.jsx("p",{children:e})]}),l.jsx("div",{className:"space-y-3",children:i.map(w=>l.jsx(J8,{stock:w},w.code))}),l.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500 flex items-center justify-center gap-2",children:[l.jsx(_m,{size:14}),l.jsxs("span",{children:["Data diperbarui dari sumber publik.",u&&` Terakhir update: ${u.toLocaleTimeString("id-ID")}`]})]})]})},z0=t=>t==null?"Rp 0":t>=1e9?`Rp ${(t/1e9).toFixed(2)} Miliar`:t>=1e6?`Rp ${(t/1e6).toFixed(1)} Juta`:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),ej=({icon:t,title:e,value:n,isLoading:i})=>l.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:i?l.jsxs("div",{className:"animate-pulse flex space-x-4",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-12 w-12"}),l.jsxs("div",{className:"flex-1 space-y-3 py-1",children:[l.jsx("div",{className:"h-2 bg-gray-200 rounded"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]}):l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-full bg-blue-100 ${Ht.theme.textPrimary} mr-4`,children:t}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),l.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]})]})}),tj=({isLoading:t,stats:e})=>{const n=[{icon:l.jsx(gr,{}),title:"Pendapatan Biaya (Bln Ini)",value:e?z0(e.fee_revenue_monthly):"Rp 0"},{icon:l.jsx(Uc,{}),title:"Total Dana Nasabah",value:e?z0(e.total_customer_funds):"Rp 0"},{icon:l.jsx(Hc,{}),title:"Portofolio Pinjaman Aktif",value:e?z0(e.outstanding_loan_portfolio):"Rp 0"},{icon:l.jsx(Yc,{}),title:"Nasabah Baru (Bln Ini)",value:e?(e.new_customers_monthly||0).toLocaleString("id-ID"):"0"}];return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((i,o)=>l.jsx(ej,{icon:i.icon,title:i.title,value:i.value,isLoading:t||!e},o))})};al.register(Hm,Vm,Ub,Wc,Um,mh,fh,Gb);const rw=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState(null),u=O.useCallback(async()=>{const p=await n("admin_get_customer_growth_report.php");if(p&&p.status==="success"){const w={labels:p.data.map(y=>new Date(y.registration_date).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})),datasets:[{label:"Nasabah Baru",data:p.data.map(y=>y.new_customers),borderColor:Ht.theme.colors.BPN_BLUE,backgroundColor:"rgba(20, 83, 136, 0.1)",fill:!0,tension:.4}]};o(w)}},[n]);O.useEffect(()=>{u()},[u]);const f={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{precision:0}},x:{grid:{display:!1}}},plugins:{legend:{display:!1}}};return t?l.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:"Memuat data grafik..."}):e?l.jsx("div",{className:"h-80 flex items-center justify-center text-red-500",children:e}):i?l.jsx("div",{className:"h-80 relative",children:l.jsx(Jb,{data:i,options:f})}):l.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:"Tidak ada data untuk ditampilkan."})},lw=6048e5,nj=864e5,ow=6e4,cw=36e5,Ed=43200,iy=1440,ry=Symbol.for("constructDateFrom");function Us(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ry in t?t[ry](e):t instanceof Date?new t.constructor(e):new Date(e)}function kn(t,e){return Us(e||t,t)}let aj={};function Xc(){return aj}function Lc(t,e){const n=Xc(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=kn(t,e?.in),u=o.getDay(),f=(u<i?7:0)+u-i;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Qd(t,e){return Lc(t,{...e,weekStartsOn:1})}function uw(t,e){const n=kn(t,e?.in),i=n.getFullYear(),o=Us(n,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const u=Qd(o),f=Us(n,0);f.setFullYear(i,0,4),f.setHours(0,0,0,0);const p=Qd(f);return n.getTime()>=u.getTime()?i+1:n.getTime()>=p.getTime()?i:i-1}function Jd(t){const e=kn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function xh(t,...e){const n=Us.bind(null,t||e.find(i=>typeof i=="object"));return e.map(n)}function ly(t,e){const n=kn(t,e?.in);return n.setHours(0,0,0,0),n}function sj(t,e,n){const[i,o]=xh(n?.in,t,e),u=ly(i),f=ly(o),p=+u-Jd(u),w=+f-Jd(f);return Math.round((p-w)/nj)}function ij(t,e){const n=uw(t,e),i=Us(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Qd(i)}function Bd(t,e){const n=+kn(t)-+kn(e);return n<0?-1:n>0?1:n}function rj(t){return Us(t,Date.now())}function lj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oj(t){return!(!lj(t)&&typeof t!="number"||isNaN(+kn(t)))}function cj(t,e,n){const[i,o]=xh(n?.in,t,e),u=i.getFullYear()-o.getFullYear(),f=i.getMonth()-o.getMonth();return u*12+f}function uj(t){return e=>{const i=(t?Math[t]:Math.trunc)(e);return i===0?0:i}}function dj(t,e){return+kn(t)-+kn(e)}function hj(t,e){const n=kn(t,e?.in);return n.setHours(23,59,59,999),n}function fj(t,e){const n=kn(t,e?.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function mj(t,e){const n=kn(t,e?.in);return+hj(n,e)==+fj(n,e)}function gj(t,e,n){const[i,o,u]=xh(n?.in,t,t,e),f=Bd(o,u),p=Math.abs(cj(o,u));if(p<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-f*p);let w=Bd(o,u)===-f;mj(i)&&p===1&&Bd(i,u)===1&&(w=!1);const y=f*(p-+w);return y===0?0:y}function xj(t,e,n){const i=dj(t,e)/1e3;return uj(n?.roundingMethod)(i)}function pj(t,e){const n=kn(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bj=(t,e,n)=>{let i;const o=yj[t];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function eo(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_j={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nj={date:eo({formats:wj,defaultWidth:"full"}),time:eo({formats:_j,defaultWidth:"full"}),dateTime:eo({formats:vj,defaultWidth:"full"})},Aj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sj=(t,e,n,i)=>Aj[t];function Ps(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let o;if(i==="formatting"&&t.formattingValues){const f=t.defaultFormattingWidth||t.defaultWidth,p=n?.width?String(n.width):f;o=t.formattingValues[p]||t.formattingValues[f]}else{const f=t.defaultWidth,p=n?.width?String(n.width):t.defaultWidth;o=t.values[p]||t.values[f]}const u=t.argumentCallback?t.argumentCallback(e):e;return o[u]}}const Cj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ej={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kj=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ij={ordinalNumber:kj,era:Ps({values:Cj,defaultWidth:"wide"}),quarter:Ps({values:Ej,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ps({values:Tj,defaultWidth:"wide"}),day:Ps({values:jj,defaultWidth:"wide"}),dayPeriod:Ps({values:Mj,defaultWidth:"wide",formattingValues:Dj,defaultFormattingWidth:"wide"})};function zs(t){return(e,n={})=>{const i=n.width,o=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],p=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],w=Array.isArray(p)?Rj(p,A=>A.test(f)):Oj(p,A=>A.test(f));let y;y=t.valueCallback?t.valueCallback(w):w,y=n.valueCallback?n.valueCallback(y):y;const N=e.slice(f.length);return{value:y,rest:N}}}function Oj(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Rj(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dw(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const o=i[0],u=e.match(t.parsePattern);if(!u)return null;let f=t.valueCallback?t.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(o.length);return{value:f,rest:p}}}const Lj=/^(\d+)(th|st|nd|rd)?/i,Bj=/\d+/i,Pj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zj={any:[/^b/i,/^(a|c)/i]},Fj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uj={any:[/1/i,/2/i,/3/i,/4/i]},Hj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Yj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qj={ordinalNumber:dw({matchPattern:Lj,parsePattern:Bj,valueCallback:t=>parseInt(t,10)}),era:zs({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:zj,defaultParseWidth:"any"}),quarter:zs({matchPatterns:Fj,defaultMatchWidth:"wide",parsePatterns:Uj,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zs({matchPatterns:Hj,defaultMatchWidth:"wide",parsePatterns:Vj,defaultParseWidth:"any"}),day:zs({matchPatterns:Yj,defaultMatchWidth:"wide",parsePatterns:Gj,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:Wj,defaultMatchWidth:"any",parsePatterns:Xj,defaultParseWidth:"any"})},hw={code:"en-US",formatDistance:bj,formatLong:Nj,formatRelative:Sj,localize:Ij,match:qj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kj(t,e){const n=kn(t,e?.in);return sj(n,pj(n))+1}function Zj(t,e){const n=kn(t,e?.in),i=+Qd(n)-+ij(n);return Math.round(i/lw)+1}function fw(t,e){const n=kn(t,e?.in),i=n.getFullYear(),o=Xc(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=Us(e?.in||t,0);f.setFullYear(i+1,0,u),f.setHours(0,0,0,0);const p=Lc(f,e),w=Us(e?.in||t,0);w.setFullYear(i,0,u),w.setHours(0,0,0,0);const y=Lc(w,e);return+n>=+p?i+1:+n>=+y?i:i-1}function Qj(t,e){const n=Xc(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=fw(t,e),u=Us(e?.in||t,0);return u.setFullYear(o,0,i),u.setHours(0,0,0,0),Lc(u,e)}function Jj(t,e){const n=kn(t,e?.in),i=+Lc(n,e)-+Qj(n,e);return Math.round(i/lw)+1}function Pt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const ur={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Pt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pt(n+1,2)},d(t,e){return Pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pt(t.getHours()%12||12,e.length)},H(t,e){return Pt(t.getHours(),e.length)},m(t,e){return Pt(t.getMinutes(),e.length)},s(t,e){return Pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),o=Math.trunc(i*Math.pow(10,n-3));return Pt(o,e.length)}},ql={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oy={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return ur.y(t,e)},Y:function(t,e,n,i){const o=fw(t,i),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Pt(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Pt(u,e.length)},R:function(t,e){const n=uw(t);return Pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Pt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Pt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return ur.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Pt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const o=Jj(t,i);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Pt(o,e.length)},I:function(t,e,n){const i=Zj(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Pt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ur.d(t,e)},D:function(t,e,n){const i=Kj(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Pt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const o=t.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Pt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const o=t.getDay(),u=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Pt(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Pt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let o;switch(i===12?o=ql.noon:i===0?o=ql.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let o;switch(i>=17?o=ql.evening:i>=12?o=ql.afternoon:i>=4?o=ql.morning:o=ql.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ur.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ur.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Pt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Pt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ur.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ur.s(t,e)},S:function(t,e){return ur.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return uy(i);case"XXXX":case"XX":return Qr(i);default:return Qr(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return uy(i);case"xxxx":case"xx":return Qr(i);default:return Qr(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cy(i,":");default:return"GMT"+Qr(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cy(i,":");default:return"GMT"+Qr(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Pt(i,e.length)},T:function(t,e,n){return Pt(+t,e.length)}};function cy(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),o=Math.trunc(i/60),u=i%60;return u===0?n+String(o):n+String(o)+e+Pt(u,2)}function uy(t,e){return t%60===0?(t>0?"-":"+")+Pt(Math.abs(t)/60,2):Qr(t,e)}function Qr(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),o=Pt(Math.trunc(i/60),2),u=Pt(i%60,2);return n+o+e+u}const dy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},mw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},$j=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return dy(t,e);let u;switch(i){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",dy(i,e)).replace("{{time}}",mw(o,e))},e6={p:mw,P:$j},t6=/^D+$/,n6=/^Y+$/,a6=["D","DD","YY","YYYY"];function s6(t){return t6.test(t)}function i6(t){return n6.test(t)}function r6(t,e,n){const i=l6(t,e,n);if(console.warn(i),a6.includes(t))throw new RangeError(i)}function l6(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u6=/^'([^]*?)'?$/,d6=/''/g,h6=/[a-zA-Z]/;function f6(t,e,n){const i=Xc(),o=n?.locale??i.locale??hw,u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,p=kn(t,n?.in);if(!oj(p))throw new RangeError("Invalid time value");let w=e.match(c6).map(N=>{const A=N[0];if(A==="p"||A==="P"){const T=e6[A];return T(N,o.formatLong)}return N}).join("").match(o6).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const A=N[0];if(A==="'")return{isToken:!1,value:m6(N)};if(oy[A])return{isToken:!0,value:N};if(A.match(h6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(w=o.localize.preprocessor(p,w));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return w.map(N=>{if(!N.isToken)return N.value;const A=N.value;(!n?.useAdditionalWeekYearTokens&&i6(A)||!n?.useAdditionalDayOfYearTokens&&s6(A))&&r6(A,e,String(t));const T=oy[A[0]];return T(p,A,o.localize,y)}).join("")}function m6(t){const e=t.match(u6);return e?e[1].replace(d6,"'"):t}function g6(t,e,n){const i=Xc(),o=n?.locale??i.locale??hw,u=2520,f=Bd(t,e);if(isNaN(f))throw new RangeError("Invalid time value");const p=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:f}),[w,y]=xh(n?.in,...f>0?[e,t]:[t,e]),N=xj(y,w),A=(Jd(y)-Jd(w))/1e3,T=Math.round((N-A)/60);let j;if(T<2)return n?.includeSeconds?N<5?o.formatDistance("lessThanXSeconds",5,p):N<10?o.formatDistance("lessThanXSeconds",10,p):N<20?o.formatDistance("lessThanXSeconds",20,p):N<40?o.formatDistance("halfAMinute",0,p):N<60?o.formatDistance("lessThanXMinutes",1,p):o.formatDistance("xMinutes",1,p):T===0?o.formatDistance("lessThanXMinutes",1,p):o.formatDistance("xMinutes",T,p);if(T<45)return o.formatDistance("xMinutes",T,p);if(T<90)return o.formatDistance("aboutXHours",1,p);if(T<iy){const M=Math.round(T/60);return o.formatDistance("aboutXHours",M,p)}else{if(T<u)return o.formatDistance("xDays",1,p);if(T<Ed){const M=Math.round(T/iy);return o.formatDistance("xDays",M,p)}else if(T<Ed*2)return j=Math.round(T/Ed),o.formatDistance("aboutXMonths",j,p)}if(j=gj(y,w),j<12){const M=Math.round(T/Ed);return o.formatDistance("xMonths",M,p)}else{const M=j%12,k=Math.trunc(j/12);return M<3?o.formatDistance("aboutXYears",k,p):M<9?o.formatDistance("overXYears",k,p):o.formatDistance("almostXYears",k+1,p)}}function x6(t,e){return g6(t,rj(t),e)}function p6(t,e){const n=()=>Us(e?.in,NaN),o=_6(t);let u;if(o.date){const y=v6(o.date,2);u=N6(y.restDateString,y.year)}if(!u||isNaN(+u))return n();const f=+u;let p=0,w;if(o.time&&(p=A6(o.time),isNaN(p)))return n();if(o.timezone){if(w=S6(o.timezone),isNaN(w))return n()}else{const y=new Date(f+p),N=kn(0,e?.in);return N.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),N.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),N}return kn(f+p+w,e?.in)}const Td={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},y6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,w6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _6(t){const e={},n=t.split(Td.dateTimeDelimiter);let i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],Td.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Td.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){const o=Td.timezone.exec(i);o?(e.time=i.replace(o[1],""),e.timezone=o[1]):e.time=i}return e}function v6(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};const o=i[1]?parseInt(i[1]):null,u=i[2]?parseInt(i[2]):null;return{year:u===null?o:u*100,restDateString:t.slice((i[1]||i[2]).length)}}function N6(t,e){if(e===null)return new Date(NaN);const n=t.match(y6);if(!n)return new Date(NaN);const i=!!n[4],o=hc(n[1]),u=hc(n[2])-1,f=hc(n[3]),p=hc(n[4]),w=hc(n[5])-1;if(i)return M6(e,p,w)?C6(e,p,w):new Date(NaN);{const y=new Date(0);return!T6(e,u,f)||!j6(e,o)?new Date(NaN):(y.setUTCFullYear(e,u,Math.max(o,f)),y)}}function hc(t){return t?parseInt(t):1}function A6(t){const e=t.match(b6);if(!e)return NaN;const n=F0(e[1]),i=F0(e[2]),o=F0(e[3]);return D6(n,i,o)?n*cw+i*ow+o*1e3:NaN}function F0(t){return t&&parseFloat(t.replace(",","."))||0}function S6(t){if(t==="Z")return 0;const e=t.match(w6);if(!e)return 0;const n=e[1]==="+"?-1:1,i=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return k6(i,o)?n*(i*cw+o*ow):NaN}function C6(t,e,n){const i=new Date(0);i.setUTCFullYear(t,0,4);const o=i.getUTCDay()||7,u=(e-1)*7+n+1-o;return i.setUTCDate(i.getUTCDate()+u),i}const E6=[31,null,31,30,31,30,31,31,30,31,30,31];function gw(t){return t%400===0||t%4===0&&t%100!==0}function T6(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(E6[e]||(gw(t)?29:28))}function j6(t,e){return e>=1&&e<=(gw(t)?366:365)}function M6(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function D6(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function k6(t,e){return e>=0&&e<=59}const I6={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},O6=(t,e,n)=>{let i;const o=I6[t];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+i:i+" yang lalu":i},R6={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},L6={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},B6={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P6={date:eo({formats:R6,defaultWidth:"full"}),time:eo({formats:L6,defaultWidth:"full"}),dateTime:eo({formats:B6,defaultWidth:"full"})},z6={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},F6=(t,e,n,i)=>z6[t],U6={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},H6={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},V6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},Y6={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},G6={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},W6={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},X6=(t,e)=>"ke-"+Number(t),q6={ordinalNumber:X6,era:Ps({values:U6,defaultWidth:"wide"}),quarter:Ps({values:H6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ps({values:V6,defaultWidth:"wide"}),day:Ps({values:Y6,defaultWidth:"wide"}),dayPeriod:Ps({values:G6,defaultWidth:"wide",formattingValues:W6,defaultFormattingWidth:"wide"})},K6=/^ke-(\d+)?/i,Z6=/\d+/i,Q6={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},J6={any:[/^s/i,/^(m|e)/i]},$6={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},eM={any:[/1/i,/2/i,/3/i,/4/i]},tM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},nM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},aM={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},sM={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},iM={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},rM={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},lM={ordinalNumber:dw({matchPattern:K6,parsePattern:Z6,valueCallback:t=>parseInt(t,10)}),era:zs({matchPatterns:Q6,defaultMatchWidth:"wide",parsePatterns:J6,defaultParseWidth:"any"}),quarter:zs({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:eM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zs({matchPatterns:tM,defaultMatchWidth:"wide",parsePatterns:nM,defaultParseWidth:"any"}),day:zs({matchPatterns:aM,defaultMatchWidth:"wide",parsePatterns:sM,defaultParseWidth:"any"}),dayPeriod:zs({matchPatterns:iM,defaultMatchWidth:"any",parsePatterns:rM,defaultParseWidth:"any"})},xw={code:"id",formatDistance:O6,formatLong:P6,formatRelative:F6,localize:q6,match:lM,options:{weekStartsOn:1,firstWeekContainsDate:1}},oM=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),cM=({type:t})=>{const e={size:20,className:"text-gray-600"};let n;switch(t){case"SETOR_TUNAI":n=l.jsx(zd,{...e});break;case"TARIK_TUNAI":case"PENARIKAN_DANA":n=l.jsx(Fd,{...e});break;case"TRANSFER_INTERNAL":case"TRANSFER_EKSTERNAL":n=l.jsx(ON,{...e});break;case"BAYAR_CICILAN":case"PENCAIRAN_PINJAMAN":n=l.jsx(Hc,{...e});break;case"PEMBUKAAN_DEPOSITO":case"PENCAIRAN_DEPOSITO":n=l.jsx(Fc,{...e});break;default:n=l.jsx(Yy,{...e})}return l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex-shrink-0 mr-4 flex items-center justify-center",children:n})},hy=({activity:t,isLoading:e})=>{if(e||!t)return l.jsxs("div",{className:"animate-pulse flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-3 bg-gray-200 rounded w-4/5"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/5"})]})]});const n=x6(new Date(t.created_at),{addSuffix:!0,locale:xw}),i=t.transaction_type.toLowerCase().replace(/_/g," ");return l.jsxs("div",{className:"flex items-center",children:[l.jsx(cM,{type:t.transaction_type}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("p",{className:"text-sm text-gray-800",children:[l.jsx("span",{className:"font-semibold",children:t.full_name})," melakukan ",i]}),l.jsx("p",{className:"text-xs text-gray-500",children:n})]}),l.jsx("div",{className:"text-sm font-semibold text-gray-900",children:oM(t.amount)})]})},fc=({icon:t,count:e,title:n,link:i,isLoading:o})=>l.jsx(Fe,{to:i,className:"block p-4 bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors border",children:o?l.jsxs("div",{className:"animate-pulse flex items-center",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 mr-4"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/2"})]})]}):l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 rounded-lg bg-gray-100 text-gray-600 mr-4",children:t}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-500",children:n}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:e})]}),l.jsx(vi,{className:"text-gray-400"})]})}),uM=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState(null),u=O.useCallback(async()=>{const f=await n("admin_get_dashboard_summary.php");f&&f.status==="success"&&o(f.data)},[n]);return O.useEffect(()=>{u()},[u]),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Dasbor Admin"}),e&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",role:"alert",children:e}),l.jsx(tj,{isLoading:t||!i,stats:i?.kpi}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pertumbuhan Nasabah (30 Hari Terakhir)"}),l.jsx(rw,{})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tugas & Persetujuan"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase pt-2",children:"PERSETUJUAN BARU"}),l.jsx(fc,{icon:l.jsx(Ud,{size:20}),title:"Permintaan Isi Saldo",count:i?.tasks?.pendingTopups??0,link:"/admin/topup-requests",isLoading:t||!i}),l.jsx(fc,{icon:l.jsx(Am,{size:20}),title:"Permintaan Penarikan",count:i?.tasks?.pendingWithdrawals??0,link:"/admin/withdrawal-requests",isLoading:t||!i}),l.jsx(fc,{icon:l.jsx(wm,{size:20}),title:"Pengajuan Pinjaman",count:i?.tasks?.pendingLoans??0,link:"/admin/loan-applications",isLoading:t||!i}),l.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase pt-4",children:"TUGAS PENCAIRAN DANA"}),l.jsx(fc,{icon:l.jsx(gr,{size:20,className:"text-blue-600"}),title:"Pencairan Pinjaman",count:i?.tasks?.pendingLoanDisbursements??0,link:"/admin/loan-applications",isLoading:t||!i}),l.jsx(fc,{icon:l.jsx(gr,{size:20,className:"text-green-600"}),title:"Pencairan Penarikan",count:i?.tasks?.pendingWithdrawalDisbursements??0,link:"/admin/withdrawal-requests",isLoading:t||!i})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Aktivitas Terbaru"}),l.jsx("div",{className:"space-y-4",children:t||!i?Array(5).fill(0).map((f,p)=>l.jsx(hy,{isLoading:!0},`loader-${p}`)):i.recentActivities?.length>0?i.recentActivities.map(f=>l.jsx(hy,{activity:f},f.id)):l.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:"Belum ada aktivitas."})})]})]})]})]})},dM=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState({}),[p,w]=O.useState(1),[y,N]=O.useState(""),[A,T]=O.useState(""),j=Un(),M=O.useCallback(async(B,F)=>{const H=await n(`admin_get_customers.php?page=${B}&limit=10&search=${encodeURIComponent(F)}`);H&&H.status==="success"&&(o(H.data),f(H.pagination))},[n]);O.useEffect(()=>{const B=setTimeout(()=>{T(y)},500);return()=>clearTimeout(B)},[y]),O.useEffect(()=>{M(p,A)},[p,A,M]);const k=B=>{N(B.target.value),w(1)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manajemen Nasabah"}),l.jsxs("div",{className:"w-full md:w-auto flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("input",{type:"text",placeholder:"Cari nama, email, atau ID...",value:y,onChange:k,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-bpn-blue-700"}),l.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),l.jsxs(Te,{onClick:()=>j("/admin/customers/add"),className:"flex items-center gap-2 px-4 py-2",children:[l.jsx(bs,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Tambah"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-max",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsx("tr",{children:["ID Bank","Nama Lengkap","Email","Status","Tgl. Daftar","Aksi"].map(B=>l.jsx("th",{className:"text-left text-sm font-semibold text-gray-600 px-6 py-3",children:B},B))})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center p-8 text-gray-500",children:"Memuat data..."})}):e?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center p-8 text-red-500",children:e})}):i.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"text-center p-8 text-gray-500",children:"Tidak ada data nasabah ditemukan."})}):i.map(B=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:B.bank_id}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B.full_name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B.email}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${B.status==="ACTIVE"?"bg-green-100 text-green-800":B.status==="DORMANT"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:B.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(B.created_at).toLocaleDateString("id-ID")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("div",{className:"flex gap-2",children:l.jsx(Fe,{to:`/admin/customers/${B.id}`,className:"text-gray-500 hover:text-bpn-blue-700",children:l.jsx(Ec,{size:18})})})})]},B.id))})]})}),l.jsxs("div",{className:"flex justify-between items-center px-6 py-3 border-t border-gray-200",children:[l.jsxs("button",{onClick:()=>w(p-1),disabled:p<=1||t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(nh,{size:16})," Sebelumnya"]}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Halaman ",u.current_page||0," dari ",u.total_pages||0]}),l.jsxs("button",{onClick:()=>w(p+1),disabled:p>=u.total_pages||t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:["Berikutnya ",l.jsx(vi,{size:16})]})]})]})]})},qr=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),U0=t=>t?new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-",hM=(t,e)=>!t||!e?"-":`${t} ${{HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"}[e]||e}`,_c=({title:t,icon:e,children:n})=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"px-4 py-4 sm:px-6 border-b bg-gray-50",children:l.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:[e,l.jsx("span",{className:"ml-3",children:t})]})}),l.jsx("div",{className:"px-4 py-4 sm:p-6",children:n})]}),fi=({label:t,value:e})=>l.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e||"-"})]}),fy=({label:t,path:e})=>{if(!e)return null;const n=`${Ht.api.baseUrl.replace("/app","")}${e}`;return l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-600",children:t}),l.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:n,alt:t,className:"mt-2 rounded-lg border w-full object-cover cursor-pointer hover:opacity-80 transition-opacity",onError:i=>{i.target.onerror=null,i.target.src="https://placehold.co/400x250/EEE/31343C?text=Gagal+Muat"}})})]})},fM=({customer:t,onStatusChange:e})=>{const{loading:n,callApi:i}=ke(),o=yt(),u=async(y,N,A,T)=>{if(await o.showConfirmation({title:A,message:T,confirmText:`Ya, ${N}`})){const M=await i("admin_update_customer_status.php","POST",{customer_id:t.id,new_status:y});M&&M.status==="success"?(o.showAlert({title:"Berhasil",message:M.message,type:"success"}),e()):o.showAlert({title:"Gagal",message:M.message||"Terjadi kesalahan",type:"warning"})}},f=()=>{switch(t.status){case"DORMANT":return l.jsx("button",{onClick:()=>u("ACTIVE","Aktifkan Akun","Konfirmasi Aktivasi Akun",`Anda yakin ingin mengaktifkan kembali akun DORMANT untuk nasabah ${t.full_name}?`),disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold hover:bg-blue-700 disabled:opacity-50",children:n?"Memproses...":"Aktifkan (Dormant)"});case"BLOCKED":return l.jsx("button",{onClick:()=>u("ACTIVE","Buka Blokir","Konfirmasi Buka Blokir",`Anda yakin ingin membuka blokir akun untuk nasabah ${t.full_name}?`),disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-semibold hover:bg-green-700 disabled:opacity-50",children:n?"Memproses...":"Buka Blokir"});case"ACTIVE":return l.jsx("button",{onClick:()=>u("BLOCKED","Blokir Akun","Konfirmasi Blokir Akun",`Anda yakin ingin memblokir akun untuk nasabah ${t.full_name}?`),disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-semibold hover:bg-red-700 disabled:opacity-50",children:n?"Memproses...":"Blokir Akun"});default:return null}},p={ACTIVE:{text:"Aktif",color:"bg-green-100 text-green-800"},DORMANT:{text:"Dormant",color:"bg-yellow-100 text-yellow-800"},BLOCKED:{text:"Diblokir",color:"bg-red-100 text-red-800"},CLOSED:{text:"Ditutup",color:"bg-gray-100 text-gray-800"}},w=p[t.status]||p.CLOSED;return l.jsx(_c,{title:"Status Akun & Tindakan",icon:l.jsx(ZA,{size:20}),children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Status Saat Ini"}),l.jsx("span",{className:`mt-1 inline-block px-3 py-1 text-sm font-semibold rounded-full ${w.color}`,children:w.text})]}),l.jsx("div",{children:f()})]})})};function mM(){const{customerId:t}=br(),{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState(null),[f,p]=O.useState(null),w=yt(),y=async()=>{const k=await i(`admin_get_customer_detail.php?id=${t}`);k&&k.status==="success"&&u(k.data)};O.useEffect(()=>{y()},[i,t]);const N=k=>{p(B=>B===k?null:k)},A=async(k,B)=>{const F=parseFloat(k.amount_due)+parseFloat(k.penalty_amount||0);if(await w.showConfirmation({title:"Konfirmasi Potong Saldo",message:`Anda akan memotong saldo sebesar ${qr(F)} dari rekening ${B} untuk membayar angsuran #${k.installment_number}. Lanjutkan?`,confirmText:"Ya, Potong Saldo"})){const G=await i("admin_force_pay_installment.php","POST",{installment_id:k.id});G&&G.status==="success"?(w.showAlert({title:"Berhasil",message:G.message,type:"success"}),y()):w.showAlert({title:"Gagal",message:G.message||"Terjadi kesalahan",type:"warning"})}};if(e&&!o)return l.jsx("div",{className:"text-center p-8",children:"Memuat detail nasabah..."});if(n)return l.jsx("div",{className:"text-center p-8 text-red-500",children:n});if(!o)return l.jsx("div",{className:"text-center p-8",children:"Data nasabah tidak ditemukan."});const T=o.accounts?.filter(k=>k.account_type==="TABUNGAN"),j=o.accounts?.filter(k=>k.account_type==="DEPOSITO"),M=T&&T.length>0?parseFloat(T[0].balance):0;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs(Fe,{to:"/admin/customers",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Detail Nasabah"})]}),l.jsxs(Fe,{to:`/admin/customers/edit/${t}`,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(xr,{size:18}),l.jsx("span",{children:"Edit Nasabah"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[l.jsx(_c,{title:"Profil Utama",icon:l.jsx(oo,{size:20}),children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-24 h-24 rounded-full bg-bpn-blue-100 text-bpn-blue-700 flex items-center justify-center font-bold text-4xl mb-4 mx-auto",children:o.full_name?o.full_name.charAt(0):"?"}),l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:o.full_name}),l.jsx("p",{className:"text-sm text-gray-500",children:o.bank_id})]})}),l.jsx(fM,{customer:o,onStatusChange:y}),l.jsx(_c,{title:"Data Pribadi & Kontak",icon:l.jsx(wm,{size:20}),children:l.jsxs("dl",{className:"divide-y divide-gray-200",children:[l.jsx(fi,{label:"Cabang Terdaftar",value:o.branch_name}),l.jsx(fi,{label:"Unit Terdaftar",value:o.unit_name}),l.jsx(fi,{label:"Email",value:o.email}),l.jsx(fi,{label:"Telepon",value:o.phone_number}),l.jsx(fi,{label:"NIK",value:o.nik}),l.jsx(fi,{label:"Nama Ibu Kandung",value:o.mother_maiden_name}),l.jsx(fi,{label:"TTL",value:`${o.pob||""}, ${U0(o.dob)}`}),l.jsx(fi,{label:"Gender",value:o.gender==="L"?"Laki-laki":"Perempuan"}),l.jsx(fi,{label:"Alamat KTP",value:o.address_ktp})]})}),l.jsx(_c,{title:"Dokumen KYC",icon:l.jsx(Gy,{size:20}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(fy,{label:"Foto KTP",path:o.ktp_image_path}),l.jsx(fy,{label:"Foto Selfie",path:o.selfie_image_path})]})})]}),l.jsx("div",{className:"lg:col-span-2 space-y-6",children:l.jsxs(_c,{title:"Informasi Finansial",icon:l.jsx(Uc,{size:20}),children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2",children:"Rekening Tabungan"}),l.jsx("ul",{className:"divide-y mb-6",children:T?.map(k=>l.jsxs("li",{className:"py-2 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:k.account_number}),l.jsx("p",{className:"text-sm text-gray-600",children:qr(k.balance)})]}),l.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:k.status})]},k.id))}),l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2 border-t pt-4",children:"Rekening Deposito"}),l.jsx("div",{className:"space-y-3 mb-6",children:j?.length>0?j.map(k=>l.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[l.jsx("p",{children:k.deposit_product_name}),l.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:k.status})]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Pokok:"})," ",qr(k.balance)]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Keuntungan:"})," ",qr(k.interest_earned||0)]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Jatuh Tempo:"})," ",U0(k.maturity_date)]})]})]},k.id)):l.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Tidak ada deposito."})}),l.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-2 border-t pt-4",children:"Riwayat Pinjaman"}),l.jsx("div",{className:"space-y-2",children:o.loans?.length>0?o.loans.map(k=>l.jsxs("div",{className:"border rounded-lg",children:[l.jsxs("button",{onClick:()=>N(k.id),className:"w-full flex justify-between items-center p-3 text-left hover:bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:k.product_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[qr(k.loan_amount)," / ",hM(k.tenor,k.tenor_unit)]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-sm font-medium",children:k.status}),l.jsx(bm,{className:`transform transition-transform ${f===k.id?"rotate-180":""}`,size:20})]})]}),f===k.id&&l.jsxs("div",{className:"p-3 border-t bg-gray-50",children:[l.jsx("h5",{className:"text-xs font-bold text-gray-500 mb-2",children:"RINCIAN ANGSURAN"}),l.jsx("ul",{className:"divide-y",children:k.installments.map(B=>{const F=B.status==="OVERDUE",H=parseFloat(B.amount_due)+parseFloat(B.penalty_amount||0),G=M>=H,K=F&&G;let $="Potong Saldo";return F?G||($="Potong Saldo (Saldo nasabah tidak cukup)"):$="Angsuran belum jatuh tempo",l.jsxs("li",{className:"py-2 flex justify-between items-center text-xs",children:[l.jsxs("div",{children:[l.jsxs("p",{children:["Angsuran #",B.installment_number," - ",qr(B.amount_due)]}),parseFloat(B.penalty_amount||0)>0&&l.jsxs("p",{className:"text-red-600",children:["Denda: ",qr(B.penalty_amount)]}),l.jsxs("p",{className:"text-gray-500",children:["Jatuh Tempo: ",U0(B.due_date)]})]}),l.jsx("div",{className:"flex items-center gap-2",children:B.status==="PAID"?l.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[l.jsx(th,{size:14})," Lunas"]}):l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:`flex items-center gap-1 font-semibold ${F?"text-red-600":"text-yellow-600"}`,children:[l.jsx(ah,{size:14})," ",B.status]}),l.jsx("button",{onClick:()=>A(B,o.full_name),title:$,disabled:e||!K,className:`p-1.5 rounded-md transition ${K?"text-white bg-red-600 hover:bg-red-700":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,children:l.jsx(VA,{size:14})})]})})]},B.id)})})]})]},k.id)):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Tidak ada riwayat pinjaman."})})]})})]})]})}const gM=()=>{const{customerId:t}=br(),e=Un(),{loading:n,error:i,callApi:o}=ke(),[u,f]=O.useState([]),[p,w]=O.useState({full_name:"",email:"",phone_number:"",status:"ACTIVE",nik:"",mother_maiden_name:"",pob:"",dob:"",gender:"L",address_ktp:"",unit_id:""});O.useEffect(()=>{(async()=>{const[T,j]=await Promise.all([o(`admin_get_customer_detail.php?id=${t}`),o("admin_get_units.php")]);if(T&&T.status==="success"){const M=T.data,k=M.dob?M.dob.split(" ")[0]:"";w({full_name:M.full_name??"",email:M.email??"",phone_number:M.phone_number??"",status:M.status??"ACTIVE",nik:M.nik??"",mother_maiden_name:M.mother_maiden_name??"",pob:M.pob??"",dob:k,gender:M.gender??"L",address_ktp:M.address_ktp??"",unit_id:M.unit_id??""})}j&&j.status==="success"&&f(j.data)})()},[o,t]);const y=A=>{const{name:T,value:j}=A.target;w(M=>({...M,[T]:j}))},N=async A=>{A.preventDefault();const T=await o("admin_edit_customer.php","POST",{id:t,...p});T&&T.status==="success"&&e(`/admin/customers/${t}`)};return n&&!p.full_name?l.jsx("div",{className:"text-center p-8",children:"Memuat data nasabah..."}):l.jsxs("div",{children:[l.jsxs(Fe,{to:`/admin/customers/${t}`,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Edit Nasabah"})]}),l.jsx("div",{className:"bg-white p-8 rounded-lg shadow-md",children:l.jsxs("form",{onSubmit:N,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(Se,{name:"full_name",label:"Nama Lengkap",value:p.full_name,onChange:y,required:!0}),l.jsx(Se,{name:"email",type:"email",label:"Email",value:p.email,onChange:y,required:!0}),l.jsx(Se,{name:"phone_number",label:"Nomor Telepon",value:p.phone_number,onChange:y}),l.jsx(Se,{name:"nik",label:"NIK",value:p.nik,onChange:y,required:!0}),l.jsx(Se,{name:"mother_maiden_name",label:"Nama Ibu Kandung",value:p.mother_maiden_name,onChange:y,required:!0}),l.jsx(Se,{name:"pob",label:"Tempat Lahir",value:p.pob,onChange:y}),l.jsx(Se,{name:"dob",type:"date",label:"Tanggal Lahir",value:p.dob,onChange:y}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block mb-2 text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),l.jsxs("select",{name:"gender",id:"gender",value:p.gender,onChange:y,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"L",children:"Laki-laki"}),l.jsx("option",{value:"P",children:"Perempuan"})]})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(Se,{name:"address_ktp",label:"Alamat KTP",value:p.address_ktp,onChange:y})}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"unit_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Ubah Penempatan Unit/Cabang"}),l.jsxs("select",{name:"unit_id",id:"unit_id",value:p.unit_id,onChange:y,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih penempatan..."}),u.map(A=>l.jsxs("optgroup",{label:A.unit_name,children:[l.jsxs("option",{value:A.id,children:[A.unit_name," (Level Cabang)"]}),A.units?.map(T=>l.jsx("option",{value:T.id,children:T.unit_name},T.id))]},A.id))]})]})]}),i&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:i}),l.jsx("div",{className:"mt-8 flex justify-end",children:l.jsx(Te,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})})]})})]})},xM=()=>{const t=Un(),{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState([]),[f,p]=O.useState({full_name:"",email:"",phone_number:"",nik:"",mother_maiden_name:"",pob:"",dob:"",gender:"L",address_ktp:"",unit_id:""});O.useEffect(()=>{(async()=>{const A=await i("admin_get_units.php");A&&A.status==="success"&&u(A.data)})()},[i]);const w=N=>{const{name:A,value:T}=N.target;p(j=>({...j,[A]:T}))},y=async N=>{N.preventDefault();const A=await i("admin_add_customer.php","POST",f);A&&A.status==="success"&&t("/admin/customers")};return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/admin/customers",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Tambah Nasabah Baru"})]}),l.jsx("div",{className:"bg-white p-8 rounded-lg shadow-md",children:l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(Se,{name:"full_name",label:"Nama Lengkap",value:f.full_name,onChange:w,required:!0}),l.jsx(Se,{name:"email",type:"email",label:"Email",value:f.email,onChange:w,required:!0}),l.jsx(Se,{name:"phone_number",label:"Nomor Telepon",value:f.phone_number,onChange:w}),l.jsx(Se,{name:"nik",label:"NIK",value:f.nik,onChange:w,required:!0}),l.jsx(Se,{name:"mother_maiden_name",label:"Nama Ibu Kandung",value:f.mother_maiden_name,onChange:w,required:!0}),l.jsx(Se,{name:"pob",label:"Tempat Lahir",value:f.pob,onChange:w}),l.jsx(Se,{name:"dob",type:"date",label:"Tanggal Lahir",value:f.dob,onChange:w}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block mb-2 text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),l.jsxs("select",{name:"gender",id:"gender",value:f.gender,onChange:w,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-taskora-green-300",children:[l.jsx("option",{value:"L",children:"Laki-laki"}),l.jsx("option",{value:"P",children:"Perempuan"})]})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(Se,{name:"address_ktp",label:"Alamat KTP",value:f.address_ktp,onChange:w})}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{htmlFor:"unit_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Penempatan Unit/Cabang"}),l.jsxs("select",{name:"unit_id",id:"unit_id",value:f.unit_id,onChange:w,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih penempatan..."}),o.map(N=>l.jsxs("optgroup",{label:N.unit_name,children:[l.jsxs("option",{value:N.id,children:[N.unit_name," (Level Cabang)"]}),N.units?.map(A=>l.jsx("option",{value:A.id,children:A.unit_name},A.id))]},N.id))]})]})]}),n&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:n}),l.jsx("div",{className:"mt-8 flex justify-end",children:l.jsx(Te,{type:"submit",disabled:e,children:e?"Menyimpan...":"Simpan Nasabah"})})]})})]})},H0=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),pM=t=>t?new Date(t).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"}):"-",Is=({label:t,value:e,isHighlight:n=!1,fullWidth:i=!1})=>l.jsxs("div",{className:`py-2 border-b border-gray-100 ${i?"block":"flex justify-between items-start"}`,children:[l.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0 pr-2",children:t}),l.jsx("span",{className:`text-sm text-right font-semibold break-words ${n?"text-taskora-green-700":"text-gray-800"}`,children:e||"-"})]}),yM=({transaction:t,isLoading:e,onClose:n})=>{if(!t&&!e)return null;const i=()=>{if(e)return l.jsxs("div",{className:"text-center p-8",children:[l.jsx(Na,{className:"animate-spin inline-block"})," Memuat detail..."]});const o=parseFloat(t.amount||0)+parseFloat(t.fee||0);return l.jsxs("div",{className:"space-y-1",children:[l.jsx(Is,{label:"Kode Transaksi",value:t.transaction_code}),l.jsx(Is,{label:"Tanggal & Waktu",value:pM(t.created_at)}),l.jsx(Is,{label:"Status",value:t.status,isHighlight:t.status==="SUCCESS"}),l.jsx("hr",{className:"my-2"}),t.from_user_name&&l.jsx(Is,{label:"Dari",value:`${t.from_user_name} (${t.from_account_number})`}),t.to_user_name&&l.jsx(Is,{label:"Ke",value:`${t.to_user_name} (${t.to_account_number})`}),l.jsx("hr",{className:"my-2"}),l.jsx(Is,{label:"Jenis Transaksi",value:t.transaction_type.replace(/_/g," ")}),l.jsx(Is,{label:"Deskripsi",value:t.description,fullWidth:!0}),l.jsx("hr",{className:"my-2"}),l.jsx(Is,{label:"Jumlah Pokok",value:H0(t.amount)}),l.jsx(Is,{label:"Biaya Admin",value:H0(t.fee)}),l.jsx(Is,{label:"Total",value:H0(o),isHighlight:!0})]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Detail Transaksi"}),l.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-100",children:l.jsx(Hs,{size:20})})]}),l.jsx("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:i()}),l.jsx("div",{className:"bg-gray-50 p-3 flex justify-end",children:l.jsx("button",{onClick:n,className:"px-4 py-2 text-sm bg-gray-200 rounded-lg hover:bg-gray-300",children:"Tutup"})})]})})},bM=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),wM=({status:t})=>{const e={SUCCESS:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",FAILED:"bg-red-100 text-red-800",REVERSED:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e[t]||"bg-gray-100"}`,children:t})},_M=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState(!1),[u,f]=O.useState([]),[p,w]=O.useState({}),[y,N]=O.useState(1),[A,T]=O.useState(""),[j,M]=O.useState(""),{loading:k,callApi:B}=ke(),[F,H]=O.useState(null),[G,K]=O.useState(!1),$=["TRANSFER_INTERNAL","PEMBAYARAN_TAGIHAN","SETOR_TUNAI","TARIK_TUNAI","PENCAIRAN_PINJAMAN","BAYAR_CICILAN","PEMBUKAAN_DEPOSITO","PENCAIRAN_DEPOSITO","BIAYA_ADMIN"],te=O.useCallback(async(q,we,Ae)=>{const me=await n(`admin_get_transactions.php?page=${q}&limit=15&search=${encodeURIComponent(we)}&type=${Ae}`);me&&me.status==="success"&&(f(me.data),w(me.pagination))},[n]);O.useEffect(()=>{const q=setTimeout(()=>{te(y,A,j)},500);return()=>clearTimeout(q)},[y,A,j,te]);const Y=async()=>{o(!0),o(!1)},ne=async q=>{K(!0);const we=await B(`admin_get_transaction_detail.php?id=${q}`);we&&we.status==="success"&&H(we.data)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Riwayat Transaksi"}),l.jsxs("div",{className:"w-full md:w-auto flex flex-col md:flex-row items-stretch gap-2",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("input",{type:"text",placeholder:"Cari nama, kode trx, deskripsi...",value:A,onChange:q=>T(q.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg"}),l.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),l.jsxs("select",{value:j,onChange:q=>M(q.target.value),className:"p-2 border rounded-lg bg-gray-50",children:[l.jsx("option",{value:"",children:"Semua Jenis"}),$.map(q=>l.jsx("option",{value:q,children:q.replace(/_/g," ")},q))]}),l.jsxs("button",{onClick:Y,disabled:i,className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border text-gray-700 rounded-lg hover:bg-gray-100 disabled:opacity-50",children:[l.jsx(Ud,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:i?"Mengekspor...":"Ekspor"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsx("tr",{children:["Tanggal","Jenis","Dari","Ke","Jumlah","Status","Aksi"].map(q=>l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:q},q))})}),l.jsxs("tbody",{className:"divide-y",children:[t&&l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center",children:l.jsx(Na,{className:"animate-spin inline-block"})})}),e&&l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center text-red-500",children:e})}),!t&&u.map(q=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-sm text-gray-600 whitespace-nowrap",children:new Date(q.created_at).toLocaleString("id-ID")}),l.jsx("td",{className:"p-4 text-sm font-medium",children:q.transaction_type.replace(/_/g," ")}),l.jsx("td",{className:"p-4 text-sm",children:q.from_name||"-"}),l.jsx("td",{className:"p-4 text-sm",children:q.to_name||"-"}),l.jsx("td",{className:"p-4 font-semibold",children:bM(q.amount)}),l.jsx("td",{className:"p-4",children:l.jsx(wM,{status:q.status})}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>ne(q.id),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:l.jsx(Ec,{size:18})})})]},q.id))]})]})}),p&&p.total_pages>1&&l.jsxs("div",{className:"flex justify-between items-center p-4 border-t",children:[l.jsxs("button",{onClick:()=>N(q=>q-1),disabled:y<=1,className:"px-3 py-1 border rounded-lg disabled:opacity-50 flex items-center gap-1",children:[l.jsx(nh,{size:16})," Sebelumnya"]}),l.jsxs("span",{children:["Halaman ",p.current_page," dari ",p.total_pages]}),l.jsxs("button",{onClick:()=>N(q=>q+1),disabled:y>=p.total_pages,className:"px-3 py-1 border rounded-lg disabled:opacity-50 flex items-center gap-1",children:["Berikutnya ",l.jsx(vi,{size:16})]})]})]}),G&&l.jsx(yM,{transaction:F,isLoading:k,onClose:()=>K(!1)})]})},vM=({product:t,onClose:e,onSave:n})=>{const{loading:i,error:o,callApi:u}=ke(),[f,p]=O.useState({product_name:"",interest_rate_pa:"",min_amount:"",max_amount:"",min_tenor:"",max_tenor:"",tenor_unit:"BULAN",is_active:1,late_payment_fee:"0"}),w=!!t;O.useEffect(()=>{w&&p({product_name:t.product_name||"",interest_rate_pa:t.interest_rate_pa||"",min_amount:t.min_amount||"",max_amount:t.max_amount||"",min_tenor:t.min_tenor||"",max_tenor:t.max_tenor||"",tenor_unit:t.tenor_unit||"BULAN",is_active:t.is_active,late_payment_fee:t.late_payment_fee||"0"})},[t,w]);const y=A=>{const{name:T,value:j,type:M,checked:k}=A.target;p(B=>({...B,[T]:M==="checkbox"?k?1:0:j}))},N=async A=>{A.preventDefault();const T=w?"admin_loan_products_edit.php":"admin_loan_products_add.php",j=w?{...f,id:t.id}:f,M=await u(T,"POST",j);M&&M.status==="success"&&n()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:l.jsx(Hs,{size:24})}),l.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[w?"Edit":"Tambah"," Produk Pinjaman"]}),l.jsxs("form",{onSubmit:N,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Se,{name:"product_name",label:"Nama Produk",value:f.product_name,onChange:y,required:!0,className:"md:col-span-2"}),l.jsx(Se,{name:"interest_rate_pa",type:"number",label:"Bunga (% per Tahun)",value:f.interest_rate_pa,onChange:y,required:!0,step:"0.01"}),l.jsx(Se,{name:"late_payment_fee",type:"number",label:"Denda Harian (Rp)",value:f.late_payment_fee,onChange:y,required:!0}),l.jsx(Se,{name:"min_amount",type:"number",label:"Plafon Minimum",value:f.min_amount,onChange:y,required:!0}),l.jsx(Se,{name:"max_amount",type:"number",label:"Plafon Maksimum",value:f.max_amount,onChange:y,required:!0}),l.jsx(Se,{name:"min_tenor",type:"number",label:"Tenor Minimum",value:f.min_tenor,onChange:y,required:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Se,{name:"max_tenor",type:"number",label:"Tenor Maksimum",value:f.max_tenor,onChange:y,required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Satuan"}),l.jsxs("select",{name:"tenor_unit",value:f.tenor_unit,onChange:y,className:"w-full p-2 border rounded-lg bg-gray-50 h-[42px]",children:[l.jsx("option",{value:"HARI",children:"Hari"}),l.jsx("option",{value:"MINGGU",children:"Minggu"}),l.jsx("option",{value:"BULAN",children:"Bulan"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 md:col-span-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:!!f.is_active,onChange:y,className:"h-4 w-4 rounded border-gray-300 text-taskora-green-600 focus:ring-taskora-green-500"}),l.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Aktifkan Produk"})]})]}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4",children:o}),l.jsxs("div",{className:"mt-6 flex justify-end gap-4 border-t pt-4",children:[l.jsx(Te,{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:i,children:i?"Menyimpan...":"Simpan"})]})]})]})})},Kl=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),my=t=>{const n={HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"}[t.tenor_unit]||t.tenor_unit;return`${t.min_tenor} - ${t.max_tenor} ${n}`},NM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState(!1),[w,y]=O.useState(null),N=O.useCallback(async()=>{const k=await n("admin_loan_products_get.php");k&&k.status==="success"&&u(k.data)},[n]);O.useEffect(()=>{N()},[N]);const A=()=>{y(null),p(!0)},T=k=>{y(k),p(!0)},j=async k=>{if(await i.showConfirmation({title:"Konfirmasi Hapus",message:"Apakah Anda yakin ingin menghapus produk ini? Tindakan ini tidak dapat dibatalkan.",confirmText:"Ya, Hapus"})){const F=await n("admin_loan_products_delete.php","POST",{id:k});F&&F.status==="success"?(i.showAlert({title:"Berhasil",message:F.message,type:"success"}),N()):i.showAlert({title:"Gagal",message:e||F?.message,type:"warning"})}},M=()=>{p(!1),N()};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manajemen Produk Pinjaman"}),l.jsxs(Te,{onClick:A,className:"flex items-center gap-2 px-4 py-2 text-base",children:[l.jsx(bs,{size:20}),l.jsx("span",{children:"Tambah Produk"})]})]}),e&&l.jsx("p",{className:"text-red-500 mb-4",children:e}),l.jsx("div",{className:"md:hidden space-y-4",children:t?l.jsx("p",{children:"Memuat..."}):o.map(k=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("p",{className:"font-bold text-gray-800",children:k.product_name}),l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${k.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.is_active?"Aktif":"Non-Aktif"})]}),l.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Bunga:"})," ",k.interest_rate_pa,"% p.a"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Plafon:"})," ",Kl(k.min_amount)," - ",Kl(k.max_amount)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tenor:"})," ",my(k)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Denda Harian:"})," ",Kl(k.late_payment_fee)]})]}),l.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>j(k.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:l.jsx(no,{size:18})}),l.jsx("button",{onClick:()=>T(k),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:l.jsx(xr,{size:18})})]})]},k.id))}),l.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-md overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nama Produk"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Bunga (% p.a)"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Denda Harian"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Plafon"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Tenor"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Status"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center",children:"Memuat..."})}):o.map(k=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 font-medium",children:k.product_name}),l.jsxs("td",{className:"p-4",children:[k.interest_rate_pa,"%"]}),l.jsx("td",{className:"p-4",children:Kl(k.late_payment_fee)}),l.jsxs("td",{className:"p-4",children:[Kl(k.min_amount)," - ",Kl(k.max_amount)]}),l.jsx("td",{className:"p-4",children:my(k)}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:k.is_active?"text-green-600":"text-gray-500",children:k.is_active?"Aktif":"Non-Aktif"})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>T(k),className:"text-blue-600 hover:text-blue-800",children:l.jsx(xr,{size:18})}),l.jsx("button",{onClick:()=>j(k.id),className:"text-red-600 hover:text-red-800",children:l.jsx(no,{size:18})})]})})]},k.id))})]})}),f&&l.jsx(vM,{product:w,onClose:()=>p(!1),onSave:M})]})},AM=({product:t,onClose:e,onSave:n})=>{const{loading:i,error:o,callApi:u}=ke(),[f,p]=O.useState({product_name:"",interest_rate_pa:"",tenor_months:"",min_amount:"",is_active:1}),w=!!t;O.useEffect(()=>{w&&p(t)},[t,w]);const y=A=>{const{name:T,value:j,type:M,checked:k}=A.target;p(B=>({...B,[T]:M==="checkbox"?k?1:0:j}))},N=async A=>{A.preventDefault();const T=w?"admin_update_deposit_product.php":"admin_add_deposit_product.php",j=w?{...f,id:t.id}:f,M=await u(T,"POST",j);M&&M.status==="success"&&n()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:l.jsx(Hs,{size:24})}),l.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[w?"Edit":"Tambah"," Produk Deposito"]}),l.jsxs("form",{onSubmit:N,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Se,{name:"product_name",label:"Nama Produk",value:f.product_name,onChange:y,required:!0}),l.jsx(Se,{name:"interest_rate_pa",type:"number",label:"Bunga (% per Tahun)",value:f.interest_rate_pa,onChange:y,required:!0,step:"0.01"}),l.jsx(Se,{name:"tenor_months",type:"number",label:"Tenor (Bulan)",value:f.tenor_months,onChange:y,required:!0}),l.jsx(Se,{name:"min_amount",type:"number",label:"Minimum Deposit",value:f.min_amount,onChange:y,required:!0}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 md:col-span-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:!!f.is_active,onChange:y,className:"h-4 w-4 rounded border-gray-300 text-taskora-green-600 focus:ring-taskora-green-500"}),l.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Aktifkan Produk"})]})]}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4",children:o}),l.jsxs("div",{className:"mt-6 flex justify-end gap-4 border-t pt-4",children:[l.jsx(Te,{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:i,children:i?"Menyimpan...":"Simpan"})]})]})]})})},SM=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),CM=()=>{const{loading:t,error:e,callApi:n}=ke(),{showModal:i,hideModal:o}=yt(),[u,f]=O.useState([]),[p,w]=O.useState(!1),[y,N]=O.useState(null),A=O.useCallback(async()=>{const F=await n("admin_get_deposit_products.php");F&&F.status==="success"&&f(F.data||[])},[n]);O.useEffect(()=>{A()},[A]);const T=()=>{N(null),w(!0)},j=F=>{N(F),w(!0)},M=()=>{w(!1),A()},k=async F=>{try{o();const H=await n("admin_loan_products_delete.php","post",{id:F});H.status==="success"?A():i(l.jsx(Od,{title:"Gagal Menghapus",message:H.message||"Gagal menghapus produk.",onConfirm:o}))}catch{i(l.jsx(Od,{title:"Error",message:"Gagal menghapus produk. Kemungkinan produk ini masih terkait dengan data pinjaman lain.",onConfirm:o}))}},B=F=>{i(l.jsx(Od,{title:"Konfirmasi Hapus",message:"Apakah Anda yakin ingin menghapus produk ini? Tindakan ini tidak dapat dibatalkan.",onConfirm:()=>k(F),onCancel:o}))};return l.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Manajemen Produk Deposito"}),l.jsxs(Te,{onClick:T,className:"w-full sm:w-auto",children:[l.jsx(bs,{className:"mr-2 h-4 w-4"})," Tambah Produk"]})]}),e&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:e}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Produk"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bunga (% p.a)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenor (Bulan)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Deposit"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Memuat..."})}):u.length>0?u.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.product_name}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:[F.interest_rate_pa,"%"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:F.tenor_months}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:SM(F.min_amount)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.is_active?"Aktif":"Non-Aktif"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Te,{variant:"outline",size:"sm",onClick:()=>j(F),children:l.jsx(xr,{size:16})}),l.jsx(Te,{variant:"destructive",size:"sm",onClick:()=>B(F.id),children:l.jsx(no,{size:16})})]})})]},F.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Tidak ada produk yang ditemukan."})})})]})}),p&&l.jsx(AM,{product:y,onClose:()=>w(!1),onSuccess:M})]})},V0=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),EM=({icon:t,title:e,value:n,isLoading:i})=>l.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:i?l.jsxs("div",{className:"animate-pulse flex items-center space-x-3",children:[l.jsx("div",{className:"rounded-full bg-gray-200 h-10 w-10"}),l.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[l.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}):l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-taskora-green-100 text-taskora-green-700 rounded-full mr-3",children:t}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-gray-500",children:e}),l.jsx("p",{className:"text-lg font-bold text-gray-800",children:n})]})]})}),TM=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState({}),[p,w]=O.useState(""),[y,N]=O.useState("active"),A=O.useCallback(async(M,k)=>{const B=await n(`admin_get_customer_deposits.php?search=${M}&status=${k}`);B&&B.status==="success"&&(o(B.data.deposits||[]),f(B.data.summary||{}))},[n]);O.useEffect(()=>{const M=setTimeout(()=>{A(p,y)},500);return()=>clearTimeout(M)},[p,y,A]);const T=[{icon:l.jsx(ih,{size:20}),title:"Total Dana Aktif",value:V0(u.totalActiveBalance||0)},{icon:l.jsx(sh,{size:20}),title:"Jumlah Deposito",value:(u.totalDeposits||0).toLocaleString("id-ID")},{icon:l.jsx(GN,{size:20}),title:"Jatuh Tempo Bulan Ini",value:(u.maturingThisMonth||0).toLocaleString("id-ID")}],j=[{label:"Aktif",value:"active"},{label:"Segera Jatuh Tempo",value:"near_maturity"},{label:"Telah Jatuh Tempo",value:"matured"}];return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Dasbor Deposito Nasabah"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:T.map((M,k)=>l.jsx(EM,{...M,isLoading:t&&!u.totalActiveBalance},k))}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx("input",{type:"text",placeholder:"Cari nama atau no. rekening...",value:p,onChange:M=>w(M.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-taskora-green-300"}),l.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]}),l.jsx("div",{className:"flex items-center gap-2",children:j.map(M=>l.jsx("button",{onClick:()=>N(M.value),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${y===M.value?"bg-taskora-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:M.label},M.value))})]}),e&&l.jsx("p",{className:"text-red-500 px-4 pb-4",children:e}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nasabah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"No. Rekening"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Produk"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Pokok"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Keuntungan"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Jatuh Tempo"})]})}),l.jsx("tbody",{className:"divide-y",children:t&&i.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Memuat..."})}):i.length>0?i.map(M=>l.jsxs("tr",{className:M.is_near_maturity?"bg-yellow-50":"",children:[l.jsx("td",{className:"p-4 font-medium",children:M.customer_name}),l.jsx("td",{className:"p-4 text-sm text-gray-600 font-mono",children:M.account_number}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:M.product_name}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:V0(M.balance)}),l.jsx("td",{className:"p-4 text-sm text-green-600 font-semibold",children:V0(M.interest_earned)}),l.jsxs("td",{className:"p-4 text-sm text-gray-600 flex items-center gap-2",children:[M.is_near_maturity&&l.jsx(ah,{size:14,className:"text-yellow-600"}),new Date(M.maturity_date).toLocaleDateString("id-ID")]})]},M.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Tidak ada data deposito ditemukan."})})})]})})]})]})},gy=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),xy=(t,e)=>!t||!e?"-":`${t} ${{HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"}[e]||e}`,py=({status:t})=>{const e="px-2 py-1 text-xs font-semibold rounded-full",n={SUBMITTED:"bg-blue-100 text-blue-800",ANALYZING:"bg-yellow-100 text-yellow-800",APPROVED:"bg-green-100 text-green-800",DISBURSED:"bg-teal-100 text-teal-800",REJECTED:"bg-red-100 text-red-800",COMPLETED:"bg-gray-100 text-gray-800"};return l.jsx("span",{className:`${e} ${n[t]||"bg-gray-200"}`,children:t})},jM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState("new"),w=O.useCallback(async()=>{let A="admin_loan_applications_get.php";f==="new"?A+="?status=SUBMITTED":f==="approved"&&(A+="?status=APPROVED");const T=await n(A);T&&T.status==="success"&&u(T.data)},[n,f]);O.useEffect(()=>{w()},[w]);const y=async(A,T)=>{const j=T==="APPROVED"?"MENYETUJUI":"MENOLAK";if(await i.showConfirmation({title:`Konfirmasi ${j}`,message:`Apakah Anda yakin ingin ${j.toLowerCase()} pengajuan pinjaman ini?`,confirmText:`Ya, ${j}`})){const k=await n("admin_loan_application_update_status.php","POST",{loan_id:A,status:T});k&&k.status==="success"?(i.showAlert({title:"Berhasil",message:k.message,type:"success"}),w()):i.showAlert({title:"Gagal",message:e||k?.message,type:"warning"})}},N=async A=>{if(await i.showConfirmation({title:"Konfirmasi Pencairan",message:"Anda akan mencairkan dana ke rekening nasabah. Tindakan ini akan membuat jadwal angsuran dan tidak dapat dibatalkan. Lanjutkan?",confirmText:"Ya, Cairkan Dana"})){const j=await n("admin_loan_disburse.php","POST",{loan_id:A});j&&j.status==="success"?(i.showAlert({title:"Berhasil",message:j.message,type:"success"}),w()):i.showAlert({title:"Gagal",message:e||j?.message,type:"warning"})}};return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Manajemen Pengajuan Pinjaman"}),l.jsxs("div",{className:"flex border-b mb-4",children:[l.jsx("button",{onClick:()=>p("new"),className:`px-4 py-2 font-semibold ${f==="new"?"border-b-2 border-taskora-green-700 text-taskora-green-700":"text-gray-500"}`,children:"Pengajuan Baru"}),l.jsx("button",{onClick:()=>p("approved"),className:`px-4 py-2 font-semibold ${f==="approved"?"border-b-2 border-taskora-green-700 text-taskora-green-700":"text-gray-500"}`,children:"Siap Dicairkan"})]}),l.jsx("div",{className:"md:hidden space-y-4",children:t?l.jsx("p",{children:"Memuat..."}):o.map(A=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-gray-800",children:A.customer_name}),l.jsx("p",{className:"text-sm text-gray-500",children:A.product_name})]}),l.jsx(py,{status:A.status})]}),l.jsxs("div",{className:"mt-4 border-t pt-4 space-y-2 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Jumlah:"})," ",gy(A.loan_amount)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tenor:"})," ",xy(A.tenor,A.tenor_unit)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tanggal:"})," ",new Date(A.application_date).toLocaleDateString("id-ID")]})]}),l.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[l.jsx(Fe,{to:`/admin/loan-applications/${A.id}`,title:"Lihat Detail",className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:l.jsx(Ec,{size:18})}),A.status==="SUBMITTED"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>y(A.id,"REJECTED"),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",title:"Tolak",children:l.jsx(em,{size:18})}),l.jsx("button",{onClick:()=>y(A.id,"APPROVED"),className:"p-2 text-green-600 hover:bg-green-100 rounded-full",title:"Setujui",children:l.jsx(to,{size:18})})]}),A.status==="APPROVED"&&l.jsx("button",{onClick:()=>N(A.id),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Cairkan Dana",children:l.jsx(gr,{size:18})})]})]},A.id))}),l.jsx("div",{className:"hidden md:block bg-white rounded-lg shadow-md overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nama Nasabah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Produk"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Jumlah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Tenor"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Tanggal"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Status"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center",children:"Memuat..."})}):e&&!t?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center text-red-500",children:e})}):o.map(A=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 font-medium",children:A.customer_name}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:A.product_name}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:gy(A.loan_amount)}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:xy(A.tenor,A.tenor_unit)}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:new Date(A.application_date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"p-4",children:l.jsx(py,{status:A.status})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Fe,{to:`/admin/loan-applications/${A.id}`,title:"Lihat Detail",className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:l.jsx(Ec,{size:18})}),A.status==="SUBMITTED"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>y(A.id,"APPROVED"),title:"Setujui",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:l.jsx(to,{size:18})}),l.jsx("button",{onClick:()=>y(A.id,"REJECTED"),title:"Tolak",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:l.jsx(em,{size:18})})]}),A.status==="APPROVED"&&l.jsx("button",{onClick:()=>N(A.id),title:"Cairkan Dana",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:l.jsx(gr,{size:18})})]})})]},A.id))})]})})]})},xs=({label:t,value:e})=>l.jsxs("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4",children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e||"-"})]}),MM=t=>({HARI:"Hari",MINGGU:"Minggu",BULAN:"Bulan"})[t]||t,DM=()=>{const{loanId:t}=br(),{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState(null),f=p=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(p);return O.useEffect(()=>{(async()=>{const w=await i(`admin_loan_application_get_detail.php?id=${t}`);w&&w.status==="success"&&u(w.data)})()},[i,t]),e?l.jsx("p",{children:"Memuat detail..."}):n?l.jsx("p",{className:"text-red-500",children:n}):o?l.jsxs("div",{children:[l.jsxs(Fe,{to:"/admin/loan-applications",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detail Pengajuan Pinjaman"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informasi Nasabah"}),l.jsxs("dl",{className:"mt-4 divide-y",children:[l.jsx(xs,{label:"Nama",value:o.customer_name}),l.jsx(xs,{label:"Email",value:o.email}),l.jsx(xs,{label:"Telepon",value:o.phone_number})]})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informasi Pinjaman"}),l.jsxs("dl",{className:"mt-4 divide-y",children:[l.jsx(xs,{label:"Produk",value:o.product_name}),l.jsx(xs,{label:"Jumlah Pinjaman",value:f(o.loan_amount)}),l.jsx(xs,{label:"Tenor",value:`${o.tenor} ${MM(o.tenor_unit)}`}),l.jsx(xs,{label:"Status",value:o.status}),l.jsx(xs,{label:"Tanggal Pengajuan",value:new Date(o.application_date).toLocaleString("id-ID")}),o.approver_name&&l.jsx(xs,{label:"Disetujui Oleh",value:o.approver_name}),o.approval_date&&l.jsx(xs,{label:"Tanggal Persetujuan",value:new Date(o.approval_date).toLocaleString("id-ID")}),o.disbursement_date&&l.jsx(xs,{label:"Tanggal Pencairan",value:new Date(o.disbursement_date).toLocaleString("id-ID")})]})]}),o.installments&&l.jsxs("div",{className:"p-6 border-t",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Jadwal Angsuran"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2",children:"Angsuran Ke-"}),l.jsx("th",{className:"p-2",children:"Jatuh Tempo"}),l.jsx("th",{className:"p-2",children:"Jumlah"}),l.jsx("th",{className:"p-2",children:"Pokok"}),l.jsx("th",{className:"p-2",children:"Bunga"}),l.jsx("th",{className:"p-2",children:"Denda"}),l.jsx("th",{className:"p-2",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y",children:o.installments.map(p=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 text-center",children:p.installment_number}),l.jsx("td",{className:"p-2",children:new Date(p.due_date).toLocaleDateString("id-ID")}),l.jsx("td",{className:"p-2",children:f(p.amount_due)}),l.jsx("td",{className:"p-2",children:f(p.principal_amount)}),l.jsx("td",{className:"p-2",children:f(p.interest_amount)}),l.jsx("td",{className:"p-2 text-red-600",children:f(p.penalty_amount||0)}),l.jsx("td",{className:"p-2",children:p.status})]},p.id))})]})})]})]})]}):l.jsx("p",{children:"Data tidak ditemukan."})},Y0=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),kM=t=>t?f6(p6(t),"dd MMM yyyy",{locale:xw}):"-",IM=()=>{const{callApi:t,loading:e,error:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState({}),[p,w]=O.useState(""),[y,N]=O.useState("disbursed"),[A,T]=O.useState(1),[j,M]=O.useState(null),k=O.useCallback(async(G,K,$)=>{try{const te=await t(`admin_get_all_loans.php?search=${G}&status=${K}&page=${$}`);te&&te.status==="success"&&(o(te.data||[]),f(te.summary||{}),M(te.pagination||null))}catch(te){console.error(te)}},[t]);O.useEffect(()=>{T(1)},[p,y]),O.useEffect(()=>{const G=setTimeout(()=>{k(p,y,A)},300);return()=>clearTimeout(G)},[k,p,y,A]);const B=()=>{j&&A<j.total_pages&&T(A+1)},F=()=>{A>1&&T(A-1)},H=({icon:G,title:K,value:$,color:te})=>l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:K}),l.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:$})]}),l.jsx("div",{className:`p-3 rounded-full ${te}`,children:G})]});return l.jsxs("div",{className:"p-4 md:p-6 bg-gray-50 min-h-screen",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Dasbor Pinjaman Aktif"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[l.jsx(H,{icon:l.jsx(gr,{size:24,className:"text-green-600"}),title:"Total Portofolio Aktif",value:Y0(u.totalActiveLoans||0),color:"bg-green-100"}),l.jsx(H,{icon:l.jsx(wm,{size:24,className:"text-blue-600"}),title:"Jumlah Pinjaman Aktif",value:u.activeLoansCount||0,color:"bg-blue-100"}),l.jsx(H,{icon:l.jsx(rh,{size:24,className:"text-red-600"}),title:"Pinjaman Menunggak",value:u.overdueLoansCount||0,color:"bg-red-100"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",placeholder:"Cari nama nasabah atau ID pinjaman...",value:p,onChange:G=>w(G.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("select",{value:y,onChange:G=>N(G.target.value),className:"border rounded-lg px-4 py-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"disbursed",children:"Aktif"}),l.jsx("option",{value:"overdue",children:"Menunggak"}),l.jsx("option",{value:"completed",children:"Lunas"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nasabah"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produk Pinjaman"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pokok Pinjaman"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sisa Pokok"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jatuh Tempo Berikutnya"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500",children:"Memuat data pinjaman..."})}):n?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center text-red-500",children:n})}):i.length>0?i.map(G=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center bg-gray-100 rounded-full",children:l.jsx(oo,{size:20,className:"text-gray-500"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.customer_name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["ID Pinj: ",G.id]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(nS,{size:14,className:"mr-2 text-gray-400"}),G.product_name||"N/A"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Y0(G.loan_amount)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-800",children:Y0(G.outstanding_principal)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ah,{size:14,className:"mr-2 text-gray-400"}),kM(G.next_due_date)]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:G.overdue_installments_count>0?l.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Menunggak"}):l.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Lancar"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:l.jsx(Fe,{to:`/admin/loan-applications/${G.id}`,className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"Lihat Detail"})})]},G.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500",children:"Tidak ada data pinjaman yang cocok dengan filter."})})})]})}),j&&j.total_records>0&&l.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 px-4 py-3 sm:px-6",children:[l.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[l.jsx("button",{onClick:F,disabled:A===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Sebelumnya"}),l.jsx("button",{onClick:B,disabled:!j||A===j.total_pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Berikutnya"})]}),l.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-gray-700",children:["Halaman ",l.jsx("span",{className:"font-medium",children:j.current_page})," dari ",l.jsx("span",{className:"font-medium",children:j.total_pages})," (",j.total_records," total data)"]})}),l.jsx("div",{children:l.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[l.jsx("button",{onClick:F,disabled:A===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:l.jsx(nh,{className:"h-5 w-5"})}),l.jsx("button",{onClick:B,disabled:!j||A===j.total_pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:l.jsx(vi,{className:"h-5 w-5"})})]})})]})]})]})]})},OM=({unit:t,branches:e,onClose:n,onSave:i})=>{const{loading:o,error:u,callApi:f}=ke(),[p,w]=O.useState({unit_name:"",unit_type:"CABANG",parent_id:"",address:"",latitude:"",longitude:"",is_active:1}),y=!!t;O.useEffect(()=>{y&&w({unit_name:t.unit_name||"",unit_type:t.unit_type||"UNIT",parent_id:t.parent_id||"",address:t.address||"",latitude:t.latitude||"",longitude:t.longitude||"",is_active:t.is_active})},[t,y]);const N=T=>{const{name:j,value:M,type:k,checked:B}=T.target,F=k==="checkbox"?B?1:0:M;w(H=>{const G={...H,[j]:F};return j==="unit_type"&&F==="CABANG"&&(G.parent_id=""),G})},A=async T=>{T.preventDefault();const j=y?"admin_update_unit.php":"admin_add_unit.php",M=y?{...p,id:t.id}:p,k=await f(j,"POST",M);k&&k.status==="success"&&i()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative",children:[l.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:l.jsx(Hs,{size:24})}),l.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[y?"Edit":"Tambah"," Cabang / Unit"]}),l.jsxs("form",{onSubmit:A,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"unit_name",label:"Nama Cabang / Unit",value:p.unit_name,onChange:N,required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Jenis"}),l.jsxs("select",{name:"unit_type",value:p.unit_type,onChange:N,className:"w-full p-2 border rounded",children:[l.jsx("option",{value:"CABANG",children:"Cabang"}),l.jsx("option",{value:"UNIT",children:"Unit"})]})]}),p.unit_type==="UNIT"&&l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Di Bawah Cabang"}),l.jsxs("select",{name:"parent_id",value:p.parent_id,onChange:N,className:"w-full p-2 border rounded",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih Cabang Induk..."}),e.map(T=>l.jsx("option",{value:T.id,children:T.unit_name},T.id))]})]}),p.unit_type==="CABANG"&&l.jsxs(l.Fragment,{children:[l.jsx(Se,{name:"address",label:"Alamat",value:p.address,onChange:N}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Se,{name:"latitude",label:"Latitude (Opsional)",value:p.latitude,onChange:N}),l.jsx(Se,{name:"longitude",label:"Longitude (Opsional)",value:p.longitude,onChange:N})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:!!p.is_active,onChange:N,className:"h-4 w-4 rounded"}),l.jsx("label",{htmlFor:"is_active",children:"Aktif"})]})]}),u&&l.jsx("p",{className:"text-red-500 text-sm mt-4",children:u}),l.jsxs("div",{className:"mt-6 flex justify-end gap-4 border-t pt-4",children:[l.jsx(Te,{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:o,children:o?"Menyimpan...":"Simpan"})]})]})]})})},yy=({isActive:t})=>l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t?"Aktif":"Non-Aktif"}),RM=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState(!1),[p,w]=O.useState(null),y=O.useCallback(async()=>{const j=await n("admin_get_units.php");j&&j.status==="success"&&o(Array.isArray(j.data)?j.data:[])},[n]);O.useEffect(()=>{y()},[y]);const N=()=>{w(null),f(!0)},A=(j,M=!1)=>{w(M?{...j,parent_id:null}:j),f(!0)},T=()=>{f(!1),y()};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manajemen Cabang & Unit"}),l.jsxs(Te,{onClick:N,className:"py-2 px-4 text-sm flex items-center gap-2",children:[l.jsx(bs,{size:18}),"Tambah Baru"]})]}),t&&l.jsx("p",{children:"Memuat data..."}),e&&l.jsx("p",{className:"text-red-500",children:e}),l.jsx("div",{className:"space-y-6",children:Array.isArray(i)&&i.map(j=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[l.jsxs("div",{className:"p-4 bg-gray-50 border-b flex justify-between items-center rounded-t-lg",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-bold text-lg text-gray-800",children:j.unit_name}),l.jsx("p",{className:"text-sm text-gray-500",children:"CABANG"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(yy,{isActive:j.is_active}),l.jsx("button",{onClick:()=>A(j,!0),className:"text-blue-600 hover:text-blue-800",children:l.jsx(xr,{size:18})})]})]}),l.jsx("div",{className:"divide-y",children:j.units?.length>0?j.units.map(M=>l.jsxs("div",{className:"p-4 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-700",children:M.unit_name}),l.jsx("p",{className:"text-xs text-gray-500",children:M.unit_type})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(yy,{isActive:M.is_active}),l.jsx("button",{onClick:()=>A(M),className:"text-blue-600 hover:text-blue-800",children:l.jsx(xr,{size:18})})]})]},M.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500",children:"Belum ada unit di bawah cabang ini."})})]},j.id))}),u&&l.jsx(OM,{unit:p,branches:i.map(j=>({id:j.id,unit_name:j.unit_name})),onClose:()=>f(!1),onSave:T})]})},LM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState({current_password:"",new_password:"",confirm_password:""}),f=w=>{const{name:y,value:N}=w.target;u(A=>({...A,[y]:N}))},p=async w=>{if(w.preventDefault(),o.new_password!==o.confirm_password){i.showAlert({title:"Error",message:"Password baru dan konfirmasi tidak cocok.",type:"warning"});return}const y=await n("user_security_update_password.php","POST",{current_password:o.current_password,new_password:o.new_password});y&&y.status==="success"?(await i.showAlert({title:"Berhasil",message:"Password Anda telah berhasil diperbarui.",type:"success"}),u({current_password:"",new_password:"",confirm_password:""})):i.showAlert({title:"Gagal",message:e||y?.message,type:"warning"})};return l.jsxs("form",{onSubmit:p,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"current_password",type:"password",label:"Password Saat Ini",value:o.current_password,onChange:f,required:!0}),l.jsx(Se,{name:"new_password",type:"password",label:"Password Baru",value:o.new_password,onChange:f,required:!0}),l.jsx(Se,{name:"confirm_password",type:"password",label:"Konfirmasi Password Baru",value:o.confirm_password,onChange:f,required:!0})]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx(Te,{type:"submit",disabled:t,children:t?"Menyimpan...":"Ubah Password"})})]})},BM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState({monthly_admin_fee:"",transfer_fee_external:"",payment_qris_image_url:"",payment_bank_accounts:[],APP_DOWNLOAD_LINK_IOS:"",APP_DOWNLOAD_LINK_ANDROID:""}),[f,p]=O.useState({bank_name:"",account_number:"",account_name:""}),w=O.useCallback(async()=>{const M=await n("admin_get_settings.php");M&&M.status==="success"&&u({monthly_admin_fee:M.data.monthly_admin_fee||"",transfer_fee_external:M.data.transfer_fee_external||"",payment_qris_image_url:M.data.payment_qris_image_url||"",payment_bank_accounts:JSON.parse(M.data.payment_bank_accounts||"[]"),APP_DOWNLOAD_LINK_IOS:M.data.APP_DOWNLOAD_LINK_IOS||"",APP_DOWNLOAD_LINK_ANDROID:M.data.APP_DOWNLOAD_LINK_ANDROID||""})},[n]);O.useEffect(()=>{w()},[w]);const y=M=>{const{name:k,value:B}=M.target;u(F=>({...F,[k]:B}))},N=M=>{const{name:k,value:B}=M.target;p(F=>({...F,[k]:B}))},A=()=>{f.bank_name&&f.account_number&&f.account_name?(u(M=>({...M,payment_bank_accounts:[...M.payment_bank_accounts,f]})),p({bank_name:"",account_number:"",account_name:""})):i.showAlert({title:"Info",message:"Harap isi semua detail rekening baru."})},T=M=>{u(k=>({...k,payment_bank_accounts:k.payment_bank_accounts.filter((B,F)=>F!==M)}))},j=async M=>{M.preventDefault();const k={...o,payment_bank_accounts:JSON.stringify(o.payment_bank_accounts)},B=await n("admin_config_update.php","POST",k);B&&B.status==="success"&&i.showAlert({title:"Berhasil",message:"Pengaturan sistem telah berhasil disimpan.",type:"success"})};return t&&!o.monthly_admin_fee?l.jsx("p",{children:"Memuat pengaturan..."}):l.jsxs("form",{onSubmit:j,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Pengaturan Tautan Aplikasi"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"APP_DOWNLOAD_LINK_ANDROID",label:"Link Google Play Store",type:"url",value:o.APP_DOWNLOAD_LINK_ANDROID,onChange:y,placeholder:"https://play.google.com/store/apps/..."}),l.jsx(Se,{name:"APP_DOWNLOAD_LINK_IOS",label:"Link Apple App Store",type:"url",value:o.APP_DOWNLOAD_LINK_IOS,onChange:y,placeholder:"https://apps.apple.com/..."})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Pengaturan Biaya"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"monthly_admin_fee",label:"Biaya Administrasi Bulanan (Rp)",type:"number",value:o.monthly_admin_fee,onChange:y,required:!0}),l.jsx(Se,{name:"transfer_fee_external",label:"Biaya Transfer Antar Bank (Rp)",type:"number",value:o.transfer_fee_external,onChange:y,required:!0})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Metode Pembayaran Isi Saldo"}),l.jsx(Se,{name:"payment_qris_image_url",label:"URL Gambar QRIS",value:o.payment_qris_image_url,onChange:y,placeholder:"https://.../qris.png"}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rekening Bank untuk Transfer"}),l.jsx("div",{className:"space-y-2",children:o.payment_bank_accounts.map((M,k)=>l.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded",children:[l.jsxs("p",{className:"flex-grow text-sm",children:[M.bank_name," - ",M.account_number," (a/n ",M.account_name,")"]}),l.jsx("button",{type:"button",onClick:()=>T(k),className:"text-red-500 hover:text-red-700 p-1",children:l.jsx(no,{size:16})})]},k))}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 mt-4 border-t pt-4",children:[l.jsx(Se,{name:"bank_name",value:f.bank_name,onChange:N,placeholder:"Nama Bank"}),l.jsx(Se,{name:"account_number",value:f.account_number,onChange:N,placeholder:"No. Rekening"}),l.jsx(Se,{name:"account_name",value:f.account_name,onChange:N,placeholder:"Atas Nama"})]}),l.jsx(Te,{type:"button",onClick:A,className:"mt-2 text-sm py-1 px-3 bg-gray-600 hover:bg-gray-700",children:"Tambah Rekening"})]})]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-8 border-t pt-6 flex justify-end",children:l.jsx(Te,{type:"submit",disabled:t,children:t?"Menyimpan...":"Simpan Semua Pengaturan"})})]})},PM=()=>{const e=JSON.parse(localStorage.getItem("authUser")||"{}").roleId===1;return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Pengaturan"}),l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-2xl mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Ubah Password Akun Anda"}),l.jsx(LM,{})]}),e&&l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-2xl",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Pengaturan Sistem & Pembayaran"}),l.jsx(BM,{})]})]})},zM=({roles:t,units:e,onClose:n,onSave:i})=>{const{loading:o,error:u,callApi:f}=ke(),p=yt(),[w,y]=O.useState({full_name:"",email:"",role_id:t[0]?.id||"",unit_id:""}),N=T=>{const{name:j,value:M}=T.target;y(k=>({...k,[j]:M}))},A=async T=>{T.preventDefault();const j=await f("admin_create_staff_user.php","POST",w);j&&j.status==="success"&&(i(),p.showAlert({title:"Staf Berhasil Dibuat",message:`Akun untuk ${j.data.email} telah dibuat. Password sementara: ${j.data.temporary_password}. Harap catat dan berikan kepada staf terkait.`,type:"success"}))};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Tambah Staf Baru"}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-800",children:l.jsx(Hs,{size:24})})]}),l.jsxs("form",{onSubmit:A,children:[l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx(Se,{name:"full_name",label:"Nama Lengkap",value:w.full_name,onChange:N,required:!0}),l.jsx(Se,{name:"email",type:"email",label:"Email",value:w.email,onChange:N,required:!0}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Peran"}),l.jsx("select",{name:"role_id",id:"role_id",value:w.role_id,onChange:N,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",children:t.map(T=>l.jsx("option",{value:T.id,children:T.role_name},T.id))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"unit_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Penugasan"}),l.jsxs("select",{name:"unit_id",id:"unit_id",value:w.unit_id,onChange:N,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih Cabang atau Unit..."}),e.map(T=>l.jsxs("optgroup",{label:T.unit_name,children:[l.jsxs("option",{value:T.id,children:[T.unit_name," (Level Cabang)"]}),T.units?.map(j=>l.jsx("option",{value:j.id,children:j.unit_name},j.id))]},T.id))]})]})]}),u&&l.jsx("p",{className:"text-red-500 text-sm px-6 pb-4",children:u}),l.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-4 rounded-b-lg",children:[l.jsx(Te,{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:o,children:o?"Menyimpan...":"Simpan Staf"})]})]})]})})},FM=({staff:t,units:e,onClose:n,onSave:i})=>{const{loading:o,error:u,callApi:f}=ke(),[p,w]=O.useState(t.unit_id||""),y=async N=>{N.preventDefault();const A={staff_id:t.id,unit_id:p},T=await f("admin_update_staff_assignment.php","POST",A);T&&T.status==="success"&&i()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Ubah Penugasan"}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-800",children:l.jsx(Hs,{size:24})})]}),l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("p",{children:["Ubah penugasan untuk staf: ",l.jsx("strong",{className:"font-semibold",children:t.full_name})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"unit_id",className:"block mb-2 text-sm font-medium text-gray-700",children:"Penugasan Baru"}),l.jsxs("select",{name:"unit_id",id:"unit_id",value:p,onChange:N=>w(N.target.value),className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",required:!0,children:[l.jsx("option",{value:"",disabled:!0,children:"Pilih Cabang atau Unit..."}),e.map(N=>l.jsxs("optgroup",{label:N.unit_name,children:[l.jsxs("option",{value:N.id,children:[N.unit_name," (Level Cabang)"]}),N.units?.map(A=>l.jsx("option",{value:A.id,children:A.unit_name},A.id))]},N.id))]})]})]}),u&&l.jsx("p",{className:"text-red-500 text-sm px-6 pb-4",children:u}),l.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-4 rounded-b-lg",children:[l.jsx(Te,{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"}),l.jsx(Te,{type:"submit",disabled:o,children:o?"Memperbarui...":"Simpan Perubahan"})]})]})]})})},UM=({status:t})=>l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t==="ACTIVE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t==="ACTIVE"?"Aktif":"Non-Aktif"}),HM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState([]),[w,y]=O.useState([]),[N,A]=O.useState(!1),[T,j]=O.useState(!1),[M,k]=O.useState(null),B=O.useCallback(async()=>{const[K,$,te]=await Promise.all([n("admin_get_staff_list.php"),n("admin_get_roles.php"),n("admin_get_units.php")]);K&&K.status==="success"&&u(K.data),$&&$.status==="success"&&p($.data.filter(Y=>Y.role_name!=="Nasabah")),te&&te.status==="success"&&y(te.data)},[n]);O.useEffect(()=>{B()},[B]);const F=()=>{A(!1),j(!1),B()},H=K=>{k(K),j(!0)},G=async(K,$)=>{const te=$==="ACTIVE"?"INACTIVE":"ACTIVE",Y=te==="ACTIVE"?"mengaktifkan":"menonaktifkan";if(await i.showConfirmation({title:"Konfirmasi Status",message:`Apakah Anda yakin ingin ${Y} akun staf ini?`,confirmText:`Ya, ${Y}`})){const q=await n("admin_update_staff_status.php","POST",{staff_id:K,new_status:te});q&&q.status==="success"&&(i.showAlert({title:"Berhasil",message:"Status staf telah diperbarui.",type:"success"}),B())}};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manajemen Staf"}),l.jsxs(Te,{onClick:()=>A(!0),className:"py-2 px-4 text-sm flex items-center gap-2",children:[l.jsx(bs,{size:18})," Tambah Staf"]})]}),e&&l.jsx("p",{className:"text-red-500 mb-4",children:e}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-max",children:[l.jsx("thead",{className:"bg-gray-50 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nama Lengkap"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Peran"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Cabang"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Unit"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Status"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:t&&o.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"Memuat..."})}):o.map(K=>l.jsxs("tr",{children:[l.jsxs("td",{className:"p-4",children:[l.jsx("p",{className:"font-medium text-gray-800",children:K.full_name}),l.jsx("p",{className:"text-xs text-gray-500",children:K.email})]}),l.jsx("td",{className:"p-4 text-gray-600 text-sm",children:K.role_name}),l.jsx("td",{className:"p-4 text-gray-600 text-sm",children:K.branch_name||"-"}),l.jsx("td",{className:"p-4 text-gray-600 text-sm",children:K.unit_name||"-"}),l.jsx("td",{className:"p-4",children:l.jsx(UM,{status:K.status})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex gap-2",children:[K.can_edit&&l.jsx(Fe,{to:`/admin/staff/${K.id}/edit`,className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",title:"Edit Staf",children:l.jsx(xr,{size:18})}),l.jsx("button",{onClick:()=>G(K.id,K.status),className:`p-2 rounded-full ${K.status==="ACTIVE"?"text-red-600 hover:bg-red-100":"text-green-600 hover:bg-green-100"}`,title:K.status==="ACTIVE"?"Nonaktifkan":"Aktifkan",children:K.status==="ACTIVE"?l.jsx(dS,{size:18}):l.jsx(Sm,{size:18})}),l.jsx("button",{onClick:()=>H(K),className:"p-2 text-indigo-600 hover:bg-indigo-100 rounded-full",title:"Pindahkan Penugasan",children:l.jsx($A,{size:18})})]})})]},K.id))})]})})}),N&&l.jsx(zM,{roles:f,units:w,onClose:()=>A(!1),onSave:F}),T&&l.jsx(FM,{staff:M,units:w,onClose:()=>j(!1),onSave:F})]})},VM=()=>{const{staffId:t}=br(),e=Un(),n=yt(),{loading:i,error:o,callApi:u}=ke(),[f,p]=O.useState([]),[w,y]=O.useState(null),N=O.useCallback(async()=>{const[M,k]=await Promise.all([u(`admin_get_staff_detail.php?id=${t}`),u("admin_get_roles.php")]);M&&M.status==="success"&&y(M.data),k&&k.status==="success"&&p(k.data.filter(B=>B.role_name!=="Nasabah"))},[u,t]);O.useEffect(()=>{N()},[N]);const A=M=>{const{name:k,value:B}=M.target;y(F=>({...F,[k]:B}))},T=async M=>{M.preventDefault();const k={staff_id:t,full_name:w.full_name,email:w.email,role_id:w.role_id},B=await u("admin_edit_staff.php","POST",k);B&&B.status==="success"&&(n.showAlert({title:"Berhasil",message:B.message,type:"success"}),e("/admin/staff"))},j=async()=>{if(await n.showConfirmation({title:"Konfirmasi Reset Password",message:`Anda yakin ingin mereset password untuk ${w.full_name}? Password baru akan ditampilkan setelahnya.`,confirmText:"Ya, Reset Password"})){const k=await u("admin_reset_staff_password.php","POST",{staff_id:t});k&&k.status==="success"&&n.showAlert({title:"Password Berhasil Direset",message:`Password sementara baru adalah: ${k.data.temporary_password}. Harap segera berikan kepada staf yang bersangkutan.`,type:"success"})}};return i&&!w?l.jsx("div",{className:"text-center p-8",children:"Memuat data staf..."}):o&&!w?l.jsx("div",{className:"text-center p-8 text-red-500",children:o}):w?l.jsxs("div",{children:[l.jsxs(Fe,{to:"/admin/staff",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Edit Staf"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center",children:[l.jsx(oo,{size:20,className:"mr-2"})," Informasi Profil"]}),l.jsxs("form",{onSubmit:T,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(Se,{name:"full_name",label:"Nama Lengkap",value:w.full_name,onChange:A,required:!0}),l.jsx(Se,{name:"email",type:"email",label:"Email",value:w.email,onChange:A,required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Peran"}),l.jsx("select",{name:"role_id",value:w.role_id,onChange:A,className:"w-full px-4 py-2 text-gray-800 bg-gray-50 border border-gray-300 rounded-lg",children:f.map(M=>l.jsx("option",{value:M.id,children:M.role_name},M.id))})]})]}),o&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:o}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx(Te,{type:"submit",disabled:i,children:i?"Menyimpan...":"Simpan Perubahan"})})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center",children:[l.jsx(Ky,{size:20,className:"mr-2"})," Keamanan Akun"]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Klik tombol di bawah ini untuk mereset password staf. Sebuah password sementara akan dibuat dan harus segera diberikan kepada staf yang bersangkutan untuk login."}),l.jsx(Te,{onClick:j,disabled:i,className:"w-full bg-yellow-500 hover:bg-yellow-600",children:i?"Memproses...":"Reset Password"})]})]})]}):null},YM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),f=O.useCallback(async()=>{const w=await n("admin_get_card_requests.php");w&&w.status==="success"&&u(w.data)},[n]);O.useEffect(()=>{f()},[f]);const p=async w=>{if(await i.showConfirmation({title:"Konfirmasi Aktivasi Kartu",message:"Anda akan mengaktifkan kartu ini. Pastikan kartu fisik sudah diterima oleh nasabah. Lanjutkan?",confirmText:"Ya, Aktifkan"})){const N=await n("admin_process_card_request.php","POST",{card_id:w,action:"APPROVE"});N&&N.status==="success"?(i.showAlert({title:"Berhasil",message:N.message,type:"success"}),f()):i.showAlert({title:"Gagal",message:e||N?.message,type:"warning"})}};return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Pengajuan Kartu Debit"}),e&&l.jsx("p",{className:"text-red-500 mb-4",children:e}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nama Nasabah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"No. Rekening"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Tanggal Pengajuan"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Status"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center",children:"Memuat..."})}):o.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center",children:"Tidak ada pengajuan kartu baru."})}):o.map(w=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 font-medium",children:w.customer_name}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:w.account_number}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:new Date(w.requested_at).toLocaleString("id-ID")}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:w.status})}),l.jsx("td",{className:"p-4",children:l.jsxs(Te,{onClick:()=>p(w.id),className:"text-sm py-1 px-3",children:[l.jsx(to,{size:16,className:"inline mr-1"})," Aktifkan"]})})]},w.id))})]})})]})};al.register(Hm,Vm,OE,Um,mh,fh);const um=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),jd=({title:t,value:e,colorClass:n,loading:i,detail:o})=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-500",children:t}),i?l.jsx("div",{className:"h-8 w-3/4 bg-gray-200 rounded animate-pulse mt-1"}):l.jsx("p",{className:`text-2xl font-bold ${n}`,children:um(e)}),o&&!i&&l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o})]}),GM=({dateFilter:t})=>{const{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState(null),f=O.useCallback(async y=>{const N=await i(`admin_get_profit_loss_report.php?start_date=${y.start_date}&end_date=${y.end_date}`);N&&N.status==="success"&&u(N.data)},[i]);O.useEffect(()=>{t&&f(t)},[f,t]);const p={labels:["Ringkasan Finansial"],datasets:[{label:"Pendapatan Bunga Pinjaman",data:[o?.revenue_from_interest||0],backgroundColor:Ht.theme.colors.BPN_BLUE,stack:"Pendapatan"},{label:"Pendapatan Biaya Transaksi",data:[o?.revenue_from_fees||0],backgroundColor:Ht.theme.colors.BPN_YELLOW,stack:"Pendapatan"},{label:"Beban Bunga Nasabah",data:[o?.total_expense||0],backgroundColor:Ht.theme.colors.BPN_RED,stack:"Beban"}]},w={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(y){let N=y.dataset.label||"";return N&&(N+=": "),y.parsed.y!==null&&(N+=um(y.parsed.y)),N}}}},scales:{y:{ticks:{callback:y=>um(y)}}}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Laporan Laba & Rugi"}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Periode: ",t.start_date," s/d ",t.end_date]})]}),l.jsxs("div",{className:"p-4",children:[n&&l.jsx("p",{className:"text-red-500 text-sm my-4",children:n}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsx(jd,{title:"Pendapatan (Bunga Pinjaman)",value:o?.revenue_from_interest??0,colorClass:"text-bpn-blue",loading:e}),l.jsx(jd,{title:"Pendapatan (Biaya Transaksi)",value:o?.revenue_from_fees??0,colorClass:"text-bpn-yellow",loading:e}),l.jsx(jd,{title:"Total Beban",value:o?.total_expense??0,colorClass:"text-bpn-red",loading:e,detail:"Bunga yang dibayarkan ke nasabah"}),l.jsx(jd,{title:"Laba / Rugi Bersih",value:o?.net_profit??0,colorClass:o?.net_profit>=0?"text-bpn-blue":"text-bpn-red",loading:e})]}),l.jsx("div",{className:"h-80",children:!e&&o&&l.jsx(ST,{options:w,data:p})})]})]})},G0=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),WM=({icon:t,title:e,children:n})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-bpn-yellow text-white rounded-lg",children:t}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:e})]}),l.jsx("div",{className:"p-4 flex-grow",children:n})]}),XM=({dateFilter:t})=>{const{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState(null),f=O.useCallback(async p=>{const w=await i(`admin_get_daily_report.php?date=${p}`);w&&w.status==="success"&&u(w.data)},[i]);return O.useEffect(()=>{t&&t.end_date&&f(t.end_date)},[t,f]),l.jsxs(WM,{icon:l.jsx(qN,{size:24}),title:"Ringkasan Harian",children:[l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Menampilkan data untuk tanggal: ",l.jsx("strong",{children:t.end_date})]}),e&&l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Memuat..."}),n&&l.jsx("div",{className:"text-center text-sm text-red-500",children:n}),o?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center bg-green-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-medium text-green-800",children:"Total Pemasukan"}),l.jsx("span",{className:"font-bold text-green-900",children:G0(o.summary.total_credit)})]}),l.jsxs("div",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-medium text-red-800",children:"Total Pengeluaran"}),l.jsx("span",{className:"font-bold text-red-900",children:G0(o.summary.total_debit)})]}),l.jsxs("div",{className:"border-t mt-4 pt-4",children:[l.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Rincian Transaksi:"}),l.jsx("table",{className:"w-full text-sm",children:l.jsx("tbody",{children:Object.entries(o.details).length>0?Object.entries(o.details).map(([p,w])=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:p.replace(/_/g," ")}),l.jsxs("td",{className:"py-1 text-right",children:[w.count," trx"]}),l.jsx("td",{className:"py-1 text-right font-semibold",children:G0(w.amount)})]},p)):l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"text-center text-gray-500 py-4",children:"Tidak ada transaksi."})})})})]})]}):!e&&l.jsx("p",{className:"text-center text-gray-500 py-4",children:"Tidak ada data untuk tanggal ini."})]})},by=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),qM=({icon:t,title:e,children:n})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 text-purple-700 rounded-lg",children:t}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:e})]}),l.jsx("div",{className:"p-4 flex-grow",children:n})]}),KM=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState(""),[w,y]=O.useState(null);O.useEffect(()=>{(async()=>{const T=await n("admin_get_staff_list.php");T&&T.status==="success"&&u(T.data.filter(j=>j.role_name==="Teller"||j.role_name==="Customer Service"))})()},[n]);const N=async()=>{if(!f)return;y(null);const A=await n(`admin_get_teller_report.php?teller_id=${f}`);A&&A.status==="success"&&(y(A),A.data.length===0&&i.showAlert({title:"Informasi",message:"Tidak ditemukan data transaksi untuk teller ini pada tanggal yang dipilih.",type:"info"}))};return l.jsxs(qM,{icon:l.jsx(Sm,{size:24}),title:"Kinerja Teller",children:[l.jsxs("div",{className:"flex gap-2 items-end mb-4",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("label",{className:"text-xs font-medium",children:"Pilih Teller / CS"}),l.jsxs("select",{value:f,onChange:A=>p(A.target.value),className:"w-full p-2 border rounded-lg mt-1 text-sm",children:[l.jsx("option",{value:"",children:"-- Pilih Staf --"}),o.map(A=>l.jsx("option",{value:A.id,children:A.full_name},A.id))]})]}),l.jsx(Te,{onClick:N,disabled:!f||t,children:t?l.jsx(Na,{className:"animate-spin"}):"Cari"})]}),t&&!w&&l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Memuat..."}),e&&l.jsx("p",{className:"text-red-500 text-sm",children:e}),w&&w.summary&&(w.summary.transaction_count>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Total Setoran"}),l.jsx("span",{className:"font-bold",children:by(w.summary.total_deposit)})]}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Total Penarikan"}),l.jsx("span",{className:"font-bold",children:by(w.summary.total_withdrawal)})]}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Jumlah Transaksi"}),l.jsx("span",{className:"font-bold",children:w.summary.transaction_count})]})]}):!t&&l.jsx("p",{className:"text-center text-sm text-gray-500 py-4",children:"Tidak ada transaksi oleh staf ini."}))]})},ZM=({icon:t,title:e,children:n})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 text-blue-700 rounded-lg",children:t}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:e})]}),l.jsx("div",{className:"p-4 flex-grow",children:n})]}),QM=({dateFilter:t})=>{const{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState([]),f=O.useCallback(async p=>{const w=await i(`admin_get_marketing_report.php?start_date=${p.start_date}&end_date=${p.end_date}`);w&&w.status==="success"&&u(w.data)},[i]);return O.useEffect(()=>{t&&f(t)},[t,f]),l.jsxs(ZM,{icon:l.jsx(Yc,{size:24}),title:"Kinerja Akuisisi Staf",children:[e&&l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Memuat..."}),n&&l.jsx("div",{className:"text-center text-sm text-red-500",children:n}),o.length>0?l.jsx("ul",{className:"space-y-2",children:o.map(p=>l.jsxs("li",{className:"flex justify-between items-center text-sm p-2 rounded-md hover:bg-gray-50",children:[l.jsx("span",{children:p.marketing_name}),l.jsxs("span",{className:"font-bold",children:[p.new_customers," Nasabah"]})]},p.marketing_name))}):!e&&l.jsx("p",{className:"text-center text-sm text-gray-500 py-4",children:"Tidak ada data akuisisi pada periode ini."})]})},JM=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),$M=({icon:t,title:e,children:n})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-red-100 text-red-700 rounded-lg",children:t}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:e})]}),l.jsx("div",{className:"p-4 flex-grow",children:n})]}),eD=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState("30"),[u,f]=O.useState([]),p=O.useCallback(async()=>{const y=await n(`admin_get_npl_report.php?days_overdue=${i}`);y&&y.status==="success"&&f(y.data)},[n,i]);O.useEffect(()=>{p()},[]);const w=y=>{y.preventDefault(),p()};return l.jsxs($M,{icon:l.jsx(rh,{size:24}),title:"Pinjaman Bermasalah (NPL)",children:[l.jsxs("form",{onSubmit:w,className:"flex items-center gap-2 mb-4",children:[l.jsxs("label",{className:"text-sm",children:["Tunggakan ",">="]}),l.jsx(Se,{type:"number",value:i,onChange:y=>o(y.target.value),className:"w-20 text-sm p-1"}),l.jsx("label",{className:"text-sm",children:"hari"}),l.jsx(Te,{type:"submit",disabled:t,className:"py-1 px-3 text-sm ml-auto",children:t?l.jsx(Na,{className:"animate-spin"}):"Cari"})]}),t&&l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Memuat..."}),e&&l.jsx("p",{className:"text-red-500 text-sm",children:e}),u.length>0?l.jsx("ul",{className:"space-y-2 text-sm max-h-48 overflow-y-auto pr-2",children:u.map((y,N)=>l.jsxs("li",{className:"flex justify-between items-center p-2 rounded-md hover:bg-gray-50",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:y.full_name}),l.jsx("p",{className:"text-xs text-gray-500",children:y.phone_number})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-red-600",children:JM(y.installment_amount)}),l.jsxs("p",{className:"text-xs text-red-500",children:[y.overdue_days," hari"]})]})]},N))}):!t&&l.jsx("p",{className:"text-center text-sm text-gray-500 py-4",children:"Tidak ada pinjaman bermasalah."})]})},wy=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),tD=({icon:t,title:e,children:n})=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-700 rounded-lg",children:t}),l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:e})]}),l.jsx("div",{className:"p-4 flex-grow",children:n})]}),nD=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState(null),u=O.useCallback(async()=>{const f=await n("admin_get_product_performance_report.php");f&&f.status==="success"&&o(f.data)},[n]);return O.useEffect(()=>{u()},[u]),l.jsxs(tD,{icon:l.jsx(LA,{size:24}),title:"Kinerja Produk",children:[t&&l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Memuat..."}),e&&l.jsx("div",{className:"text-center text-sm text-red-500",children:e}),i&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Produk Pinjaman"}),i.loans.length>0?l.jsx("table",{className:"w-full text-sm",children:l.jsx("tbody",{children:i.loans.map(f=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-2",children:f.product_name}),l.jsxs("td",{className:"py-2 text-right",children:[f.total_disbursed," pencairan"]}),l.jsx("td",{className:"py-2 text-right font-semibold",children:wy(f.total_amount)})]},f.product_name))})}):l.jsx("p",{className:"text-xs text-gray-500",children:"Tidak ada data."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Produk Deposito"}),i.deposits.length>0?l.jsx("table",{className:"w-full text-sm",children:l.jsx("tbody",{children:i.deposits.map(f=>l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-2",children:f.product_name}),l.jsxs("td",{className:"py-2 text-right",children:[f.total_accounts," rekening"]}),l.jsx("td",{className:"py-2 text-right font-semibold",children:wy(f.total_balance)})]},f.product_name))})}):l.jsx("p",{className:"text-xs text-gray-500",children:"Tidak ada data."})]})]})]})};al.register(bE,mh,fh);const aD=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),sD=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),u=O.useCallback(async()=>{const w=await n("admin_get_account_balance_report.php");w&&w.status==="success"&&o(w.data)},[n]);O.useEffect(()=>{u()},[u]);const f={labels:i.map(w=>w.account_type.replace("_"," ")),datasets:[{data:i.map(w=>w.total_balance),backgroundColor:[Ht.theme.colors.BPN_BLUE,Ht.theme.colors.BPN_YELLOW,Ht.theme.colors.BPN_RED,"#6b7280"],borderColor:"#ffffff",borderWidth:2}]},p={responsive:!0,plugins:{legend:{position:"bottom"}}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Total Saldo per Jenis Akun"}),t&&l.jsx("p",{children:"Memuat laporan..."}),e&&l.jsx("p",{className:"text-red-500",children:e}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[l.jsx("div",{className:"max-w-xs mx-auto",children:i.length>0&&l.jsx(CT,{data:f,options:p})}),l.jsx("div",{children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-2",children:"Jenis Akun"}),l.jsx("th",{className:"py-2 text-right",children:"Jumlah Akun"}),l.jsx("th",{className:"py-2 text-right",children:"Total Saldo"})]})}),l.jsx("tbody",{children:i.map(w=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-2 font-medium",children:w.account_type.replace("_"," ")}),l.jsx("td",{className:"py-2 text-right",children:Number(w.number_of_accounts).toLocaleString("id-ID")}),l.jsx("td",{className:"py-2 text-right font-semibold",children:aD(w.total_balance)})]},w.account_type))})]})})]})]})},_y=t=>new Date(t).toISOString().split("T")[0],W0=({id:t,activeTab:e,setActiveTab:n,icon:i,children:o})=>l.jsxs("button",{onClick:()=>n(t),className:`flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-md transition-colors ${e===t?"bg-bpn-blue text-white shadow":"text-gray-600 hover:bg-gray-200"}`,children:[i,o]}),iD=()=>{const[t,e]=O.useState("financial"),[n,i]=O.useState({start_date:_y(new Date(new Date().getFullYear(),new Date().getMonth(),1)),end_date:_y(new Date)}),[o,u]=O.useState(n),f=w=>{i(y=>({...y,[w.target.name]:w.target.value}))},p=O.useCallback(()=>{u(n)},[n]);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-3 bg-bpn-blue text-white rounded-lg",children:l.jsx(Wy,{size:28})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Pusat Laporan"}),l.jsx("p",{className:"text-gray-500",children:"Analisis kinerja bisnis Anda secara mendalam."})]})]}),l.jsxs("div",{className:"w-full md:w-auto flex flex-col sm:flex-row items-stretch gap-2 bg-white p-2 rounded-lg border",children:[l.jsx(Se,{type:"date",name:"start_date",label:"Dari",value:n.start_date,onChange:f}),l.jsx(Se,{type:"date",name:"end_date",label:"Sampai",value:n.end_date,onChange:f}),l.jsx(Te,{onClick:p,className:"h-full",children:"Terapkan"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-6 p-2 bg-gray-100 rounded-lg",children:[l.jsx(W0,{id:"financial",activeTab:t,setActiveTab:e,icon:l.jsx(gr,{size:16}),children:"Finansial"}),l.jsx(W0,{id:"operational",activeTab:t,setActiveTab:e,icon:l.jsx(MN,{size:16}),children:"Operasional"}),l.jsx(W0,{id:"customer",activeTab:t,setActiveTab:e,icon:l.jsx(Yc,{size:16}),children:"Nasabah & Akuisisi"})]}),l.jsxs("div",{children:[t==="financial"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(GM,{dateFilter:o}),l.jsx(sD,{})]}),t==="operational"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(XM,{dateFilter:o}),l.jsx(KM,{}),l.jsx(nD,{}),l.jsx(eD,{})]}),t==="customer"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(rw,{dateFilter:o})}),l.jsx(QM,{dateFilter:o})]})]})]})},rD=({notification:t})=>l.jsx("div",{className:`p-4 border-l-4 ${t.is_read?"bg-white":"bg-blue-50"} ${t.is_read?"border-transparent":"border-blue-500"}`,children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 pt-1",children:l.jsx(zc,{className:`w-5 h-5 ${t.is_read?"text-gray-400":"text-blue-700"}`})}),l.jsxs("div",{className:"ml-3 w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.title}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.message}),l.jsx("p",{className:"mt-1 text-xs text-gray-400",children:new Date(t.created_at).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"})})]})]})}),lD=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),u=O.useCallback(async()=>{const p=await n("notifications_get_list.php");p&&p.status==="success"&&o(p.data)},[n]);O.useEffect(()=>{u()},[u]);const f=async()=>{const p=await n("user_mark_notification_read.php","POST",{notification_id:"all"});p&&p.status==="success"&&u()};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Notifikasi Staf"}),l.jsxs(Te,{onClick:f,disabled:t,className:"py-2 px-4 text-sm",children:[l.jsx(th,{size:16,className:"mr-2"})," Tandai Semua Dibaca"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t&&l.jsx("p",{className:"p-4 text-center",children:"Memuat notifikasi..."}),e&&l.jsx("p",{className:"p-4 text-center text-red-500",children:e}),l.jsx("div",{className:"divide-y divide-gray-200",children:!t&&i.length>0?i.map(p=>l.jsx(rD,{notification:p},p.id)):!t&&l.jsx("p",{className:"p-8 text-center text-gray-500",children:"Tidak ada notifikasi baru."})})]})]})},oD=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),cD=({request:t,onClose:e,onApprove:n,onReject:i,status:o})=>{const u=Ht.api.baseUrl.replace("/app",""),f=t.proof_of_payment_url.startsWith("http")?t.proof_of_payment_url:`${u}${t.proof_of_payment_url}`;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative transform transition-transform duration-300 ease-out scale-100",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:l.jsx(Hs,{size:24})}),l.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Detail Permintaan Isi Saldo"}),l.jsxs("div",{className:"space-y-2 text-sm mb-4 text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Nasabah:"})," ",t.customer_name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Jumlah:"})," ",l.jsx("span",{className:"font-semibold text-gray-800",children:oD(t.amount)})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Metode:"})," ",t.payment_method]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tanggal:"})," ",new Date(t.created_at).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2 text-gray-700",children:"Bukti Pembayaran:"}),l.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"block border rounded-md overflow-hidden",children:l.jsx("img",{src:f,alt:"Bukti Pembayaran",className:"w-full h-auto max-h-80 object-contain bg-gray-100",onError:p=>{p.target.onerror=null,p.target.src="https://placehold.co/600x400/EEE/31343C?text=Gambar+Tidak+Ditemukan"}})})]}),l.jsx("div",{className:"mt-6 flex justify-end gap-4 border-t pt-4",children:o==="PENDING"?l.jsxs(l.Fragment,{children:[l.jsx(Te,{onClick:i,className:"bg-red-600 hover:bg-red-700",children:"Tolak"}),l.jsx(Te,{onClick:n,children:"Setujui"})]}):l.jsx(Te,{onClick:e,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Tutup"})})]})})},uD=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),dD=({onSubmit:t,onCancel:e,loading:n})=>{const[i,o]=O.useState(""),u=f=>{f.preventDefault(),t(i)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("form",{onSubmit:u,className:"bg-white rounded-lg shadow-xl w-full max-w-sm",children:[l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Alasan Penolakan"}),l.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4",children:"Harap masukkan alasan mengapa permintaan ini ditolak."}),l.jsx("textarea",{value:i,onChange:f=>o(f.target.value),className:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-taskora-green-300",rows:"3",required:!0})]}),l.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex flex-row-reverse gap-3 rounded-b-lg",children:[l.jsx(Te,{type:"submit",disabled:n,className:"bg-red-600 hover:bg-red-700",children:n?"Memproses...":"Tolak Permintaan"}),l.jsx(Te,{type:"button",onClick:e,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Batal"})]})]})})},X0=({id:t,activeTab:e,setActiveTab:n,children:i})=>l.jsx("button",{onClick:()=>n(t),className:`px-4 py-2 text-sm font-semibold rounded-t-lg border-b-2 transition-colors ${e===t?"border-taskora-green-700 text-taskora-green-700":"border-transparent text-gray-500 hover:text-gray-700"}`,children:i}),hD=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState(null),[w,y]=O.useState("PENDING"),[N,A]=O.useState(!1),[T,j]=O.useState(null),M=O.useCallback(async F=>{const H=await n(`admin_get_topup_requests.php?status=${F}`);H&&H.status==="success"?u(H.data):u([])},[n]);O.useEffect(()=>{M(w)},[M,w]);const k=async(F,H,G=null)=>{f&&p(null),N&&A(!1);const $=await n("admin_process_topup_request.php","POST",{request_id:F,action:H,rejection_reason:G});$&&$.status==="success"?(await i.showAlert({title:"Berhasil",message:$.message,type:"success"}),M(w)):await i.showAlert({title:"Gagal",message:e||$?.message||"Terjadi kesalahan",type:"warning"})},B=F=>{j(F),A(!0)};return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Permintaan Isi Saldo"}),l.jsxs("div",{className:"flex border-b mb-4",children:[l.jsx(X0,{id:"PENDING",activeTab:w,setActiveTab:y,children:"Menunggu Persetujuan"}),l.jsx(X0,{id:"APPROVED",activeTab:w,setActiveTab:y,children:"Disetujui"}),l.jsx(X0,{id:"REJECTED",activeTab:w,setActiveTab:y,children:"Ditolak"})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nasabah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Jumlah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Metode"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:w==="PENDING"?"Tanggal Request":"Tanggal Proses"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center",children:"Memuat..."})}):o.length>0?o.map(F=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 font-medium",children:F.customer_name}),l.jsx("td",{className:"p-4",children:uD(F.amount)}),l.jsx("td",{className:"p-4",children:F.payment_method}),l.jsx("td",{className:"p-4 text-sm",children:new Date(w==="PENDING"?F.created_at:F.processed_at).toLocaleString("id-ID")}),l.jsx("td",{className:"p-4",children:l.jsxs(Te,{onClick:()=>p(F),className:"py-1 px-3 text-sm flex items-center gap-1",children:[l.jsx(Ec,{size:16})," Lihat Detail"]})})]},F.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"Tidak ada permintaan pada kategori ini."})})})]})})}),f&&l.jsx(cD,{request:f,onClose:()=>p(null),onApprove:()=>k(f.id,"APPROVE"),onReject:()=>B(f),status:w}),N&&l.jsx(dD,{loading:t,onCancel:()=>A(!1),onSubmit:F=>k(T.id,"REJECT",F)})]})},fD=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),Md=({id:t,activeTab:e,setActiveTab:n,children:i})=>l.jsx("button",{onClick:()=>n(t),className:`px-4 py-2 text-sm font-semibold rounded-t-lg border-b-2 transition-colors ${e===t?"border-taskora-green-700 text-taskora-green-700":"border-transparent text-gray-500 hover:text-gray-700"}`,children:i}),mD=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState([]),[f,p]=O.useState("PENDING"),w=O.useCallback(async A=>{const T=await n(`admin_get_withdrawal_requests.php?status=${A}`);T&&T.status==="success"?u(T.data):u([])},[n]);O.useEffect(()=>{w(f)},[w,f]);const y=async(A,T)=>{if(await i.showConfirmation({title:`Konfirmasi ${T==="APPROVE"?"Persetujuan":"Penolakan"}`,message:`Anda yakin ingin ${T==="APPROVE"?"menyetujui":"menolak"} permintaan penarikan ini?`,confirmText:`Ya, ${T==="APPROVE"?"Setujui":"Tolak"}`})){const M=await n("admin_process_withdrawal_request.php","POST",{request_id:A,action:T});M&&M.status==="success"?(await i.showAlert({title:"Berhasil",message:"Permintaan berhasil diproses.",type:"success"}),w(f)):await i.showAlert({title:"Gagal",message:e||M?.message,type:"warning"})}},N=async A=>{if(await i.showConfirmation({title:"Konfirmasi Pencairan Dana",message:"Anda akan mengeksekusi transfer dana ke rekening nasabah. Pastikan proses transfer eksternal sudah siap. Tindakan ini akan menyelesaikan transaksi.",confirmText:"Ya, Cairkan Dana"})){const j=await n("admin_disburse_withdrawal.php","POST",{request_id:A});j&&j.status==="success"?(await i.showAlert({title:"Berhasil",message:j.message,type:"success"}),w(f)):await i.showAlert({title:"Gagal",message:e||j?.message,type:"warning"})}};return l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Permintaan Penarikan Dana"}),l.jsxs("div",{className:"flex border-b mb-4",children:[l.jsx(Md,{id:"PENDING",activeTab:f,setActiveTab:p,children:"Menunggu Persetujuan"}),l.jsx(Md,{id:"APPROVED",activeTab:f,setActiveTab:p,children:"Siap Dicairkan"}),l.jsx(Md,{id:"COMPLETED",activeTab:f,setActiveTab:p,children:"Selesai"}),l.jsx(Md,{id:"REJECTED",activeTab:f,setActiveTab:p,children:"Ditolak"})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Nasabah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Jumlah"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Rekening Tujuan"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:f==="PENDING"?"Tanggal Request":"Tanggal Proses"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"})]})}),l.jsx("tbody",{className:"divide-y",children:t?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center",children:"Memuat..."})}):o.length>0?o.map(A=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 font-medium",children:A.customer_name}),l.jsx("td",{className:"p-4",children:fD(A.amount)}),l.jsxs("td",{className:"p-4 text-sm",children:[A.bank_name," - ",A.account_number," (a/n ",A.account_name,")"]}),l.jsx("td",{className:"p-4 text-sm",children:new Date(f==="PENDING"?A.created_at:A.processed_at).toLocaleString("id-ID")}),l.jsxs("td",{className:"p-4",children:[f==="PENDING"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Te,{onClick:()=>y(A.id,"APPROVE"),title:"Setujui",className:"py-1 px-3 text-sm bg-green-600 hover:bg-green-700",children:l.jsx(to,{size:16})}),l.jsx(Te,{onClick:()=>y(A.id,"REJECT"),title:"Tolak",className:"py-1 px-3 text-sm bg-red-600 hover:bg-red-700",children:l.jsx(em,{size:16})})]}),f==="APPROVED"&&l.jsxs(Te,{onClick:()=>N(A.id),title:"Cairkan Dana",className:"py-1 px-3 text-sm bg-blue-600 hover:bg-blue-700",children:[l.jsx(gr,{size:16})," Cairkan"]}),(f==="COMPLETED"||f==="REJECTED")&&l.jsx("span",{className:"text-xs text-gray-500 italic",children:"Selesai"})]})]},A.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"Tidak ada permintaan pada kategori ini."})})})]})})})]})},gD=({action:t,details:e,transactionCode:n})=>{if(n)return`Kode Transaksi: ${n}`;try{const i=JSON.parse(e);switch(t){case"APPROVE_LOAN":return`Menyetujui Pinjaman ID: ${i.loan_id}`;case"REJECT_LOAN":return`Menolak Pinjaman ID: ${i.loan_id}`;case"APPROVE_TOPUP":return`Menyetujui Top-Up ID: ${i.topup_request_id}`;case"CUSTOMER_PIN_RESET":return`Reset PIN untuk Customer ID: ${i.reset_pin_for_customer_id}`;case"TRANSACTION_REVERSAL":return`Membatalkan Transaksi ID: ${i.reversed_transaction_id}`;case"DISBURSE_LOAN":return`Mencairkan Pinjaman ID: ${i.loan_id}`;case"DISBURSE_WITHDRAWAL":return`Mencairkan Penarikan ID: ${i.withdrawal_request_id}`;case"UPDATE_SYSTEM_CONFIG":return`Memperbarui konfigurasi: ${i.updated_keys.join(", ")}`;case"CREATE_STAFF":return`Membuat staf baru: ${i.email} (ID: ${i.new_staff_id})`;case"UPDATE_STAFF_STATUS":return`Ubah status staf ID ${i.target_staff_id} menjadi ${i.new_status}`;case"UPDATE_STAFF_ASSIGNMENT":return`Pindah tugas staf ID ${i.target_staff_id} ke unit ID ${i.new_unit_id}`;case"EDIT_CUSTOMER_PROFILE":return`Edit profil nasabah ID: ${i.edited_customer_id}`;case"APPROVE_CARD_REQUEST":return`Menyetujui kartu ID: ${i.approved_card_id}`;case"PROCESS_ACCOUNT_CLOSURE":return`${i.action==="APPROVE"?"Menyetujui":"Menolak"} penutupan akun untuk nasabah ID: ${i.customer_id}`;default:return l.jsx("span",{className:"text-gray-500 text-xs",children:e})}}catch{return l.jsx("span",{className:"text-gray-500 text-xs",children:e||"N/A"})}},xD=()=>{const{loading:t,error:e,callApi:n}=ke(),[i,o]=O.useState([]),[u,f]=O.useState({}),[p,w]=O.useState(1),[y,N]=O.useState(""),A=O.useCallback(async(M,k)=>{const B=await n(`admin_get_audit_log.php?page=${M}&action=${k}`);B&&B.status==="success"&&(o(B.data),f(B.pagination))},[n]);O.useEffect(()=>{A(p,y)},[p,y,A]);const T=["APPROVE_TOPUP","DISBURSE_WITHDRAWAL","APPROVE_LOAN","REJECT_LOAN","DISBURSE_LOAN","CUSTOMER_PIN_RESET","TRANSACTION_REVERSAL","UPDATE_SYSTEM_CONFIG","CREATE_STAFF","UPDATE_STAFF_STATUS","UPDATE_STAFF_ASSIGNMENT","EDIT_CUSTOMER_PROFILE","APPROVE_CARD_REQUEST","PROCESS_ACCOUNT_CLOSURE"].sort(),j=M=>M.includes("APPROVE")||M.includes("DISBURSE")||M.includes("CREATE")?"bg-green-100 text-green-800":M.includes("REJECT")||M.includes("REVERSAL")?"bg-red-100 text-red-800":M.includes("RESET")||M.includes("UPDATE")||M.includes("EDIT")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Nm,{size:32,className:"text-taskora-green-700"}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Log Audit Sistem"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qy,{size:18,className:"text-gray-500"}),l.jsxs("select",{value:y,onChange:M=>{N(M.target.value),w(1)},className:"p-2 border rounded-lg text-sm bg-white",children:[l.jsx("option",{value:"",children:"Semua Aksi"}),T.map(M=>l.jsx("option",{value:M,children:M},M))]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Tanggal & Waktu"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Staf Pelaku"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Aksi"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Detail Aktivitas"}),l.jsx("th",{className:"p-4 text-left text-sm font-semibold text-gray-600",children:"Alamat IP"})]})}),l.jsx("tbody",{className:"divide-y",children:t&&i.length===0?l.jsx("tr",{children:l.jsxs("td",{colSpan:"5",className:"p-8 text-center",children:[l.jsx(Na,{className:"animate-spin inline-block mr-2"})," Memuat log..."]})}):e?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center text-red-500",children:e})}):i.length>0?i.map(M=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4 text-sm text-gray-600 whitespace-nowrap",children:new Date(M.created_at).toLocaleString("id-ID",{dateStyle:"short",timeStyle:"medium"})}),l.jsx("td",{className:"p-4 font-medium text-gray-800",children:M.full_name}),l.jsx("td",{className:"p-4 text-sm",children:l.jsx("span",{className:`font-mono px-2 py-1 rounded text-xs font-semibold ${j(M.action)}`,children:M.action})}),l.jsx("td",{className:"p-4 text-sm text-gray-700 font-mono",children:l.jsx(gD,{action:M.action,details:M.details,transactionCode:M.transaction_code})}),l.jsx("td",{className:"p-4 text-sm text-gray-600",children:M.ip_address})]},M.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500",children:"Tidak ada log audit yang cocok dengan filter."})})})]})}),u&&u.total_pages>1&&l.jsxs("div",{className:"flex justify-between items-center px-6 py-3 border-t",children:[l.jsxs("button",{onClick:()=>w(p-1),disabled:p<=1||t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50",children:[l.jsx(nh,{size:16})," Sebelumnya"]}),l.jsxs("span",{className:"text-sm text-gray-700",children:["Halaman ",u.current_page||0," dari ",u.total_pages||0]}),l.jsxs("button",{onClick:()=>w(p+1),disabled:p>=u.total_pages||t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 disabled:opacity-50",children:["Berikutnya ",l.jsx(vi,{size:16})]})]})]})]})},Dd=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),mc=({label:t,value:e,highlight:n=!1})=>l.jsxs("div",{className:"flex justify-between items-center py-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:t}),l.jsx("span",{className:`text-sm font-semibold ${n?"text-lg text-taskora-green-700":"text-gray-800"}`,children:e})]}),pD=()=>{const{loading:t,error:e,callApi:n}=ke(),i=yt(),[o,u]=O.useState(1),[f,p]=O.useState(""),[w,y]=O.useState(""),[N,A]=O.useState(null),[T,j]=O.useState(null),M=async G=>{G.preventDefault();const K=await n("transfer_internal_inquiry.php","POST",{destination_account_number:f});K&&K.status==="success"&&(A(K.data),u(2))},k=async G=>{if(G.preventDefault(),await i.showConfirmation({title:"Konfirmasi Setoran Tunai",message:`Anda akan melakukan setoran sebesar ${Dd(w)} ke rekening ${N.account_number} a/n ${N.recipient_name}. Lanjutkan?`,confirmText:"Ya, Konfirmasi Setoran"})){const $=await n("admin_teller_deposit.php","POST",{account_number:f,amount:w});$&&$.status==="success"&&(j($.data),u(3))}},B=()=>{u(1),p(""),y(""),A(null),j(null)},F=()=>{T?.transaction_id&&window.open(`/admin/print-receipt/${T.transaction_id}`,"_blank")},H=()=>o===3&&T?l.jsxs("div",{children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx(to,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}),l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Setoran Berhasil"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Dana telah berhasil ditambahkan ke rekening nasabah."})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-1 divide-y",children:[l.jsx(mc,{label:"Nasabah",value:N.recipient_name}),l.jsx(mc,{label:"No. Rekening",value:N.account_number}),l.jsx(mc,{label:"Saldo Awal",value:Dd(T.initial_balance)}),l.jsx(mc,{label:"Jumlah Setoran",value:Dd(w)}),l.jsx(mc,{label:"Saldo Akhir",value:Dd(T.final_balance),highlight:!0})]}),l.jsxs("div",{className:"mt-6 flex gap-2",children:[l.jsxs(Te,{onClick:F,className:"bg-gray-600 hover:bg-gray-700 w-1/2",children:[l.jsx(Jy,{size:16,className:"mr-2"})," Cetak Nota"]}),l.jsxs(Te,{onClick:B,fullWidth:!0,children:[l.jsx(bs,{size:16,className:"mr-2"})," Transaksi Baru"]})]})]}):o===2&&N?l.jsxs("form",{onSubmit:k,children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Langkah 2: Konfirmasi & Setoran"}),l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md mb-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Sm,{size:24}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:N.recipient_name}),l.jsx("p",{className:"text-sm",children:N.account_number})]})]})}),l.jsx(Se,{label:"Jumlah Setoran (Rp)",type:"number",name:"amount",value:w,onChange:G=>y(G.target.value),placeholder:"Masukkan jumlah setoran",required:!0}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsxs("div",{className:"mt-6 flex gap-2",children:[l.jsxs(Te,{type:"button",onClick:B,className:"bg-gray-200 text-gray-800 hover:bg-gray-300",children:[l.jsx(Xt,{size:16,className:"mr-1"})," Batal"]}),l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(Na,{className:"animate-spin mr-2"})," Memproses..."]}):"Setor Dana"})]})]}):l.jsxs("form",{onSubmit:M,children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Langkah 1: Cari Rekening Nasabah"}),l.jsx(Se,{label:"Nomor Rekening Tujuan",name:"accountNumber",value:f,onChange:G=>p(G.target.value),placeholder:"Masukkan nomor rekening",required:!0}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(Na,{className:"animate-spin mr-2"})," Mencari..."]}):"Cek Rekening"})})]});return l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[l.jsx(Uc,{size:32}),l.jsx("span",{children:"Setor Tunai Teller"})]}),l.jsx("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md mx-auto",children:H()})]})},gc=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),yD=()=>{const{loading:t,error:e,callApi:n,setError:i}=ke(),o=yt(),[u,f]=O.useState(""),[p,w]=O.useState([]),[y,N]=O.useState(null),[A,T]=O.useState("");O.useEffect(()=>{if(u.length<3){w([]);return}const H=setTimeout(()=>{j()},500);return()=>clearTimeout(H)},[u]);const j=async()=>{if(u.length<3)return;N(null);const H=await n(`admin_search_installments.php?q=${u}`);H&&H.status==="success"?w(H.data):w([])},M=H=>{N(H);const G=parseFloat(H.amount_due)+parseFloat(H.penalty_amount);T(G.toString()),i(null)},k=async H=>{H.preventDefault();const G={installment_id:y.installment_id,cash_amount:A};if(await o.showConfirmation({title:"Konfirmasi Pembayaran",message:`Anda akan memproses pembayaran tunai sebesar ${gc(A)} untuk angsuran pinjaman ${y.customer_name}. Lanjutkan?`,confirmText:"Ya, Proses Pembayaran"})){const $=await n("admin_teller_pay_installment.php","POST",G);$&&$.status==="success"&&(await o.showAlert({title:"Berhasil",message:$.message,type:"success"}),window.open(`/admin/print-receipt/${$.data.transaction_id}`,"_blank"),B())}},B=()=>{f(""),w([]),N(null),T("")},F=y?parseFloat(y.amount_due)+parseFloat(y.penalty_amount):0;return l.jsxs("div",{children:[l.jsxs(Fe,{to:"/admin/dashboard",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[l.jsx(Xt,{size:20}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pembayaran Angsuran Tunai"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"1. Cari Angsuran Nasabah"}),l.jsxs("div",{className:"relative",children:[l.jsx(Se,{value:u,onChange:H=>f(H.target.value),placeholder:"Ketik nama atau ID pinjaman..."}),l.jsx(Vc,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]}),t&&l.jsx("div",{className:"text-center mt-4",children:l.jsx(Na,{className:"animate-spin inline-block"})}),l.jsx("div",{className:"mt-4 space-y-2 max-h-96 overflow-y-auto",children:p.map(H=>l.jsxs("div",{onClick:()=>M(H),className:`p-3 border rounded-lg cursor-pointer ${y?.installment_id===H.installment_id?"bg-blue-100 border-blue-400":"hover:bg-gray-50"}`,children:[l.jsx("p",{className:"font-bold",children:H.customer_name}),l.jsxs("p",{className:"text-sm",children:[H.product_name," - Angsuran ke-",H.installment_number]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Jatuh Tempo: ",new Date(H.due_date).toLocaleDateString("id-ID")]})]},H.installment_id))})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"2. Konfirmasi Pembayaran"}),y?l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Angsuran Pokok"}),l.jsx("span",{className:"font-semibold",children:gc(y.amount_due)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Denda"}),l.jsx("span",{className:"font-semibold",children:gc(y.penalty_amount)})]}),l.jsxs("div",{className:"flex justify-between font-bold text-base border-t pt-2 mt-2",children:[l.jsx("span",{children:"Total Tagihan"}),l.jsx("span",{children:gc(F)})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx(Se,{label:"Jumlah Uang Tunai Diterima (Rp)",type:"number",value:A,onChange:H=>T(H.target.value),required:!0})}),parseFloat(A)>F&&l.jsxs("div",{className:"mt-2 text-sm text-blue-700 bg-blue-100 p-2 rounded-md flex items-center gap-2",children:[l.jsx(_m,{size:16}),"Kembalian: ",gc(A-F)]}),e&&l.jsx("p",{className:"text-red-500 text-sm mt-4 text-center",children:e}),l.jsx("div",{className:"mt-6",children:l.jsx(Te,{type:"submit",fullWidth:!0,disabled:t||parseFloat(A)<F,children:t?"Memproses...":"Proses Pembayaran"})})]}):l.jsx("div",{className:"text-center text-gray-500 h-full flex flex-col justify-center items-center",children:l.jsx("p",{children:"Pilih angsuran dari hasil pencarian untuk melanjutkan."})})]})]})]})},q0=t=>t===null||typeof t>"u"?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),bD=t=>new Date(t).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Os=({label:t,value:e,isTotal:n=!1,fullWidth:i=!1})=>l.jsxs("div",{className:`flex ${i?"flex-col items-start":"justify-between items-start"} ${n?"font-bold text-base mt-2 pt-2 border-t border-dashed":"text-xs"}`,children:[l.jsx("span",{className:"text-left",children:t}),l.jsx("span",{className:`text-right font-mono ${i?"w-full":""}`,children:e})]}),wD=()=>{const{transactionId:t}=br(),{loading:e,error:n,callApi:i}=ke(),[o,u]=O.useState(null),f=O.useCallback(async()=>{const A=await i(`admin_get_receipt_data.php?id=${t}`);A&&A.status==="success"&&u(A.data)},[i,t]);O.useEffect(()=>{f()},[f]),O.useEffect(()=>{if(o){const A=setTimeout(()=>window.print(),500);return()=>clearTimeout(A)}},[o]);const p=`
        @media print {
            .no-print { display: none; }
            @page {
                size: 80mm auto; /* Atur ukuran kertas jika printer mendukung */
                margin: 0;
            }
            body {
                margin: 0;
                padding: 0;
                background-color: #fff;
            }
            body * {
                visibility: hidden;
                font-family: 'Courier New', Courier, monospace;
            }
            #printable-area, #printable-area * {
                visibility: visible;
            }
            #printable-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                padding: 2mm; /* Beri sedikit padding */
                box-shadow: none;
                border: none;
            }
        }
    `;if(e)return l.jsxs("div",{className:"flex items-center justify-center h-screen",children:[l.jsx(Na,{className:"animate-spin mr-2"})," Memuat data nota..."]});if(n)return l.jsx("div",{className:"text-center p-8 text-red-500",children:n});if(!o)return l.jsx("div",{className:"text-center p-8",children:"Data nota tidak ditemukan."});const w=o.transaction_type&&o.transaction_type.includes("BAYAR_CICILAN"),y=w?"BUKTI PEMBAYARAN ANGSURAN":"BUKTI SETORAN TUNAI",N=w?"Jml Bayar":"Jml Setor";return l.jsxs(l.Fragment,{children:[l.jsx("style",{children:p}),l.jsxs("div",{className:"bg-gray-200 min-h-screen flex flex-col items-center justify-center p-4 font-mono",children:[l.jsx("div",{className:"w-full max-w-[300px] bg-white shadow-lg",id:"printable-area",children:l.jsxs("div",{className:"p-2",children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("img",{src:Ht.brand.logo,alt:"Logo",className:"h-8 mx-auto mb-1"}),l.jsx("p",{className:"text-xs font-bold",children:o.unit_name||"KANTOR PUSAT"}),l.jsx("p",{className:"text-[10px] text-gray-700 leading-tight",children:o.unit_address})]}),l.jsx("div",{className:"border-t border-b border-dashed border-gray-400 my-2 py-1",children:l.jsx("p",{className:"text-center font-bold text-sm",children:y})}),l.jsxs("div",{className:"text-xs space-y-1",children:[l.jsx(Os,{label:"No. Trx",value:o.transaction_code}),l.jsx(Os,{label:"Tanggal",value:bD(o.created_at)}),l.jsx(Os,{label:"Teller",value:o.staff_name}),l.jsx("div",{className:"border-t border-dashed my-1"}),l.jsx(Os,{label:"Nama Nasabah",value:o.customer_name}),w?l.jsx(Os,{label:"ID Pinjaman",value:o.loan_id}):l.jsx(Os,{label:"No. Rekening",value:o.customer_account_number}),l.jsx("div",{className:"border-t border-dashed my-1"}),l.jsx(Os,{label:"Keterangan",value:o.description,fullWidth:!0}),!w&&o.initial_balance!==null&&l.jsx(Os,{label:"Saldo Awal",value:q0(o.initial_balance)}),l.jsx(Os,{label:N,value:q0(o.amount)}),!w&&o.final_balance!==null&&l.jsx(Os,{label:"Saldo Akhir",value:q0(o.final_balance),isTotal:!0})]}),l.jsx("p",{className:"text-[10px] text-center mt-3",children:"Terima kasih atas kepercayaan Anda."}),l.jsx("p",{className:"text-[10px] text-center",children:"Simpan struk ini sebagai bukti transaksi."})]})}),l.jsx("div",{className:"mt-4 w-full max-w-[300px] no-print",children:l.jsxs(Te,{onClick:()=>window.print(),className:"flex items-center justify-center gap-2 w-full",children:[l.jsx(Jy,{size:18})," Cetak Ulang"]})})]})]})},ph=()=>{const t=localStorage.getItem("authToken"),e=localStorage.getItem("authUser");if(t&&e)try{return{isAuthenticated:!0,user:JSON.parse(e)}}catch{return{isAuthenticated:!1,user:null}}return{isAuthenticated:!1,user:null}},K0=({children:t,adminOnly:e=!1})=>{const{isAuthenticated:n,user:i}=ph();return n?e&&Number(i.roleId) == "9"?l.jsx(Ql,{to:"/dashboard",replace:!0}):!e&&i.roleId!== "9"?l.jsx(Ql,{to:"/admin/dashboard",replace:!0}):t:l.jsx(Ql,{to:"/login",replace:!0})},xc=({children:t})=>{const{isAuthenticated:e,user:n}=ph();return e?Number(n.roleId) == "9"?l.jsx(Ql,{to:"/dashboard",replace:!0}):l.jsx(Ql,{to:"/admin/dashboard",replace:!0}):t},_D=()=>{const{user:t}=ph(),e=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),window.location.href="/"};return l.jsx(DS,{user:t,onLogout:e})},vD=()=>{const{user:t}=ph(),e=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),window.location.href="/"};return l.jsx(CS,{user:t,onLogout:e})};function ND(){return l.jsx(wS,{children:l.jsx(vS,{children:l.jsxs(Vv,{children:[l.jsx(He,{path:"/",element:l.jsx(xc,{children:l.jsx(RS,{})})}),l.jsx(He,{path:"/login",element:l.jsx(xc,{children:l.jsx(kS,{})})}),l.jsx(He,{path:"/register",element:l.jsx(xc,{children:l.jsx(IS,{})})}),l.jsx(He,{path:"/forgot-password",element:l.jsx(xc,{children:l.jsx(LS,{})})}),l.jsx(He,{path:"/reset-password",element:l.jsx(xc,{children:l.jsx(BS,{})})}),l.jsxs(He,{element:l.jsx(K0,{children:l.jsx(vD,{})}),children:[l.jsx(He,{path:"/dashboard",element:l.jsx(TT,{})}),l.jsx(He,{path:"/history",element:l.jsx(OT,{})}),l.jsx(He,{path:"/payment",element:l.jsx(w8,{})}),l.jsx(He,{path:"/bills",element:l.jsx(Z8,{})}),l.jsx(He,{path:"/profile",element:l.jsx(k8,{})}),l.jsx(He,{path:"/profile/info",element:l.jsx(F8,{})}),l.jsx(He,{path:"/profile/change-pin",element:l.jsx(I8,{})}),l.jsx(He,{path:"/profile/change-password",element:l.jsx(U8,{})}),l.jsx(He,{path:"/profile/beneficiaries",element:l.jsx(O8,{})}),l.jsx(He,{path:"/profile/cards",element:l.jsx(B8,{})}),l.jsx(He,{path:"/profile/withdrawal-accounts",element:l.jsx(K8,{})}),l.jsx(He,{path:"/notifications",element:l.jsx(z8,{})}),l.jsx(He,{path:"/transfer",element:l.jsx(A8,{})}),l.jsx(He,{path:"/loan-products",element:l.jsx(C8,{})}),l.jsx(He,{path:"/loan-application/:productId",element:l.jsx(E8,{})}),l.jsx(He,{path:"/my-loans",element:l.jsx(j8,{})}),l.jsx(He,{path:"/my-loans/:loanId",element:l.jsx(D8,{})}),l.jsx(He,{path:"/deposits",element:l.jsx(V8,{})}),l.jsx(He,{path:"/deposits/open",element:l.jsx(Y8,{})}),l.jsx(He,{path:"/deposits/:depositId",element:l.jsx(G8,{})}),l.jsx(He,{path:"/topup",element:l.jsx(W8,{})}),l.jsx(He,{path:"/withdrawal",element:l.jsx(q8,{})}),l.jsx(He,{path:"/investments",element:l.jsx($8,{})})]}),l.jsxs(He,{path:"/admin",element:l.jsx(K0,{adminOnly:!0,children:l.jsx(_D,{})}),children:[l.jsx(He,{path:"dashboard",element:l.jsx(uM,{})}),l.jsx(He,{path:"customers",element:l.jsx(dM,{})}),l.jsx(He,{path:"customers/add",element:l.jsx(xM,{})}),l.jsx(He,{path:"customers/:customerId",element:l.jsx(mM,{})}),l.jsx(He,{path:"customers/edit/:customerId",element:l.jsx(gM,{})}),l.jsx(He,{path:"topup-requests",element:l.jsx(hD,{})}),l.jsx(He,{path:"withdrawal-requests",element:l.jsx(mD,{})}),l.jsx(He,{path:"transactions",element:l.jsx(_M,{})}),l.jsx(He,{path:"loan-products",element:l.jsx(NM,{})}),l.jsx(He,{path:"deposit-products",element:l.jsx(CM,{})}),l.jsx(He,{path:"deposit-accounts",element:l.jsx(TM,{})}),l.jsx(He,{path:"loan-applications",element:l.jsx(jM,{})}),l.jsx(He,{path:"loan-applications/:loanId",element:l.jsx(DM,{})}),l.jsx(He,{path:"loan-accounts",element:l.jsx(IM,{})}),l.jsx(He,{path:"units",element:l.jsx(RM,{})}),l.jsx(He,{path:"card-requests",element:l.jsx(YM,{})}),l.jsx(He,{path:"staff",element:l.jsx(HM,{})}),l.jsx(He,{path:"staff/:staffId/edit",element:l.jsx(VM,{})}),l.jsx(He,{path:"reports",element:l.jsx(iD,{})}),l.jsx(He,{path:"settings",element:l.jsx(PM,{})}),l.jsx(He,{path:"notifications",element:l.jsx(lD,{})}),l.jsx(He,{path:"audit-log",element:l.jsx(xD,{})}),l.jsx(He,{path:"teller-deposit",element:l.jsx(pD,{})}),l.jsx(He,{path:"teller-loan-payment",element:l.jsx(yD,{})})]}),l.jsx(He,{path:"/admin/print-receipt/:transactionId",element:l.jsx(K0,{adminOnly:!0,children:l.jsx(wD,{})})})," ",l.jsx(He,{path:"*",element:l.jsx(Ql,{to:"/",replace:!0})})]})})})}const AD="modulepreload",SD=function(t){return"/"+t},vy={},CD=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let y=function(N){return Promise.all(N.map(A=>Promise.resolve(A).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};var f=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),w=p?.nonce||p?.getAttribute("nonce");o=y(n.map(N=>{if(N=SD(N),N in vy)return;vy[N]=!0;const A=N.endsWith(".css"),T=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${N}"]${T}`))return;const j=document.createElement("link");if(j.rel=A?"stylesheet":AD,A||(j.as="script"),j.crossOrigin="",j.href=N,w&&j.setAttribute("nonce",w),document.head.appendChild(j),A)return new Promise((M,k)=>{j.addEventListener("load",M),j.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${N}`)))})}))}function u(p){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=p,window.dispatchEvent(w),!w.defaultPrevented)throw p}return o.then(p=>{for(const w of p||[])w.status==="rejected"&&u(w.reason);return e().catch(u)})};function ED(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:o,onRegisteredSW:u,onRegisterError:f}=t;let p,w;const y=async(A=!0)=>{await w};async function N(){if("serviceWorker"in navigator){if(p=await CD(async()=>{const{Workbox:A}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:A}},[]).then(({Workbox:A})=>new A("/sw.js",{scope:"/",type:"classic"})).catch(A=>{f?.(A)}),!p)return;p.addEventListener("activated",A=>{(A.isUpdate||A.isExternal)&&window.location.reload()}),p.addEventListener("installed",A=>{A.isUpdate||i?.()}),p.register({immediate:e}).then(A=>{u?u("/sw.js",A):o?.(A)}).catch(A=>{f?.(A)})}}return w=N(),y}ED({immediate:!0});Y_.createRoot(document.getElementById("root")).render(l.jsx(Z0.StrictMode,{children:l.jsx(mN,{children:l.jsx(ND,{})})}));